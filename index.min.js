(function(){var e,a,o,t;o="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,a=void 0,t=void 0,e=0,window.sliderArray=[],t={nameID:"",sizeSlider:""},o.init=function(){var r,n,i,l,s,c,d,u,p;if(null,s=void 0,i=void 0,n=void 0,r=void 0,p=localStorage.getItem("vista"),u=$("#bx-pager >").length,$("#top").lenght>=1&&(a=$("#top").offset().top-80),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($("html").addClass("mobile"),$(".shareIcon, .cuadroShare").on("click",function(e){return e.stopPropagation(),$(this).toggleClass("show")}),$(".contProductoSlider .productbox").on("click",function(e){return e.stopPropagation(),$(this).toggleClass("hover")})):$("html").addClass("desktop"),location!==top.location&&$("html").addClass("iframe"),0===$(".mainSection").length&&$("header").addClass("fixed"),window.addSlider=function(e,a,r){var n,i,l,s,c;if(i=!1,t=new Object,t.nameID=e,t.sizeSlider=parseInt(a),t.movil=r,void 0===r&&(t.movil="desktop"),-1!==(n=window.sliderArray.length-1))for(l=0;l<=n;)s=window.sliderArray[l].nameID,c=t.nameID,s===c&&(i=!0),l++;if(!1===i){switch(t.sizeSlider){case 0:window[t.nameID]=$("#"+t.nameID).slick({infinite:!0,arrows:!0,dots:!1,autoplay:!0,autoplaySpeed:6e3});break;case 1:window[t.nameID]=$("#"+t.nameID).slick({infinite:!0,arrows:!0,dots:!1,autoplay:!0,variableWidth:!0,autoplaySpeed:6e3});break;case 2:window[t.nameID]=$("#"+t.nameID).slick({infinite:!0,arrows:!0,dots:!1,variableWidth:!0,slidesToScroll:5,zIndex:5,responsive:[{breakpoint:1365,settings:{slidesToScroll:4}},{breakpoint:1093,settings:{slidesToScroll:3}},{breakpoint:822,settings:{slidesToScroll:2}},{breakpoint:560,settings:{slidesToScroll:1}}]});break;case 3:window[t.nameID]=$("#"+t.nameID).slick({infinite:!0,arrows:!0,dots:!1,variableWidth:!0,slidesToScroll:4,autoplay:!0,autoplaySpeed:6e3,zIndex:1});break;case 4:window[t.nameID]=$("#"+t.nameID).slick({fade:!0,dots:!1,arrows:!1,asNavFor:"#bx-pager_"+t.nameID}),window[t.nameID+"_bx"]=$("#bx-pager_"+t.nameID).slick({slidesToShow:5,slidesToScroll:1,asNavFor:"#"+t.nameID,dots:!1,arrows:!0,focusOnSelect:!0,centerMode:!0,vertical:!0,verticalSwiping:!0});break;case 5:window[t.nameID]=$("#"+t.nameID).slick({infinite:!1,arrows:!0,slidesToShow:4,slidesToScroll:1,dots:!1,autoplay:!1,variableWidth:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1048,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:830,settings:{slidesToShow:2,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:750,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:560,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!1}}]});break;case 6:window[t.nameID]=$("#"+t.nameID).slick({infinite:!0,arrows:!0,dots:!1,variableWidth:!0,slidesToScroll:4,autoplay:!0,autoplaySpeed:6e3,zIndex:1,responsive:[{breakpoint:1252,settings:{slidesToScroll:3}},{breakpoint:947,settings:{slidesToScroll:2}},{breakpoint:600,settings:{slidesToScroll:1}}]});break;case 7:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window[t.nameID]=$("#"+t.nameID).slick({infinite:!1,arrows:!0,dots:!1,variableWidth:!0,autoplay:!0,autoplaySpeed:6e3}):window[t.nameID]=$("#"+t.nameID).slick({infinite:!1,arrows:!0,dots:!1,variableWidth:!0,autoplay:!0,autoplaySpeed:6e3,slidesToShow:6,slidesToScroll:1,zIndex:1,responsive:[{breakpoint:1580,settings:{slidesToShow:6,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:1264,settings:{slidesToShow:4,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:949,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!1}},{breakpoint:641,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!1}}]})}return o.sliderArray.push(t)}},window.destruyeSlider=function(e){var a,o,t,r;if(o=0,t=void 0,void 0===(t=e)){for(a=window.sliderArray.length-1,r=[];o<=a;)window[sliderArray[o].nameID].slick("unslick"),$("#"+window[t]).removeAttr("style"),r.push(o++);return r}return window[t].slick("unslick"),$("#"+t).removeAttr("style")},window.recreaSlider=function(e){var a,o,t,r;if(o=0,t=void 0,void 0===(t=e)){for(a=window.sliderArray.length-1,r=[];o<=a;)window[sliderArray[o].nameID].slick("refresh"),r.push(o++);return r}return window[t].slick("refresh")},o.wishlistAgregado=function(){return $(".WH-btns").fadeOut(),$(".blueHeart2").hide(),$(".respuestaListaDeDeseos").slideDown("slow"),setTimeout(function(){return $.fancybox.close(),$(".respuestaListaDeDeseos").hide(),$(".blueHeart2, .WH-btns").show()},2e3)},window.scrollSlider=function(e){var a;return e=e,a=e,!0===a||void 0===a?$(".rowProductos .slick-initialized").each(function(e){return destruyeSlider($(this).attr("id")),$(".contProductoSlider").addClass("scrollSlider")}):!1===a?($(".contProductoSlider").removeClass("scrollSlider"),$(".rowProductos > div").each(function(e){var a;return a=$(this).attr("id"),recreaSlider(a)})):void 0},o.headerUp=function(){return $("header").hasClass("upHeader")?$("header").removeClass("upHeader"):($("header").addClass("upHeader"),$(".header__inferior .productosNewCat").addClass("hide"))},l=function(){return $(".header__inferior li").removeClass("hover"),$("html").removeClass("fixed")},o.productoSnScroll=function(){return $(".contCarruselProd >").each(function(){return $(this).unwrap()})},o.ajustaImagen=function(){return $(".contImgProd img").each(function(e){var a,o;return o=$(this).width(),a=$(this).height(),a===o&&o===a?$(this).removeClass("alto"):a>o?$(this).addClass("alto"):o>a?$(this).removeClass("alto"):void 0})},o.filtroSamsung=function(){return $(".Samsungch-btnMenu").on("click",function(){return $(this).toggleClass("view"),$(this).hasClass("view")?$(this).text("Ocultar filtros"):$(this).text("Mostrar filtros")})},$(".Samsungch-btnMenu").length>0&&o.filtroSamsung(),o.loading=function(e){switch(e){case!0:if(0===$(".oneMomentPlease").length)return $('<div class="oneMomentPlease"><span class="fa fa-pulse"></span></div>').insertAfter("footer");break;case!1:return $(".oneMomentPlease").remove()}},o.loadingPaypal=function(e){switch(e){case!0:if(0===$(".oneMomentPleaseP").length)return $('<div class="oneMomentPleaseP"><span class="fa fa-pulse"></span></div>').insertAfter("footer");break;case!1:return $(".oneMomentPlease").remove()}},o.alertaGenerica=function(e){return $("body").prepend('<div class="modal__Notificaction"><div class="content_notificaction"><div class="cerrar">Cerrar</div><p> '+e+' </p><a href="#" class="btn-gris close"> ok</a></div></div>'),$(".content_notificaction .btn-gris.close,.content_notificaction .cerrar").on("click",function(){return $(".modal__Notificaction").remove()})},o.confirmGenerico=function(e,a,o){return $("body").prepend('<div class="modal__Notificaction"><div class="content_notificaction"><div class="cerrar">Cerrar</div><p style="text-align: center;">'+e+' </p><div class="cont-btns"><a onClick=" '+o+' " class="btn-gris close"> Cancelar </a><a onClick=" '+a+' " class="btn-rojo next"> Aceptar </a> </div></div></div>'),$(".content_notificaction .btn-gris, .content_notificaction .btn-rojo, .content_notificaction .btn-azul, .content_notificaction .cerrar").on("click",function(){return $(".modal__Notificaction").remove()})},o.alertaTimeGenerico=function(e,a){var o;return $("body").prepend('<div class="modal__Notificaction"><div class="content_notificaction"><p style="text-align: center;">'+e+" </p></div></div>"),o=function(){return $(".modal__Notificaction").remove()},setTimeout(o,a)},o.magAuto=function(){var e,a,o,t,r;return r=$(window).width(),t=880,o=320,a=r,e=o/t*a,$(".sec__slider .magazine, .sec__slider .magazine .bx-viewport").height(e)},o.magAutoL=function(){var e,a,o,t,r;return r=$(".conProductos").width(),t=980,o=300,a=r,e=o/t*a,$(".conProductos .magazine img").width(a),$(".conProductos .magazine, .conProductos .magazine .bx-viewport, .conProductos .magazine img").height(e)},o.magReset=function(){return $(".sec__slider .magazine, .sec__slider .magazine .bx-viewport").height(320)},o.filtroLand=function(e){var a;return void 0===e||""===e?e="":a="."+e,$(".landFilters li.active").length>=1?$(".landingNew .conProductos").addClass("ocultarProductos"):0===$(".landFilters li.active").length&&$(".landingNew .conProductos").removeClass("ocultarProductos"),$(".card__product"+a).toggleClass("show")},o.filtros=function(){return $(".filtro").toggleClass("show"),$(".filtro").hasClass("show")?($(".sec__sliderInterno .conent__filtro, .sec__sliderInterno .menuTienda").slideDown(100),$(".filtro").text("Ocultar filtros")):($(".sec__sliderInterno .conent__filtro, .sec__sliderInterno .menuTienda").slideUp(100),$(".filtro").text("Mostrar filtros"))},o.filtroMobile=function(){if($(window).innerWidth()<=780&&$(".sec__sliderInterno .conent__filtro").length>=1&&($(".sec__sliderInterno .conent__filtro").hide(),0===$(".filtro").length))return $(".sec__sliderInterno .conent__filtro").before('<div class="filtro">Mostrar filtros</div>'),$(".filtro").on("click",filtros)},o.scrollProducto=function(){$(".carruselProd.js__slider5").each(function(e){var a,o,t,r;r=$(this).children(".card__product").length,a=$(this).children(".card__product").innerWidth(),o=a+2,t=r*o,$(".carruselProd.js__slider5:eq("+e+")").wrap('<div class="contCarruselProd">'),$(this).children(".card__product").css("width",a),$(this).css("width",t)}),$(".carruselProd.js__slider4").each(function(e){var a,o,t,r;r=$(this).children(".card__product").length,a=$(this).children(".card__product").innerWidth(),o=a+2,t=r*o,$(".carruselProd.js__slider4:eq("+e+")").wrap('<div class="contCarruselProd">'),$(this).children(".card__product").css("width",a),$(this).css("width",t)})},o.widthCard=function(){var e;return e=$(".card__product").innerWidth(),$(".bx-wrapper .carruselProd > .card__product").css("width",e)},o.widthCard2=function(){var e;return e=$(".tiendasCont .partner").innerWidth(),".bx-wrapper .carruselProd > .partner".css("width",e)},o.ajustar=function(e){var a,o,t,r;for($(e).removeAttr("style","height"),a=[],r=$(e).length-1,o=0;o<=r;)a.push($(e).eq(o).height()),o++;t=Math.max.apply(null,a),$(e).height(t)},o.setSize2=function(){return $("header").addClass("viewSearch"),l(),$(window).innerWidth(),$(".js__slider4").length,$(".js__slider5").length,scrollProducto()},o.setSlider=function(){var e,a;switch(l(),magAutoL(),e=$(window).innerWidth(),a=null,e>=1102?a=!0:e<=1101&&(a=!1),a){case!0:try{return pagerBx1.reloadSlider(),pagerBx2.reloadSlider()}catch(e){}break;case!1:try{return pagerBx1.destroySlider(),pagerBx2.destroySlider()}catch(e){}}},o.setSize=function(){var e;if(l(),magAutoL(),e=$(window).innerWidth(),$(".js__slider4").length,$(".js__slider5").length,$("header").removeClass("show"),$(".header__inferior").removeClass("view"),$(".header__movil").removeClass("view"),$(".desktopMenu").removeClass("close"),e<=780?(magAuto(),$(".header__navegation li").removeClass("hover"),$("header").removeClass("show"),$("html,body").removeClass("sinScroll"),$("header").addClass("viewSearch"),$(".header__navegation li").removeClass("active"),$(".desktopMenu").addClass("movil"),filtroMobile()):e>=781&&(magReset(),$("header").removeClass("show"),$("html,body").removeClass("sinScroll"),$("header").removeClass("viewSearch"),$(".desktopMenu").removeClass("movil"),$(".sec__sliderInterno .conent__filtro").length>=1&&($(".sec__sliderInterno .conent__filtro").show(),$(".filtro").remove())),e>=481);else if(e<=480)return setTimeout(function(){return $(".js__slider4 .card__product,.js__slider5 .card__product").removeAttr("style","width"),$(".js__slider4.carruselProd, .js__slider5.carruselProd").removeAttr("style"),scrollProducto()},10)},o.filtroActivo=function(){var e;return e=$('.filtroCategoria input[type="checkbox"]:checked').length,e>=1?($(".magazine, .hideFiltro").hide(),$(".content__Filter").show()):0===e?($(".magazine, .hideFiltro").show(),$(".content__Filter").hide()):void 0},o.menuProductoDescrip=function(){return $(".mod__DescripcionP .viewMenu > li:eq(0)").addClass("select"),$(".mod__DescripcionP .viewDescrip > li:eq(0)").addClass("show"),$(".mod__DescripcionP .viewMenu > li").on("click",function(){var e;return e=$(this).index(),$(".mod__DescripcionP .viewMenu > li").removeClass("select"),$(".mod__DescripcionP .viewDescrip > li").removeClass("show"),$(this).addClass("select"),$(".mod__DescripcionP .viewDescrip > li:eq("+e+")").addClass("show")})},o.jsYoutube=function(){var e,a;for(i=$("ul.carrusel-catalogo li iframe").length-1,n=$(this).data("slide-index"),1===$("ul.carrusel-catalogo li:nth-child("+n+"2) iframe").length?r=$("ul.carrusel-catalogo li:nth-child("+n+"2) iframe").data("val")-1:0===$("ul.carrusel-catalogo li:nth-child("+n+"2) iframe").length&&(r=-1),e=0;e<r;)$("ul.carrusel-catalogo li iframe:eq("+e+")").attr("src",t[e]),e++;for(a=r+1;a<i;)$("ul.carrusel-catalogo li iframe:eq("+a+")").attr("src",t[a]),a++},o.elTooltip=function(){var e,a,o;return e=void 0,a=void 0,o=void 0,void 0,void 0,$(this).mousemove(function(t){e=t.pageY+20,a=t.pageX,o=$(this).data("tooltip"),$(".tooltipText").css({top:e,left:a}),$(".tooltipText").show(),$(".tooltipText").is(":visible")||$(".tooltip").append('<div class="tooltipText">'+o+"</div>")})},o.sinTooltip=function(){$(".tooltipText").remove()},o.menuTiendas=function(){var e,a;return e=$("nav.menuTiendas >ul> li").length,a=100/e,$("nav.menuTiendas >ul> li").css("width",a+"%")},o.filtrosOpen=function(){var e,a,o,t;return e=$(window).innerWidth(),a=$(window).scrollTop(),o=8,t=o-a,e>=761?$("#open-filtros").removeAttr("style"):e<=760?$("#open-filtros").attr({style:"top:"+t+"px;"}):void 0},o.calculaCategorias=function(){var e,a,o,t,r;if((!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||/Android|iPad/i.test(navigator.userAgent))&&$(window).width()>760)return a=Math.round($(".productosCateg").offset().top)-17,e=$(".productosCateg").innerHeight()-$(".header__middle").height(),o=a+e,r=$(window).scrollTop()+$(".header__middle").height(),r>=a&&r<=o?($(".categories").addClass("fixed"),$(".categories").removeAttr("style"),$("header").hasClass("upHeader"),$(".categories").attr("style","position:fixed; top:0px")):r>=o?($("header").hasClass("upHeader"),t=0-(r-o),$(".categories").attr("style","top:"+t+"px")):($(".categories").removeClass("fixed"),$(".categories").removeAttr("style"))},$.each($(".tooltip"),function(e){$(this).parent().on("click",function(){var e,a;return e=$(this).children(".tooltip").position().top-22,a=$(this).children(".tooltip").data("tooltip"),$(".infoTooltip").css("top",e),$(".infoTooltip p").html(a),$(this).children(".tooltip").hasClass("menos")?($(".tooltip").removeClass("menos"),$(".infoTooltip").removeClass("show")):($(".tooltip").removeClass("menos"),$(this).children(".tooltip").addClass("menos"),$(".infoTooltip").addClass("show"))})}),$("ul.carrusel-catalogo li iframe").length>=1&&(d=[],$("ul.carrusel-catalogo li iframe").each(function(e){$(this).attr("data-val",e+1),d.push($(this).attr("src"))}),$("#bx-pager a").on("click",s)),$(".header__inferior .productosHead .productosCat > a").on("click",function(){return $(".header__inferior .productosHead .productosCat > a + .menuHeader").length>=1?$(this).parent().hasClass("hover")?($(".header__inferior  ul > li a").parent().removeClass("hover"),$("html").removeClass("fixed")):($(".header__inferior  ul > li a").parent().removeClass("hover"),$("html").removeClass("fixed"),$(this).parent().addClass("hover"),$("html").addClass("fixed")):($(".header__inferior  ul > li a").parent().removeClass("hover"),$("html").removeClass("fixed"))}),$.each($(".header__inferior ul > li"),function(e){if(0===$(".header__inferior  ul > li:eq("+e+") a + .menuHeader").length)return $(".header__inferior  ul > li:eq("+e+")").addClass("alone")}),o.magazine=$(".conProductos .slider__index").bxSlider({slideWidth:1500,useCSS:!0,auto:!0,autoControls:!0,responsive:!0,pause:6e3,hideControlOnEnd:!0,captions:!0,controls:!0}),o.slider2=$(".carruselProd.js__slider2").bxSlider({minSlides:1,maxSlides:3,useCSS:!0,pause:6e3,auto:!0,slideWidth:375,slideMargin:2,pager:!1}),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))try{$(".zoomOut").elevateZoom({zoomType:"window",cursor:"crosshair",borderSize:1,showLens:!0,borderColour:"#ddd",zoomWindowOffetx:30,zoomWindowFadeIn:500,zoomWindowFadeOut:0})}catch(e){}$(".carrusel-producto img, .carrusel-productoS img").length>=2?(o.sliderProducto=$(".carrusel-producto").bxSlider({pagerCustom:"#bx-pager",slideWidth:627,useCSS:!0,infiniteLoop:!1}),o.sliderProductoS=$(".carrusel-productoS").bxSlider({pagerCustom:"#bx-pager",slideWidth:627,useCSS:!0,infiniteLoop:!1}),o.pagerBx1=$("#bx-pager").bxSlider({slideWidth:200,wrapperClass:"bx-slide",minSlides:1,maxSlides:20,moveSlides:1,responsive:!1,touchEnabled:!1,slideMargin:0,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1}),o.pagerBx2=$("#bx-pager2").bxSlider({slideWidth:60,mode:"vertical",wrapperClass:"bx-slide",minSlides:1,maxSlides:20,moveSlides:1,responsive:!1,touchEnabled:!1,slideMargin:0,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1})):0===$(".carrusel-producto img, .carrusel-productoS img").length?1===$(".carrusel-producto iframe, .carrusel-productoS iframe").length&&($("#bx-pager").remove(),$(".carrusel-producto").addClass("oneVideo")):0===$(".carrusel-producto iframe, .carrusel-productoS iframe").length?($("#bx-pager").remove(),$(".carrusel-producto").addClass("oneImage")):(o.sliderProducto=$(".carrusel-producto").bxSlider({pagerCustom:"#bx-pager",slideWidth:627,useCSS:!0,infiniteLoop:!1}),o.sliderProductoS=$(".carrusel-productoS").bxSlider({pagerCustom:"#bx-pager",slideWidth:627,useCSS:!0,infiniteLoop:!1}),o.pagerBx1=$("#bx-pager").bxSlider({slideWidth:60,mode:"vertical",wrapperClass:"bx-slide",minSlides:1,maxSlides:20,moveSlides:1,responsive:!1,touchEnabled:!1,slideMargin:0,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1}),o.pagerBx2=$("#bx-pager2").bxSlider({slideWidth:60,mode:"vertical",wrapperClass:"bx-slide",minSlides:1,maxSlides:20,moveSlides:1,responsive:!1,touchEnabled:!1,slideMargin:0,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1})),o.sliderProductoE=$(".carrusel-productoE").bxSlider({pagerCustom:"#bx-pager2",slideWidth:627,useCSS:!0,infiniteLoop:!1}),o.marqueePromos=$("#marqueePromoscontent").bxSlider({minSlides:4,maxSlides:4,slideWidth:170,slideMargin:10,ticker:!0,tickerHover:!0,speed:1e4}),u>=6&&setSlider(),$(window).resize(function(){return u>=6&&setSlider(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?setSize2():setSize()}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$(".menuPrincipal .login, .menuPrincipal .ayuda, .menuPrincipal .cartPreview").on("click",function(){return $(this).hasClass("log")?$(this).toggleClass("log"):($(".menuPrincipal .login, .menuPrincipal .ayuda, .menuPrincipal .cartPreview").removeClass("log"),$(this).addClass("log"))}):($(".menuPrincipal .ayuda,.menuPrincipal .login,.menuPrincipal .cartPreview").on("mouseenter",function(){return $(this).addClass("log")}),$(".menuPrincipal .ayuda,.menuPrincipal .login,.menuPrincipal .cartPreview").on("mouseleave",function(){return $(this).removeClass("log")})),$(".nav__mobile").on("click",function(){return $("header").toggleClass("show"),$("header").removeClass("viewSearch"),$(".header__navegation li").removeClass("active"),!0===$("header").hasClass("show")?$("html,body").addClass("sinScroll"):$("html,body").removeClass("sinScroll")}),$(".menuPrincipal .buscar").on("click",function(e){return e.preventDefault,$("header").toggleClass("viewSearch"),$("header").removeClass("show"),$("html,body").removeClass("sinScroll")}),$(".nav__mobile").on("click",function(){return $(".menuTiendas li").removeClass("hover")}),$(".menuTiendas li").on("click",function(){return $("header").removeClass("show"),$("html,body").removeClass("sinScroll")}),$(".filtroCategoria input:checkbox").on("change",filtroActivo),$(".filtroSubCategoria dt:nth-child(1n+2)").on("click",function(){return $(".filtroCategoria").show()}),/Android | webOS | iPhone | iPad | iPod | BlackBerry | IEMobile | Opera Mini/i.test(navigator.userAgent)?$(window).width()<=780?$(".desktopMenu").addClass("movil"):($(".desktopMenu").removeClass("movil"),magAuto()):$(window).width()>=781?$(".desktopMenu").removeClass("movil"):($(".desktopMenu").addClass("movil"),magAuto()),$(".desktopMenu").on("click",function(){return $(".desktopMenu.movil").length>=1?($(".header__movil").toggleClass("view"),$(".header__movil.view").length>=1?($("header").removeClass("viewSearch"),$(".desktopMenu.movil").addClass("close"),$("html,header").addClass("fixed")):($(".desktopMenu.movil").removeClass("close"),$("html").removeClass("fixed"))):($(".header__inferior").toggleClass("view"),$("html").removeClass("fixed"),$(".productosCat").removeClass("hover"),$(".header__inferior.view").length>=1?$(".desktopMenu").addClass("close"):($(".desktopMenu").removeClass("close"),$(".header__inferior .productosNewCat").addClass("hide")))}),$(".header__inferior .productosNewCat").on("click",function(){return $(this).toggleClass("hide"),$(".header__inferior .productosNewCat.hide").length>=1?$(".header__inferior .productosNewCat").addClass("hide"):$(".header__inferior .productosNewCat").removeClass("hide")}),$(".header__inferior .productosNewCat >a").on("click",function(e){return e.preventDefault()}),$(".menuTienda nav dt a strong").parent().parent().addClass("activo"),$(".suggestSearch").keypress("click",function(){return $(".suggestSearchBox").is(":visible"),$(".suggestSearchBox").show()}),$('.suggestSearch input[type="search"]').blur(function(){return $(".suggestSearchBox").hide()}),$(".subastas-popup .cerrar").click(function(){return $(".subastas-popup").fadeOut()}),$(".seccInbursa >ul >li >a").on("click",function(){return $(".seccInbursa >ul >li").removeClass("active"),$(this).parent().toggleClass("active")}),$(".navegacionM > dl > dt").on("click",function(){return $(this).parent().hasClass("show")?$(".navegacionM > dl").removeClass("show"):($(".navegacionM > dl").removeClass("show"),$(this).parent().toggleClass("show"))}),$(".navegacionM > dl > dd > dl > dt").on("click",function(){return $(this).hasClass("show")?$(".navegacionM > dl > dd > dl > dt").removeClass("show"):($(".navegacionM > dl > dd > dl > dt").removeClass("show"),$(this).toggleClass("show"))}),1===$(".header__inferiorCheckout").length&&$("body").addClass("proceso"),$(".conent__filtro nav dl dt, .menuTienda nav dl dt").on("click",function(){return $(this).next("dd").is(":visible")?$(".conent__filtro nav dl dd, .menuTienda nav dl dd").hide():($(".conent__filtro nav dl dd, .menuTienda nav dl dd").hide(),$(this).next("dd").slideDown(100))});try{c=$(".notificaciones >nav li.active").index(),$("aside.contNotif li:eq("+c+")").fadeIn(100)}catch(e){}return $(".notificaciones >nav li").on("click",function(){return c=$(this).index(),$(".notificaciones >nav li").removeClass("active"),$(this).addClass("active"),$("aside.contNotif > ul > li").hide(),$("aside.contNotif > ul > li:eq("+c+")").fadeIn()}),$(".landFilters li").on("click",function(){var e;return $(this).toggleClass("active"),e=$(this).attr("class").replace("active",""),setTimeout(function(){return filtroLand(e),100})}),menuTiendas(),menuProductoDescrip(),magAutoL(),$('input[value="direccion_nueva"]').on("change",function(){return $(".fp_direccion_tarjeta").toggleClass("active")}),$('input[value="direccion_entrega"]').on("change",function(){return $(".fp_direccion_tarjeta").removeClass("active")}),$(".print a, .printLi a").on("click",function(){return window.print()}),$(".btn-return").on("click",function(){return window.history.back(-1)}),$(".cerrarCajaFiltros").on("click",function(){return $(".conent__filtro").removeClass("fixed")}),$(".tabsLoMas .loMasBtns li a").on("click",function(){var e,a,o;return e=$(this),o=e.parent().index(),a=$(".tabsLoMas .rowProductos:eq("+o+") .contProductoSlider").attr("id"),$(".tabsLoMas .loMasBtns a").removeClass("activeLetter"),e.addClass("activeLetter"),$(".tabsLoMas .rowProductos").hide(),$(".tabsLoMas .rowProductos:eq("+o+")").fadeIn(),recreaSlider(a)}),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&($(".fixHeader").addClass("wAppM"),$(".appM").show().addClass("ios"),$(".appM .btn-download.android").remove(),$(".appM .btn-download.apple").show(),$(".appM .close").on("click",function(){return $(".appM").remove(),$(".fixHeader").removeClass("wAppM")})),/Android/i.test(navigator.userAgent)&&($(".fixHeader").addClass("wAppM"),$(".appM").show().addClass("android"),$(".appM .btn-download.apple").remove(),$(".appM .btn-download.android").show(),$(".appM .close").on("click",function(){return $(".appM").remove(),$(".fixHeader").removeClass("wAppM")})),$(".btnCount").on("click",function(){var e,a;return e=void 0,a=void 0,a=$(this).parent().find(".countValue").val(),e=a,$(this).hasClass("btnPlus")&&(e=parseFloat(a)+1),$(this).hasClass("btnMinus")&&(e=a>1?parseFloat(a)-1:1),$(this).parent().find(".countValue").val(e)}),$(".lineHeart .blueHeart2").on("click",function(){var e;return e=$(this),e.parent().addClass("blueHeart")}),$(".top-nav-collapse.radios").length>=1&&($(".top-nav-collapse.radios dt").on("click",function(){var e,a;return e=$(this),a=e.find("input").attr("name"),e.find("input").prop("checked",!0),$(".top-nav-collapse.radios").find('input[name="'+a+'"]').parent().removeClass("active"),e.addClass("active")}),$(".top-nav-collapse.radios h3").on("click",function(){var e;return e=$(this),e.parent().children("dl").toggleClass("active")})),$(".selectCategorias").on("change",function(){var e;return e=$(this).children("option:selected").text(),$("#recibeCategorias").text(e)}),$("#open-filtros").on("click",function(){return $(".conent__filtro").addClass("fixed")}),$(".aplicar a").on("click",function(){return $(".conent__filtro").removeClass("fixed")}),$(".menuCategorias.subCat h3").on("click",function(){return $(this).parent().toggleClass("active")}),$(".menuCategorias.btnDespfiltros h3").on("click",function(){return $(this).parent().parent().toggleClass("active")}),o.cartAnimate=function(){return $(".addCart-animate").off("click"),$("li.addCart").on("click",".addCart-animate",function(){$(this).addClass("test"),$(".box__carrito").addClass("box-visible"),$(this).parent().addClass("agr"),$("header").removeClass("upHeader"),setTimeout(function(){$(".box__carrito").removeClass("box-visible"),$("li.addCart > .addCart-animate").removeClass("test"),$("li.addCart").removeClass("agr"),headerUp()},1e3)})},$(".popUp-btns .SeguirComp, .botonCerrarModal .SC-b").on("click",function(){return $.fancybox.close()}),$(".upperfooter h4").on("click",function(){return $(this).toggleClass("active")}),"true"===p?($(".listado").addClass("active"),$(".contentProductsCategory").addClass("view2"),$(".card__product").parent().parent().addClass("view2")):($(".mosaico").addClass("active"),$(".contentProductsCategory").removeClass("view2"),$(".card__product").parent().parent().removeClass("view2")),$(".vistas .listado, .vistas .mosaico").on("click",function(){return $(".vistas a").removeClass("active"),$(this).addClass("active"),$(".listado").hasClass("active")?($(".contentProductsCategory").addClass("view2"),$(".card__product").parent().parent().addClass("view2"),localStorage.setItem("vista","true")):($(".contentProductsCategory").removeClass("view2"),$(".card__product").parent().parent().removeClass("view2"),localStorage.removeItem("vista"))}),$(".boxct").on("click",function(){return $(".boxct").removeClass("active"),$(this).addClass("active"),$(".productosCateg").fadeOut().delay(50).fadeIn()}),$(".menuCategorias").each(function(){var e;e=$(this),$(".top-nav-collapse.radios").hide(),$(".top-nav-collapse.radios").prev().addClass("plus"),$(".top-nav-collapse.radios .active").parent().parent().slideDown(),$("h3.categ.btnDespText2 + div").prev().addClass("none"),e.find("h3").on("click",function(){e.find(".top-nav-collapse.radios").slideToggle(),e.find(".top-nav-collapse.radios").prev().toggleClass("plus")})}),o.zoomCont=function(){if(0!==$(".zoomContainer").length)return $(".zoomContainer").css("left","-1000px")},setTimeout(zoomCont,500),o.cuentaBanners=function(){0!==$("[class*=boxBan]").length&&$("[class*=boxBan]").each(function(){var e,a;e=$(this),a=e.children("a").length,e.removeClass().addClass("boxBan"+a)})}(),$(window).scroll(function(a){var o,t,r,n,i,l,s;return i=$(window).scrollTop(),t=127,r=96-i,n=$(".ht-contador").height(),s=$(window).scrollTop(),l=$(this).scrollTop(),filtrosOpen(),o=$(".mainSection").length>=1?127:-1,e=l,s>=n&&$(".ht-contador").hide(),i>o?($("header").addClass("fixed"),1===$("header:hover").length?$(".header__inferior .productosNewCat").removeClass("hide"):$(".header__inferior .productosNewCat").addClass("hide"),$(".wrapper").css("padding-top",t),$(".header__navegation li.search").css("top","60px"),$(".appM").remove(),$(".fixHeader").removeClass("wAppM")):($("header").removeClass("fixed"),$(".wrapper").removeAttr("style"),$(".header__navegation li.search").css("top",r)),$(".productosCateg").length>=1&&calculaCategorias(),$(this).scrollTop()>=50?$("#boton-ir-arriba").fadeIn():$("#boton-ir-arriba").fadeOut()})},$(document).on("ready",init),$(window).on("load",function(){var e;return e=$("#bx-pager >").length,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(o.setSize2(),o.filtroMobile()),e>=6&&o.setSlider(),$("html").hasClass(!1)&&($(".shareIcon, .cuadroShare").off("click"),$(".shareIcon, .cuadroShare").on("click",function(){return $(this).toggleClass("show")})),$("header .help").on("click",function(){return $(".zopim").toggleClass("show"),$(".zopim:eq(0)").remove(),$(".login").removeClass("log")}),$("header .login").on("click",function(){return $(".zopim").removeClass("show"),$(".zopim:eq(0)").remove()}),$(".addCart").on("click",function(e){return e.preventDefault()}),$(".lineHeart.bheartCarrusel").on("click",function(e){return e.preventDefault()}),-1!==navigator.userAgent.indexOf("Firefox")&&o.ajustaImagen(),$("html").hasClass("mobile")&&($(".shareIcon, .cuadroShare, .contProductoSlider .productbox").off("click"),$(".shareIcon, .cuadroShare").on("click",function(e){return e.stopPropagation(),$(this).toggleClass("show")}),$(".contProductoSlider .productbox").on("click",function(e){return e.stopPropagation(),$(this).toggleClass("hover")})),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(setTimeout(scrollSlider,1500),$(".loMasBtns a").on("click",function(){return setTimeout(scrollSlider,1500)})),o.cartAnimate(),$("#boton-ir-arriba").on("click",function(e){return e.preventDefault(),$("html,body").animate({scrollTop:0},900)}),$(".lineHeart .blueHeart2").on("click",function(){var e;return e=$(this),e.parent().addClass("blueHeart")})})}).call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,a=function(){function a(){}var t,r,n,i,l;return l=null,n=null,a.autocomplete=function(e,a,r){l=""===e?"https://sears.anteater.ai/autocompletar?cliente=sears":e,t(),n=o.AnteanterEstadistica,n.setUrlEstadisticas(a),n.setClient(r)},a.appStart=function(e,a,t,r){o.AnteaterApp.start(e,a),n=o.AnteanterEstadistica,n.setUrlEstadisticas(t),n.setClient(r)},t=function(){e(".anteanter_section .bt__search").on("click",function(){return r()}),e.widget("custom.claroComplete_anteanter",e.ui.autocomplete,{_renderMenu:function(a,o){var t;return t=this,e.each(o,function(e,o){o.label=o.cadena,o.title=o.cadena,o.value=o.cadena,t._renderItemData(a,o)})},_renderItemData:function(e,a){return this._renderItem(e,a).data("ui-autocomplete-item",a)},_renderItem:function(a,o){var t;return console.log(o),t=o.nombre,"word_item"===o.clase&&(t=e(e(o.nombre)[0]).html().replace(e(".anteanter_section #search").val(),"<em>"+e(".anteanter_section #search").val()+"</em>"),
t="<span>"+t+"</span>",console.log(t,e(".anteanter_section #search").val())),e("<li>").html(t).appendTo(a).addClass(o.clase)}}),e(".anteanter_section #search").claroComplete_anteanter({highlightClass:"bold-text",source:function(a,o){console.log("urlAutoComplete",l),e.ajax({url:l,type:"POST",headers:{"Access-Control-Allow-Origin":"*"},data:{search:a.term},success:function(e){var a,t,r,n,l,s,c,d,u,p;for(n=[],a=2,d=[],t=[],p=[],u=e.suggestions,l=s=0,c=u.length;s<c;l=++s)r=u[l],""!==r.cadena&&("category_item"===r.clase&&t.length<=a&&t.push(r),"store_item"===r.clase&&p.length<=a&&p.push(r),"word_item"===r.clase&&d.length<=a&&d.push(r));console.log("autocomplete",d,p,t),n=d.concat(t,p),console.log(n),console.log("unificarPalabras",i(n)),o(i(n))}})},minLength:0,max:300,select:function(a,o){var t;if(console.log("Selected: "+o.item.value+" aka "+o.item.id,o.item),"word_item"!==o.item.clase)return n.clickProductoObjet(o.item.clase,e(o.item.nombre).attr("href"),1,""),e(location).attr("href",e(o.item.nombre).attr("href"));t={q:o.item.value},console.log(t),console.log(n),n.clickProductoObjet(o.item.value,e(location).attr("hostname")+"/resultados?"+e.param(t),1,""),e(location).attr("href","/resultados/"+e.param(t))},focus:function(e,a){return a.item,console.log(a.item),!1}}).keydown(function(e){if(13===e.keyCode)return r()})},r=function(){var a,o,t,r;if(o=e(".anteanter_section #search").val(),console.log("palabra...",o),o.indexOf("sku:")>-1||o.indexOf("id:")>-1||o.indexOf("ean:")>-1){if(a=o.replace("sku:",""),a=o.replace("id",""),a=o.replace("ean",""),a.trim().length>0)return t={busquedaestricta:o},n.clickProductoObjet(o,e(location).attr("hostname")+"/resultados/q=/?"+e.param(t),1,""),e(location).attr("href","/resultados/q=/?"+e.param(t));console.log("else palabra...",o)}return r=e(".anteanter_section #search").val(),n.clickProductoObjet(r,e(location).attr("hostname")+"/resultados/q="+r,1,""),e(location).attr("href","/resultados/q="+r)},i=function(e){var a;return a={},e.filter(function(e){var o;return o=!a[e.nombre.toLowerCase()]||!1,a[e.nombre.toLowerCase()]=!0,o})},a}(),o.Anteater=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,a=function(){function a(){}var t,r,n,i,l,s,c,d,u;return t=null,c=null,n=null,i=null,a.start=function(e,a,r,l){t=o.AnteaterAPI,t.setUrlBuscador(e),t.setClient(a),c=o.Render,n=o.DataLeyer,i=o.AnteanterEstadistica,i.setUrlEstadisticas(r),i.setClient(l),t.calcParam().done(function(e){var a;return a=e.GSP.RES,void 0===a?(d(e),s([])):(d(e),s(e.GSP.RES.M))}),u()},d=function(a){var o,r,n,i,l,s,d,u,p,m,f,g,v,h,C,b;if(b="",h=[],o=a.GSP.RES,console.log(a.GSP),console.log(o),console.log(typeof o),void 0===o)h=[],i=[],r=[],g=[],s=[],a.GSP.hasOwnProperty("Spelling")&&(b=a.GSP.Spelling.Suggestion.V,console.log("sugerencia",a.GSP.Spelling.Suggestion.V)),c.resultsSearch([],t.getParams_query().q,b);else{for(1===a.GSP.RES.M||"1"===a.GSP.RES.M?h.push(a.GSP.RES.R):h=a.GSP.RES.R,r=a.GSP.RES.PARM.PMT.filter(function(e){return"marcas"===e.DN}),s=a.GSP.RES.PARM.PMT.filter(function(e){return"discount"===e.DN}),console.log("discounts==",s),i=a.GSP.RES.PARM.PMT.filter(function(e){return"categories"===e.DN}),g=a.GSP.RES.PARM.PMT.filter(function(e){return"sale_precio"===e.DN}),a.GSP.hasOwnProperty("Spelling")&&(b=a.GSP.Spelling.Suggestion.V,console.log("sugerencia",a.GSP.Spelling.Suggestion.V)),c.cardProducts(h),l=[],console.log(i),i[0].hasOwnProperty("PV")&&i[0].PV.hasOwnProperty("V")?l.push(i[0].PV):l=i[0].PV,console.log("categorias ===",l),n=[],r[0].hasOwnProperty("PV")&&r[0].PV.hasOwnProperty("V")?n.push(r[0].PV):n=r[0].PV,d=[],s[0].hasOwnProperty("PV")&&s[0].PV.hasOwnProperty("V")?d.push(s[0].PV):d=s[0].PV,v=[],g[0].hasOwnProperty("PV")&&g[0].PV.hasOwnProperty("V")?v.push(g[0].PV):v=g[0].PV,c.filterBrand(n),c.filterCategory(l),c.filterDiscounts(d),c.filterPrice(v),c.resultsSearch(a.GSP.RES.M,t.getParams_query().q,b),console.log("filtros.......",t.getRequiredfields()),e("#discount dl dt .clear-filter").remove(),C=t.getRequiredfields(),u=p=0,m=C.length;p<m;u=++p)f=C[u],"sale_price"===f.llave&&">="===f.operador?(e("#precio").hide(),e("#filtro_aplicado_precio").show(),e("#precioMenorAplicado").html(f.valor)):"sale_price"===f.llave&&"<="===f.operador?e("#precioMayorAplicado").html(f.valor):"discount"===f.llave&&">="===f.operador?e("#discount dl dt span").after('<span class="ui-icon ui-icon-close clear-filter"></span>'):e("."+f.llave).after('<span class="ui-icon ui-icon-close clear-filter"></span>');t.getFiltroCategory().length>0&&e(".categories").after('<span class="ui-icon ui-icon-close clear-filter"></span>')}return t.updateUrl()},u=function(){return e(".rowProductos").on("click",".cardProduct a",function(a){var o,r;e("#paginator").html(""),r=e(this).data("id"),o=e(this).data("idproducto"),n.productClick(parseInt(r)),i.clickProductoObjet(t.getParams_query().q,e(location).attr("href"),t.getPagina(),"<producto>:<"+o+">")}),e("#marcas").on("click",".marca-filter",function(a){var o;return a.preventDefault(),e("#paginator").html(""),o=e(this).data("filter"),t.agregarFiltro("attribute_marca",o,":"),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#marcas").on("click",".clear-filter",function(a){return e("#paginator").html(""),a.preventDefault(),t.quitarFiltro("attribute_marca"),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#categorias").on("click",".categoria-filter",function(a){var o;return a.preventDefault(),e("#paginator").html(""),o=e(this).data("filter"),t.agregarFiltroCategory(o),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#categorias").on("click",".clear-filter",function(a){return a.preventDefault(),e("#paginator").html(""),t.quitarFiltroCategory(),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#sliderPrecios").slider({range:!0,slide:function(a,o){e("#precioMenor").val(o.values[0]),e("#precioMayor").val(o.values[1])}}),e("#precio .aplicar").on("click",function(a){var o,n;e("#paginator").html(""),n=e("#precioMenor").val(),o=e("#precioMayor").val(),parseInt(n)>=parseInt(o)&&(o=parseInt(n)+10),t.agregarFiltro("sale_price",n,">="),t.agregarFiltro("sale_price",o,"<="),console.log("menor",n),console.log("mayor",o),console.log(t.getRequiredfields()),console.log(t.getParams_query()),r(),e("#precio").hide(),e("#filtro_aplicado_precio").show(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#discount").on("click","dl dt .filter",function(a){var o;a.preventDefault(),e("#paginator").html(""),o=e(this).find("input").val(),console.log("filtro descuento....",o),t.agregarFiltro("discount",o,">="),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#discount").on("click",".clear-filter",function(a){a.preventDefault(),e("#paginator").html(""),t.quitarFiltro("discount"),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})}),e("#filtro_aplicado_precio .clear-filter").on("click",function(a){return a.preventDefault(),e("#paginator").html(""),e("#precio").show(),e("#filtro_aplicado_precio").hide(),t.quitarFiltro("sale_price"),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e)})}),e("#ordenar").on("change",function(a){return a.preventDefault(),e("#paginator").html(""),t.setOrdenar(this.value),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e),s(e.GSP.RES.M)})})},s=function(a){var o,n;n=a/t.getProductosPorPagina(),console.log("debug ....",n),n>1&&(n>499&&(n=499),console.log("Paginas...",a,t.getProductosPorPagina(),n),e("#paginator").html(""),o=10,l.any()&&(o=3),e("#paginator").pagination({currentPage:t.getPagina(),items:n,edges:1,displayedPages:o,prevText:" < ",nextText:" > ",cssStyle:"light-theme",onPageClick:function(a,o){return console.log("Pagina",a),o.preventDefault(),console.log(e(e("#paginator li span")[0]).html()),1===e(e("#paginator li")[2]).find("span").length&&(console.log("Aplicndo................"),e(e("#paginator li a")[1]).html("<<")),e(e("#paginator li a")[e("#paginator li a").length-2]).html(">>"),t.setPagina(a),r(),t.buscar(t.getParams_query().q).done(function(e){return d(e)})},onInit:function(){return e(e("#paginator li a")[e("#paginator li a").length-2]).html(">>")}}))},r=function(){return e("#products").html(""),e("#marcas dl").html(""),e("#categorias dl").html("")},l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}},a}(),o.AnteaterApp=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,a=function(){function a(){}return a.start=function(){return e(function(){o.Buscador.autocomplete()})},a}(),o.Buscador=a}.call(this),function(){var e,a,o,t,r;r="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,t=r.location.protocol+"//"+r.location.hostname+":"+r.location.port,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},"undefined"!=typeof ModuleCarrito&&null!==ModuleCarrito&&ModuleCarrito,r.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){return e("#btnClickRecoge").click(function(e){e.preventDefault(),o()})},o=function(){var a,o,t;return e("#color").length>0?(o=e("#color").val(),t=e("#talla").val()):(o=1,t=1),""!==t&&""!==o&&(1!==o&&1!==t?(a=t.split("|"),e("#colorCR").val(o).trigger("change"),e("#tallaCR").val(a[2]).trigger("change")):e("#lnkMuestraSucursales").click()),e.fancybox("#modal-click-recoge")},a.getTallasByColor=function(a,o){var t,r,n,i,l,s;if(e("#tallaCR").prop("disabled",!0),""!==a){for(e("#tallaCR").children().remove(),s=e.parseJSON(o),t=s[a],r="",n=i=0,l=t.length-1;0<=l?i<=l:i>=l;n=0<=l?++i:--i)r+='<option value="'+t[n].skuHijo+'">'+t[n].tsize+"</option>";return e(r).appendTo("#tallaCR"),e("#tallaCR").prop("disabled",!1),this.cambioTalla()}},a.cambioTalla=function(){return e("#lnkMuestraSucursales").click()},a.goPayment=function(a,o){var n,i;return loading(!0),n=e("#tallaCR").val(),void 0===n&&(n=null),i=t+"/carrito/click-recoge/caja/"+a+"/"+o+"/"+n+"/1",r.location.href=i},a.getTiendasByProducto=function(a,o){var t,r,n;return e("#colorCR").length>0?(r=e("#colorCR").val(),n=e("#tallaCR").val()):(n=0,r=0),t=e("#c").val(),loading(!0),""!==n&&""!==r?e.ajax({url:o,type:"POST",data:{idProducto:a,cantidad:t,talla:n},success:function(a){var o,t,r;return a.estatus?(e("#msgErrorClickRecoge").hide(),e("#cboSucursalesCR_chosen").length&&(e("#cboSucursalesCR_chosen").remove(),e("#cboSucursalesCR").remove()),a.sucursales.length>0?(e("#contenedorTiendasCR").children().remove(),o="",t='<option value="">Ver todas las tiendas</option>',e.each(a.sucursales,function(e,a){return o+='<article class="box__distancia" id="artSucursal'+a.id+'"><div class="contInfo izqFlotante"><ul><li class="titTienda">'+a.name+'</li></ul></div><p class="descTienda">'+a.completeAddress+'</p><p class="Horarios__Tienda">'+a.schedule+' hrs.</p><a href="tel:'+a.lada+" "+a.phone+'" class="telTienda">'+a.lada+" "+a.phone+'</a><a id="lnkClickRecoge" href="#" onclick="ModuleCaja.ClickRecoge.goPayment('+a.idProduct+","+a.id+')" class="Tienda">Recoge aquí</a></article></article>',t+='<option value="'+a.id+'">'+a.name+"</option>"}),e(o).appendTo("#contenedorTiendasCR"),r='<select id="cboSucursalesCR" onchange="filtraSucursal()" data-placeholder="Ver todas" class="chosen-select Desktop">',r+=t+"</select>",e(r).insertAfter("#txtNombre"),e("#cboSucursalesCR").chosen({no_results_text:"Oops, ninguna sucursal encontrada!"}),e("#pnlTiendas").show("slow"),loading(!1),console.log(a)):(loading(!1),e("#contenedorTiendasCR").html('<p  id="msgErrorClickRecoge" class="warningClick">Por el momento no contamos con existencias de este producto para el servicio de Click y recoge.</p>'))):(loading(!1),console.log(a))},fail:function(e){return loading(!1)}}):loading(!1)},a}(),o.ClickRecoge=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,t,r,n;return a.init=function(){e(".cunponCont, .cupon__Box").slideToggle(),e(".btn-cupon").click(function(){return e(".cunponCont, .cupon__Box").slideToggle("slow")}),e("#btn_cupon").click(function(a){var o;return a.preventDefault(),o=e("#input_cupon").val(),n(o)}),e("#cuponReferido").click(function(a){var o;return a.preventDefault(),o=e("input[name=input_cupon]:checked").val(),n(o)}),e("#btn_cupon_eliminar").click(function(e){return e.preventDefault(),r()})},n=function(a){var t;return console.log("valor del cupon es ",a),null===a||0===a.length||/^\s+$/.test(a)?alert("El campo cupón no es válido"):(loading(!0),t=e.post("/caja/cupon/validar/",{cupon:a}),t.done(function(e){return loading(!1),o(e),recalcular()}),t.fail(function(e){return loading(!1)}))},o=function(a){return a.error?alert(a.msj):(e(".cuponesCont").hide(),e(".cuponesDisp").hide(),e("#cuponAgregadodiv").show(),e("#cuponAgregado").text(a.cupon))},r=function(){var a;return loading(!0),a=e.post("/caja/cupon/eliminarCuponDelaCaja/"),a.done(function(e){return loading(!1),t(e)}),a.fail(function(e){return loading(!1)})},t=function(a){a.error?alert(a.msj):(e(".cuponesCont").show(),a.cuponReferidos.length>0&&e(".cuponesDisp").show(),e("#cuponAgregadodiv").hide(),e("#cuponAgregado").text(""),recalcular())},a}(),o.Cupon=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,t;return a.init=function(){e(".cajaFiltrosResponsiva-pago").addClass("bajo"),e("#Down3, #Down2, .abreDetalleCostoEnvio").click(o),e("#Down2, #Down3").click(t)},o=function(){e(".cajaFiltrosResponsiva-pago").hasClass("bajo")?(e(".cajaFiltrosResponsiva-pago").removeClass("bajo"),e(".cajaFiltrosResponsiva-pago").addClass("Alto")):(e(".cajaFiltrosResponsiva-pago").toggleClass("bajar"),e(".cajaFiltrosResponsiva-pago").removeClass("Alto"),e(".cajaFiltrosResponsiva-pago").addClass("bajo"),e(".overlayCompra").css("display","none"),e("body").removeAttr("style"))},t=function(){e("#Down2").hasClass("OpenDetalle")?(e("#Down2").removeClass("OpenDetalle"),e("#Down2").addClass("upRow")):(e("#Down2").addClass("OpenDetalle"),e("#Down2").removeClass("upRow"))},a}(),o.DetalleEnvio=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,t,r,n,i,l,s,c,d,u,p,m,f,g,v;return a.init=function(){o(),e("#activarDir").click(t),e("#saveDireccion").click(s),e(".dirElementHead").click(v),e(".ingresaData").click(p),e(".validateCP").click(c),e(".colapse").click(r),e(".establecerPrede").click(i)},o=function(){"1"===e("#flagDir").val()?(e(".emidata2").addClass("headIngresa"),e(".emidata3").removeClass("colapse").addClass("ingresaData").addClass("active").addClass("plusActive"),e(".dataTitle").html("Ingresa tus datos"),e(".cell-loading2").removeClass("llenarBarra"),e(".dp1").removeClass("dotPalomita"),e(".pagoElement").addClass("desactivado2")):(e(".emidata2").removeClass("headIngresa"),e(".emidata3").addClass("colapse").removeClass("ingresaData").removeClass("active").removeClass("plusActive"),e(".dataTitle").html("Agregar dirección"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"))},t=function(){return e(".dirElement, .dirElement2").removeClass("desactivado"),e(".cell-loading2").removeClass("llenarBarra"),e(".dp1").removeClass("dotPalomita"),e(".pagoElement").addClass("desactivado2")},v=function(){event.preventDefault(),e(".dirElementHead").removeClass("active"),e(this).addClass("active"),e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegableIn, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){})},p=function(){e(".mostrarDet").hasClass("activeAdress")?(e(".mostrarDet").slideDown("fast").removeClass("activeAdress"),e(".ingresaData").removeClass("desplegado").addClass("active").addClass("plusActive")):(e(".mostrarDet").slideUp("fast").addClass("activeAdress"),e(".ingresaData").removeClass("active").removeClass("plusActive").addClass("desplegado"))},c=function(){var a;if(a=e("#cpostal").val(),parseInt(a)&&5===a.length)return loading(!0),ModuleSepomex.Sepomex.serviceSepomex(a).then(function(o){return d(a).done(function(a){var t;return console.log(o),e("#costoEnvio").html(parseFloat(a.costo).toFixed(2)),e("#costoEnvio").html(parseFloat(a.costo).toFixed(2)),e(".cajaFiltrosResponsiva-pago").addClass("bajo"),e("html, body").animate({scrollTop:e(".numExteriorInterior").offset().top+400},500),o.estatus?""!==o.datacp.estado.d_estado?(e("#estado").val(o.datacp.estado.d_estado),e("#colonia").removeAttr("disabled"),e("#estado").removeAttr("disabled"),e("#municipio").removeAttr("disabled"),e("#ciudad").removeAttr("disabled"),e("#municipioContainer span").remove(""),e("#municipio").remove(),o.datacp.municipios.length>0?(e("body").off("change","#municipio"),e("#municipioContainer").append('<span><select name="municipio" id="municipio" class="selectGris" required="required"></select></span>'),e.each(o.datacp.municipios,function(e,a){return t+="<option value="+a.d_mnpio+">"+a.d_mnpio+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipio").html(""),e("#municipio").html(t),e("#municipio").change(f)):(e("#municipioContainer span").remove(),e("#municipioContainer").append("<input type='text' maxlength='35' name='municipio' id='municipio' class='cajaTextoGris'  value='' />")),e("#coloniaContainer span").remove(""),e("#colonia").remove(),o.datacp.colonia.length>0?(e("body").off("change","#colonia"),e("#coloniaContainer").append("<span><select name='colonia' id='colonia' class='selectGris' required='required'></select></span>"),t="",e.each(o.datacp.colonia,function(e,a){return t+="<option value="+a.d_asenta+">"+a.d_asenta+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#colonia").html(""),e("#colonia").html(t),e("#colonia").change(m)):(e("#coloniaContainer span").remove(),e("#coloniaContainer").append("<input type='text' maxlength='35' name='colonia' id='colonia' class='cajaTextoGris' value='' />")),""!==o.datacp.ciudad.d_ciudad&&e("#ciudad").val(o.datacp.ciudad.d_ciudad),loading(!1)):(e("#cpostal, #estado").val(""),alert("En nuestros registros no encontramos tu cp, intenta con otro"),loading(!1)):(alert("En nuestros registros no encontramos tu cp, intenta con otro"),e("#cpostal, #estado").val(""),loading(!1)),e(".AvisoCostodeEnvio").show(),e(".dirHide").show(),loading(!1)})})},m=function(){var a,o,t;t=e("#colonia").val(),o=void 0,a=void 0,"none"===t&&(o=e("#colonia").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='colonia' id='colonia' value='' class='cajaTextoGris' required/>"))},f=function(){var a,o,t;t=e("#municipio").val(),o=void 0,a=void 0,"none"===t&&(o=e("#municipio").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='municipio' id='municipio' value='' class='cajaTextoGris' required/>"))},s=function(){var a;if(ModuleValida.ValidaFormulario.validaFormulario("eDireccion"))return a=e("#eDireccion").serializeObject(),a.id_dir=a.idDir,a.celular=a.telefono,a.ajax=1,loading(!0),n(a).done(function(t){return u().done(function(r){return g(t.idDir).done(function(t){var n,l,s,c;for(recalcular(a.cpostal),e("body").off("click",".dirElementHead, .establecerPrede, .continuar, .trashIcn, .editIcn, .ingresaData, #removeDir, .colapse"),s="",r.length>0?(e("#flagDir").val("0"),e(".emidata2").css("display","block"),e(".mostrarDet").css("display","block"),e(".headIngresa").removeClass("desactivado"),e(".emidata4").css("display","block"),e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive")):(e("#flagDir").val("1"),e(".colapse").css("display","block"),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),e(".dirElement2").addClass("desactivado")),o(),c=0;c<r.length;)0===idDir?(n=r[c].accesibilidad,l="1"):(n=r[c].id,l=idDir),n===l?(s+='<div class="dirElement quitdata remove desactivado" style="order:-1;">',s+='<div id="activo" class="dirElementHead active desplegableIn">'):(s+='<div class="dirElement quitdata remove desactivado mostrarDirs" style="order:0;">',s+='<div class="dirElementHead desplegableIn">'),s+='<h4 class="recibe_nombre2">'+r[c].nombre+"</h4>",s+='<span class="recibe_direccion2">'+r[c].calle+"</span>","1"===r[c].accesibilidad?s+='<span class="estrellaDirPredeterminada activo" data-id="'+r[c].id+'">Dirección predeterminada</span>':s+='<span class="estrellaDirPredeterminada establecerPrede" data-id="'+r[c].id+'">Establecer como predeterminada</span>',s+="</div>",s+='<div style="display: none;" class="dirElementDetalle detalleDesplegable">',s+="<p>"+r[c].calle+"<br>"+r[c].colonia+", CP "+r[c].codigoPostal+"<br>"+r[c].municipio+", "+r[c].pais+"</p>",s+='<ul class="IconsEdit IEd-loc"><li><a rel="nofollow" href="#modal-vistaRapida" class="trashIcn" data-id="'+r[c].id+'"></a></li>',s+='<li class="editIcn displaydata2" data-id="'+r[c].id+'"></li></ul>',s+='<button class="continuar" data-id="'+r[c].id+'">Seleccionar y continuar</button>',s+="</div></div>",c++;return document.getElementById("eDireccion").reset(),e(".agregarEstablecer").show(),e(".colapseCol").html(s),e(".dirElementHead").click(v),e(".establecerPrede").click(i),e(".continuar").click(seleccionaDir),e(".trashIcn").click(eliminarDir),e(".editIcn").click(editarDireccion),e("html, body").animate({scrollTop:e(".colapseCol").offset().top-700},2e3),e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegableIn, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){}),e(".pagoElement").removeClass("desactivado2"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"),loading(!1)})})})},r=function(){e(".dataTitle").html("Ingresa tus datos"),document.getElementById("eDireccion").reset(),e(".colapse").hasClass("plus2")?(e(".colapseCol").slideUp("fast"),e(".mostrarDet").slideDown("fast"),e(".quitdata").fadeOut(),e(".ocultarDireccion").fadeOut(),e(".editmydata1").fadeIn(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").removeClass("plus2"),e(".colapse").addClass("active"),e(".colapse").addClass("plusActive")):(e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive"))},i=function(a){var o;return a.preventDefault(),console.log(a.target),o=e(a.target).data("id"),loading(!0),l(o).done(function(o){if(o.estatus)return e("body").off("click",".establecerPrede",i),e(".dirElementHead").removeClass("active"),e(a.target).parent().addClass("active"),e(".estrellaDirPredeterminada").html("Establecer como predeterminada").addClass("establecerPrede").removeClass("activo"),e(a.target).html("Dirección predeterminada").removeClass("establecerPrede").addClass("activo"),e(".dirElementDetalle").css("display","none"),e(".establecerPrede").click(i),loading(!1)})},d=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/obtenerCostoEnvio",type:"POST",dataType:"json",cache:!1,data:{cp:a}})},n=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/agregar",type:"POST",dataType:"json",cache:!1,data:a})},u=function(){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/obtenerDirecciones",type:"POST",dataType:"json",cache:!1})},g=function(a){return loading(!0),ModuleDatalayer.Eventos.setCheckoutStep2(),e.ajax({url:"/caja/direccion-envio/procesos/seleccionaNuevaDir",type:"POST",dataType:"json",cache:!1,data:{idDireccion:a}})},l=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/direccionPredeterminada",type:"POST",dataType:"json",cache:!1,data:{id:a}})},a}(),o.DireccionEnvio=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#num_certificado").blur(o)},o=function(){var a,o,t;if(t=e("#num_certificado").val(),a=/^1521|^1522|^1523/,o=/^1501|^1504/,o.test(t)&&e("#forma_pago").val(4467),a.test(t))return e("#forma_pago").val(4466)},a}(),o.FormaPagoCertificadoMonedero=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u,p,m;return a.init=function(){return e("#aplicarPromocion").hide(),e("#departamentalPagar").click(o),e("#aplicarPromocion").click(r),e("#noTarjeta").blur(function(e){e.preventDefault(),m(this.value),p(this.value)}),e("#planes").change(function(){u(this.value)}),e("#mensualidadDepto").change(function(){n(this.value)}),e("#isNip").change(function(){var a;a=e(this).is(":checked")?1:0,s(a)})},o=function(a){var o,r,n,i,l,s,d,u,p,m,f,g,v,h;if(a.preventDefault(),i=parseInt(e("#idTarDep").val()),m=e.trim(e("#noTarjeta").val()),f=e.trim(e("#nombreDep").val()),v=e.trim(e("#telefonoDep").val()),l=e.trim(e("#idclienteintDep").val()),p=e.trim(e("#nip").val()),o=e.trim(e("#apellidoDep").val()),n=e("#deviceFingerprintIDDep").val(),u=e("#mensualidadDepto").val(),g=e("#planes").val(),s=e("#isNip").is(":checked")?1:0,h=ModuleValida.ValidaFormulario.validaFormulario("formDepartamental"),d=!(!e(".radioGroupDep").hasClass("Activeradio2")&&!c(m))||ModuleCaja.FormaPagoDepartamentales.validatePhone(v),!h||!d)return loading(!1);r={noTarjeta:m,nombre:f,apellidos:o,telefono:v,idclienteint:l,nip:p,deviceFingerprintID:n,meses:u,idTarjeta:i,planPago:g,isNip:s},e.ajax({type:"POST",url:"/caja/departamentales/validartarjetas",dataType:"JSON",data:r,beforeSend:function(){return e("#msgErrorTarjetaDep").hide,loading(!0)},success:function(a){a.valida?t.location.href="/caja/departamentales/thankupage":(loading(!1),"Error de formato"===a.msg?(v=e.trim(e("#telefonoDep").val()),parseInt(v.length)<10&&e("#msgErrorTarjetaDep").html("El teléfono debe de ser a 10 dígitos")):e("#msgErrorTarjetaDep").html(a.msg),"12"===a.code&&(e("#telefonoDep").addClass("error"),e(".error-phone").html(a.error),e(".error-phone").show()),e("html, body").animate({scrollTop:e("#msgErrorTarjetaDep").offset().top},2e3),e("#msgErrorTarjetaDep").show())},error:function(){loading(!1),e("#msgErrorTarjetaDep").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde"),e("#msgErrorTarjetaDep").show()}})},a.validatePhone=function(a){return console.log("validando telefono..."),10===a.length||(e("#msgErrorTarjetaDep").length&&(e("#msgErrorTarjetaDep").html("El teléfono debe ser de 10 dígitos"),e("html, body").animate({scrollTop:e("#msgErrorTarjetaDep").offset().top},2e3),e("#msgErrorTarjetaDep").show()),!1)},a.autocompleteClient=function(a){var o,t;return o=e(a).val(),t="",o.length<=10&&(t=i(o,10)),e(a).val(t)},i=function(e,a){var o,t,r;for(r="",o=e.length,t=o;t<a;)r+="0",t++;return r+e},a.seleccionTarjetaDep=function(a){var o;return e("#noTarjeta, #nombreDep, #apellidoDep").removeClass("error"),e("#msgErrorTarjetaDep").hide().html(""),e(".radioGroupDep").hasClass("Activeradio2")&&(o=e(a).data("id"),0===o?(document.getElementById("formDepartamental").reset(),e("body").off("blur","#noTarjeta"),e("#idTarDep").val(0),e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("readonly",!1),e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("required",!0),e("#noTarjeta, #nombreDep, #apellidoDep, #noTarjetal, #nombreDepl, #apellidoDepl, #telefonoDep, #idclienteintDep, #telefonoDepl, #idclienteintDepl").show(),e("#isNip").attr("checked",!0),p("000000").then(function(e){ModuleCaja.ResumenCompra.recalcular(4384,"00",null,null)})):l(o).done(function(a){return a.status?(e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("readonly",!0),e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("required",!1),e("#noTarjeta, #nombreDep, #apellidoDep, #noTarjetal, #nombreDepl, #apellidoDepl, #telefonoDep, #idclienteintDep, #telefonoDepl, #idclienteintDepl").hide(),e("#isNip").attr("checked",!1),d(a.dataTarjeta),p(a.dataTarjeta.bm).then(function(e){return ModuleCaja.ResumenCompra.recalcular(4384,a.dataTarjeta.bm.substring(0,2),null,null).then(function(e){return loading(!1)})})):(e("#msgErrorTarjetaDep").show().html(a.error),loading(!1))})),e(".radioGroupDep").removeClass("Activeradio2"),e(a).addClass("Activeradio2")},a.obtenerTarjetasDep=function(){e.ajax({type:"POST",url:"/caja/departamentales/obtenerTarjetas",dataType:"JSON",beforeSend:function(){return e("#msgErrorTarjetaDep").hide().html(""),loading(!0)},success:function(a){var o,t,r;if(loading(!1),!0===a.status){for(r=0,t="";r<a.tarjetas.length;)0===r?(o="Activeradio2",e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("readonly",!0),e("#noTarjeta, #nombreDep, #apellidoDep, #telefonoDep, #idclienteintDep").attr("required",!1),e("#noTarjeta, #nombreDep, #apellidoDep, #noTarjetal, #nombreDepl, #apellidoDepl, #telefonoDep, #idclienteintDep, #telefonoDepl, #idclienteintDepl").hide(),e("#planes").val(),e("#isNip").attr("checked",!1),d(a.tarjetas[r]),p(a.tarjetas[r].bm)):o="",t+='<div class="radio-tc3 bords radioGroupDep '+o+'" onclick="ModuleCaja.FormaPagoDepartamentales.seleccionTarjetaDep(this)" data-id="'+a.tarjetas[r].id+'">',t+='<label class="chekin">Usar tarjeta **** **** **** '+a.tarjetas[r].digitos+"</label>",t+="</div>",r++;t+='<div class="radio-tc4 bords radioGroupDep" onclick="ModuleCaja.FormaPagoDepartamentales.seleccionTarjetaDep(this)" data-id="0">',t+='<label class="chekin">Ingresar nueva tarjeta</label>',t+="</div>"}else""!==a.error&&e("#msgErrorTarjetaDep").show().html(a.error),loading(!1);e("#form-tdc-dep").html(""),e("#form-tdc-dep").html(t)},error:function(){loading(!1),e("#msgErrorTarjetaDep").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},d=function(a){e("#noTarjeta").val("**** **** **** "+a.digitos),e("#nombreDep").val(a.nombre),e("#apellidoDep").val(a.apellido),e("#idTarDep").val(a.id),e("#telefonoDep").val(a.telefonoInt),e("#idclienteintDep").val(a.idClienteInt)},l=function(a){return loading(!0),e.ajax({
url:"/caja/departamentales/obtenerTarjeta",type:"POST",dataType:"json",cache:!1,data:{idTarjeta:a}})},function(a){var o,t,r;if(a.length>=2)return o=a.substring(0,2),t={bim:o},r="/caja/departamentales/validaMeses",e.ajax({url:r,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var o;loading(!1),!0===a.exito?(e("#msiHtmlDepto").show(),o=a.mensualidades,e("#mensualidadDepto").html(""),e.each(o,function(a,o){e("<option>").val(o.mensualidad).text(o.mensualidad+" pago de "+o.pago).appendTo("#mensualidadDepto")})):(e("#msiHtmlDepto").hide(),e("#msiMsgDepto").html(a.msg))},error:function(){loading(!1),console.log("error en el ajax")}})},p=function(a){var o,t,r;if(a.length>=6)return e("#comboPromocion").hide(),e("#cardsPromocion").hide(),e("#departamentalPagar").hide(),e("#aplicarPromocion").hide(),e("#volverAIniciar").hide(),o=a.substring(0,2),t={bim:o},r="/caja/departamentales/planesDePago",e.ajax({url:r,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var o;return!0===a.exito&&(o=a.planes,e("#planes").html(""),e("#planes").attr("disabled",!1),e("#cardsPromocionList").html(""),e("<option>").val("").text("Selecciona").appendTo("#planes"),e.each(o,function(a,o){e("<option>").val(o.id).text(o.nombre).appendTo("#planes")})),loading(!1)},error:function(){loading(!1),console.log("error en el ajax")}})},u=function(a){var o,t,r,n,i;return n=e("#noTarjeta").val(),e("#comboPromocion").hide(),e("#cardsPromocion").hide(),e("#departamentalPagar").hide(),e("#aplicarPromocion").hide(),e("#volverAIniciar").hide(),o=n.substring(0,2),r=0,t={bim:o,planPago:a},i="/caja/departamentales/obtenerPlanDePago",e.ajax({url:i,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(t){var n,i,l;if(loading(!1),!0===t.exito)return i=t.plan,l="",n="","4375"===a?(l="Usa tu crédito revolvente",n=""):"4384"===a?(l="Usa tu mejor plan de Crédito",n="Selecciona el plazo disponible con tu tarjeta de crédito"):"4385"===a&&(l="Mensualidades sin intereses",n="Selecciona el plazo disponible con tu tarjeta de crédito"),e("#mensualidadDepto").html(""),e("#comboPromocion > h4").html(l),e("#comboPromocion > label").html(n),"4385"===a?(e("#cardsPromocionList").html(""),e.each(i,function(a,o){var t,n,i,l;i="",n="",l=o.mensualidad.pp+"_"+o.mensualidad.sec+"_"+o.mensualidad.number+"_"+o.mensualidad.price+"_"+o.mensualidad.idPromo,0===a?(r=o.mensualidad.idPromo,t='checked="checked"',e("#idPromocion").val(r)):t="",e.each(o.productos,function(e,a){return i+='<li><p class="nProducto">('+a.cantidad+") "+a.nombre+"</p><i>$"+a.precio+"</i></li>"}),n='<div class="headerPromo hPromo"><label class="radioPromo"><input type="radio" name="meses" class="rBtnPromo" value="'+l+'" '+t+' onchange="ModuleCaja.FormaPagoDepartamentales.seleccionarPromocion('+o.mensualidad.idPromo+');"/><span class="labelPromo">'+o.nombre+'</span></label></div><div class="contPromoSears hPromoCont"><ul>'+i+'</ul><p class="center padding grisClaro">'+o.descripcion+'</p><p class="center padding bold">Más costo de envío</p></div>',e("<li>").html(n).appendTo("#cardsPromocionList")}),e("#cardsPromocion").show(),e("#aplicarPromocion").show()):(e.each(i,function(a,o){0===a&&(r=o.idPromo),e("<option>").val(o.pp+"_"+o.sec+"_"+o.number+"_"+o.price+"_"+o.idPromo).text(o.text).appendTo("#mensualidadDepto")}),e("#comboPromocion").show(),e("#departamentalPagar").show()),ModuleCaja.ResumenCompra.recalcular(4384,o,a,r)},error:function(){loading(!1),console.log("error en el ajax")}})},a.seleccionarPromocion=function(a){return e("#idPromocion").val(a)},r=function(a){var o,t,r,n,i,l;return a.preventDefault(),e("#comboPromocion").hide(),e("#cardsPromocion").hide(),e("#departamentalPagar").hide(),e("#aplicarPromocion").hide(),i=e("#noTarjeta").val(),o=i.substring(0,2),r=e("#idPromocion").val(),n=4385,t={bim:o,planPago:n,idPromocion:r},l="/caja/departamentales/applyPromocion",e.ajax({url:l,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var t;if(loading(!1),!0===a.exito)return e("#cardsPromocionList").html(""),t=a.data,e.each(t,function(a,o){var t,r,n,i;n="",r="",i=o.mensualidad.pp+"_"+o.mensualidad.sec+"_"+o.mensualidad.number+"_"+o.mensualidad.priceEnvio+"_"+o.mensualidad.idPromo,e("<option>").val(i).text(i).appendTo("#mensualidadDepto"),0===a?(o.idPromo,t='checked="checked"'):t="",e.each(o.productos,function(e,a){return n+='<li><p class="nProducto">('+a.cantidad+") "+a.nombre+"</p><i>$"+a.precio+"</i></li>"}),r='<div class="headerPromo"><label class="radioPromo"><input type="radio" name="meses" class="rBtnPromo" value="'+i+'" '+t+'/><span class="labelPromo">'+o.nombre+'</span></label></div><div class="contPromoSears"><ul>'+n+'</ul><ul class="gris"><li><p class="nProducto">Costo de envío: </p><i class="azul">$'+o.mensualidad.envio+'</i></li><li><p class="nProducto">Total: </p><i class="azul">$'+o.total+'</i></li><li><p class="nProducto">'+o.mensualidad.number+' meses de</p><i class="azul">$'+o.mensualidad.priceEnvio+"</i></li></ul></div>",e("<li>").html(r).addClass("noShadow").appendTo("#cardsPromocionList")}),e("#cardsPromocion").show(),e("#departamentalPagar").show(),e("#volverAIniciar").show(),e("#planes").attr("disabled",!0),ModuleCaja.ResumenCompra.recalcular(4384,o,n,r)},error:function(){loading(!1),console.log("error en el ajax")}})},n=function(a){var o,t,r,n;return r=4384,o=a.split("_"),n=e("#noTarjeta").val(),t=n.substring(0,2),ModuleCaja.ResumenCompra.recalcular(4384,t,r,o[4])},s=function(a){return a?(e(".nipToggle").removeClass("none"),e("#telefonoDep, #idclienteintDep, #nip").attr("readonly",!1),e("#telefonoDep, #idclienteintDep, #nip").attr("required",!0),e("#telefonoDep, #idclienteintDep, #nip, #telefonoDepl, #idclienteintDepl, #nipl").show()):(e(".nipToggle").addClass("none"),e("#telefonoDep, #idclienteintDep, #nip").attr("readonly",!0),e("#telefonoDep, #idclienteintDep, #nip").attr("required",!1),e("#telefonoDep, #idclienteintDep, #nip, #telefonoDepl, #idclienteintDepl, #nipl").hide())},c=function(a){var o,t;return t=e("#divformas").data("temporal-cards").toString(),o=a.substring(0,4),t.includes(o)},m=function(a){return!(a.length<10)&&(c(a)?(e("#telefonoDep, #idclienteintDep, #nip, #nombreDep, #apellidoDep").hide(),e("#telefonoDepl, #idclienteintDepl, #nipl, #nombreDepl, #apellidoDepl").hide(),e("#telefonoDep, #idclienteintDep, #nip, #nombreDep, #apellidoDep").attr("required",!1)):(e("#telefonoDep, #idclienteintDep, #nip, #nombreDep, #apellidoDep").show(),e("#telefonoDepl, #idclienteintDepl, #nipl, #nombreDepl, #apellidoDepl").show(),e("#telefonoDep, #idclienteintDep, #nombreDep, #apellidoDep").attr("required",!0)))},a.isValidForm=function(){var a,o,t,r,n;return e("#msgErrorTarjetaDep").hide(),r=e.trim(e("#nombreDep").val()),a=e.trim(e("#apellidoDep").val()),n=e.trim(e("#telefonoDep").val()),t=e.trim(e("#idclienteintDep").val()),o=/^[a-zA-Z ]/,!1===o.test(r)?(e("#msgErrorTarjetaDep").html("Debe Escribir Nombre"),e("#msgErrorTarjetaDep").show(),!1):!1===o.test(a)?(e("#msgErrorTarjetaDep").html("Debe Escribir Apellidos"),e("#msgErrorTarjetaDep").show(),!1):parseInt(n.length)<10?(e("#msgErrorTarjetaDep").html("El teléfono debe de ser a 10 dígitos"),e("#msgErrorTarjetaDep").show(),!1):parseInt(t.length)<16?(e("#msgErrorTarjetaDep").html("Número de cliente internet incorrecto"),e("#msgErrorTarjetaDep").show(),!1):ModuleValida.ValidaFormulario.validaFormulario("formDepartamental")},a}(),o.FormaPagoDepartamentales=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#deposito_pagar").click(o)},o=function(a){var o,r;a.preventDefault(),o=e("input[name=radiotransf]:checked").val(),r={banco:o},e.ajax({type:"POST",url:"/caja/deposito/procesar",dataType:"JSON",data:r,beforeSend:function(){loading(!0),console.log("validar forma de pago...")},success:function(a){a.valida?t.location.href="/caja/deposito/thankupage":(loading(!1),e("#msj_error_telmex").html("").html(a.error))},error:function(){loading(!1),e("#msj_error_telmex").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},a}(),o.FormaDeposito=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#pagar_tiendas").click(o)},o=function(a){a.preventDefault(),e.ajax({type:"POST",url:"/caja/pago_en_tiendas/procesar",dataType:"JSON",beforeSend:function(){loading(!0),e("#msj_error_Pago_en_tiendas").hide().html(""),console.log("validar forma de pago...")},success:function(a){a.valida?t.location.href="/caja/pago_en_tiendas/thankupage":(loading(!1),e("#msj_error_Pago_en_tiendas").show().html(a.error))},error:function(){loading(!1),e("#msj_error_Pago_en_tiendas").show().html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},a}(),o.FormaPagoEnTiendas=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#pago_gratuito").click(o)},o=function(a){var o,r;a.preventDefault(),o="uno",r={banco:o},e.ajax({type:"POST",url:"/caja/pagoGratuito/procesar",dataType:"JSON",data:r,beforeSend:function(){loading(!0),console.log("validar forma de pago...")},success:function(a){a.valida?t.location.href="/caja/pagoGratuito/thankupage":(loading(!1),e("#msj_error_telmex").html("").html(a.error))},error:function(){loading(!1),e("#msj_error_telmex").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},a}(),o.FormaPagoGratuito=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u;return a.init=function(){return i(),e("#msiHtmlMP").hide(),e("#btnpagarMercado").click(o),e("#codpostalMercado").blur(function(e){r(this.value)}),e("#cardNumber").blur(function(e){n(this.value)})},o=function(){var a,o,t,r;if(t=e("#key_pu").val(),o=e("#cardNumber").val(),a=o.substring(0,6),Mercadopago.clearSession(),Mercadopago.setPublishableKey(t),ModuleValida.ValidaFormulario.validaFormulario("formMercadoPago"))return event.preventDefault(),r=e("#total_mp").val(),Mercadopago.getInstallments({bin:a,amount:r},d)},d=function(a,o){var t,r;return console.log(a),200===a?(e("#issuer_id").val(o[0].issuer.id),r=e("#cardNumber").val(),t=r.substring(0,6),Mercadopago.getPaymentMethod({bin:t},u)):(e("#msgErrorMercado").show().html("Hubo error validando tu tarjeta intenta mas tarde"),loading(!1))},u=function(a,o){var t;return 200===a?(e("#paymentMethodId").val(o[0].id),t=e("#formMercadoPago"),Mercadopago.createToken(t,c)):(e("#msgErrorMercado").show().html("Hubo error al validar tu tarjeta intenta mas tarde"),loading(!1))},c=function(a,o){var r,n,i,l,s,c,d,u,p,m,f,g,v,h;return 200===a?(s=e("#direccion_tarjeta").val(),i=e("#codpostalMercado").val(),n=e("#coloniaMer").val(),m=e("#municipioMer").val(),d=e("#estadoMer").val(),r=e("#ciudadMer").val(),c=e("input[name='directorio_1']:checked").val(),h=e("#paymentMethodId").val(),p=e("#mensualidadMP").val(),u=e("#issuer_id").val(),f=e("#cardholderName").val(),g=e("#numero_exterior").val(),v=e("#telefono_fact").val(),l={tokenTarjeta:o.id,tipoTarjeta:h,direccion_tarjeta:s,cpostal:i,colonia:n,municipio:m,estado:d,ciudad:r,directorio:c,meses:p,issuer_id:u,nombreTar:f,num_ext:g,telefono:v},console.log(l),e.ajax({url:"/caja/mercadoPago/validartarjetas",type:"post",dataType:"json",data:l,beforeSend:function(){return loading(!0),e("#msgErrorTarjeta").hide().html("")},success:function(a){console.log(a),!0===a.exito?t.location.href="/caja/mercadoPago/thankupage":(loading(!1),e("#msgErrorMercado").show().html(a.error))},error:function(){loading(!1),e("#msgErrorMercado").show().html("Intente mas tarde")}})):(e("#msgErrorMercado").show().html("Hubo un error al validar tu tarjeta intenta mas tarde"),loading(!1))},i=function(){var a,o,t,r;o=document.getElementById("cardExpirationYear"),e("#cardExpirationYear").html(""),a=(new Date).getFullYear(),t=7,function(e,a,r){var n;if(null!==o)for(;;)if(n=a.toString(),n=n.substring(n.length-2),e.add(new Option(a++,n),null),!--t)break}(o,a),r=function(o){var t,r,n;if(n=document.getElementById("cardExpirationMonth"),e("#cardExpirationMonth").html(""),(new Date).getFullYear(),parseInt(o),parseInt(a),r=1,o>1&&null!==n)for(;;)if(t=r<10?"0"+r:r,n.add(new Option(t,t),null),!(++r<=12))break},r(a),e("#cardExpirationYear").change(function(){return r("20"+this.value)})},r=function(a){parseInt(a)&&5===a.length&&(loading(!0),ModuleSepomex.Sepomex.serviceSepomex(a).then(function(o){var t;return console.log("cp:"+a),console.log(o),!0===o.estatus?""!==o.datacp.estado.d_estado?(e("#estadoMer").val(o.datacp.estado.d_estado),e("#coloniaMer").removeAttr("disabled"),e("#estadoMer").removeAttr("disabled"),e("#municipioMer").removeAttr("disabled"),e("#ciudadMer").removeAttr("disabled"),e("#municipioContainerMer span").remove(""),e("#municipioMer").remove(),o.datacp.municipios.length>0?(e("body").off("change","#municipioMer"),e("#municipioContainerMer").append('<span><select name="municipioMer" id="municipioMer" class="selectGris" required="required"></select></span>'),e.each(o.datacp.municipios,function(e,a){return t+="<option value="+a.d_mnpio+">"+a.d_mnpio+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipioMer").html(""),e("#municipioMer").html(t),e("#municipioMer").change(s)):(e("#municipioContainerMer span").remove(),e("#municipioContainerMer").append("<input type='text' maxlength='35' name='municipioMer' id='municipioMer' classTar='cajaTextoGris'  value='' />")),e("#coloniaContainerMer span").remove(""),e("#coloniaMer").remove(),o.datacp.colonia.length>0?(e("body").off("change","#coloniaMer"),e("#coloniaContainerMer").append("<span><select name='coloniaMer' id='coloniaMer' class='selectGris' required='required'></select></span>"),t="",e.each(o.datacp.colonia,function(e,a){return t+="<option value="+a.d_asenta+">"+a.d_asenta+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#coloniaMer").html(""),e("#coloniaMer").html(t),e("#coloniaMer").change(l)):(e("#coloniaContainerMer span").remove(),e("#coloniaContainerMer").append("<input type='text' maxlength='35' name='coloniaMer' id='coloniaMer' class='cajaTextoGris' value='' />")),""!==o.datacp.ciudad.d_ciudad&&e("#ciudadMer").val(o.datacp.ciudad.d_ciudad),loading(!1)):(e("#codpostalMercado, #estadoMer").val(""),alert("En nuestros registros no encontramos tu cp, intenta con otro CP"),loading(!1)):(alert("En nuestros registros no encontramos tu cp, intenta con otro"),e("#codpostalMercado, #estadoMer").val(""),loading(!1)),loading(!1)}))},l=function(){var a,o,t;t=e("#coloniaMer").val(),o=void 0,a=void 0,"none"===t&&(o=e("#coloniaMer").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='coloniaMer' id='coloniaMer' value='' class='cajaTextoGris' required/>"))},s=function(){var a,o,t;t=e("#municipioMer").val(),o=void 0,a=void 0,"none"===t&&(o=e("#municipioMer").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='municipioMer' id='municipioMer' value='' class='cajaTextoGris' required/>"))},n=function(a){var o,t,r;if(event.preventDefault(),a.length>=6)return o=a.substring(0,6),t={bim:o},r="/caja/mercadoPago/validaMeses",e.ajax({url:r,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var o;loading(!1),!0===a.exito?(e("#msiHtmlMP").show(),console.log("mensualidades: mesn"),o=a.mensualidades,e("#mensualidadMP").html(""),e.each(o,function(a,o){e("<option>").val(o.mensualidad).text(o.mensualidad+" pago de "+o.pago).appendTo("#mensualidadMP")})):(e("#msiHtmlMP").hide(),e("#msiMsgMP").html(a.msg))},error:function(){loading(!1),console.log("error en el ajax")}})},a}(),o.FormaPagoMercadoPago=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#pagar_paypal").click(o)},o=function(e){e.preventDefault(),loading(!0),t.location.href="/caja/paypal/procesar"},a}(),o.FormaPagoPaypal=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o;return a.init=function(){e("#payuPagar").click(o)},o=function(a){var o,r;a.preventDefault(),r=e("input[name=tiendasC]:checked").val(),o={tipo:r},e.ajax({type:"POST",url:"/caja/payu/procesar",dataType:"JSON",data:o,beforeSend:function(){return e("#msj_error_payu").hide,loading(!0)},success:function(a){a.valida?t.location.href="/caja/payu/thankupage":(loading(!1),e("#msj_error_payu").html("").html(a.error),e("#msj_error_payu").show)},error:function(){loading(!1),e("#msj_error_payu").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde"),e("#msj_error_payu").show}})},a}(),o.FormaPagoPayu=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i;return a.init=function(){return e("#puntosPagar").click(i),e("#forma_pago").change(o),e("#monCertPagar").click(r)},i=function(a){var o,t,r,i,l,s;if(e("#msgErrorMoneCert").hide().html(""),a.preventDefault(),l=e.trim(e("#tarjetaPuntos").val()),s=e.trim(e("#nombrePuntos").val()),o=e.trim(e("#apellidoPuntos").val()),r=e("#deviceFingerprintIDDep").val(),i=e("#numeroPuntos").val(),ModuleValida.ValidaFormulario.validaFormulario("formPuntos"))return t={noTarjeta:l,nombre:s,apellidos:o,deviceFingerprintID:r,idFormaPago:i},n(t)},r=function(a){var o,t,r,i;if(e("#msgErrorPuntosSears").hide().html(""),a.preventDefault(),i=e.trim(e("#num_certificado").val()),t=e("#deviceFingerprintIDDep").val(),r=e("#forma_pago").val(),ModuleValida.ValidaFormulario.validaFormulario("formFormasSears"))return o={noTarjeta:i,deviceFingerprintID:t,idFormaPago:r},n(o)},o=function(a){var o;return a.preventDefault(),o=e("#forma_pago").val(),"4466"===o?e("#nombre_forma").html("Certificado"):e("#nombre_forma").html("Monedero")},n=function(a){e.ajax({type:"POST",url:"/caja/sears/validaPago",dataType:"JSON",data:a,beforeSend:function(){return e("#msgErrorMoneCert").hide,e("#msgErrorPuntosSears").hide,loading(!0)},success:function(o){console.log(o),o.valida?t.location.href="/caja/sears/thankupage":(loading(!1),"4465"===a.idFormaPago?(e("#msgErrorPuntosSears").html(o.msg),e("#msgErrorPuntosSears").show()):(e("#msgErrorMoneCert").html(o.msg),e("#msgErrorMoneCert").show()))},error:function(){loading(!1),"4465"===a.idFormaPago?(e("#msgErrorPuntosSears").html("").html("Hubo un error al procesar la peticion favor de intentar mas tarde"),e("#msgErrorPuntosSears").show()):(e("#msgErrorMoneCert").html("").html("Hubo un error al procesar la peticion favor de intentar mas tarde"),e("#msgErrorMoneCert").show())}})},a}(),o.FormaPagoPuntosSears=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u,p;return a.init=function(){var a,t,n,s;e("body").off("click","#btnpagarTarjetaAmex"),e("#btnpagarTarjetaAmex").click(o),e("#msiHtmlAmex").hide(),e("#msgErrorTarjetaAmex").hide(),e("#numeroAmex").blur(function(e){l(this.value),r(this.value)}),e("#codpostalAmex").blur(function(e){i(this.value)}),t=document.getElementById("avAmex"),a=(new Date).getFullYear(),n=7,function(e,a,o){var r;if(null!==t)for(;;)if(r=a.toString(),r=r.substring(r.length-2),e.add(new Option(a++,r),null),!--n)break}(t,a),s=function(o){var t,r,n;if(n=document.getElementById("mvAmex"),e("#mvAmex").html(""),(new Date).getFullYear(),r=parseInt(o)!==parseInt(a)?1:(new Date).getMonth()+1,o>1&&null!==n)for(;;)if(t=r<10?"0"+r:r,n.add(new Option(t,t),null),!(++r<=12))break},s(a),e("#avAmex").change(function(){s("20"+this.value)})},o=function(a){var o,r,n,i,l,c,d,u,p,m,f,g,v,h,C,b,x,w,y,P,j,T,_;if(a.preventDefault(),m=e("input[name='directorioAmex']:checked").val(),i=e.trim(e("#csAmex").val()),C=parseInt(e("#idTarAm").val()),P=e.trim(e("#numeroAmex").val()),y=e.trim(e("#nombreAmex").val()),r=e.trim(e("#apellidosAmex").val()),0===C){if(h=/^[0-9]{15}$/,!0!==h.test(P))return s("numeroAmex","¡Numero Tarjeta Incorrecto!");if(e("#numeroAmex").removeClass("error"),v=/^[a-zA-Z ]/,!0!==v.test(y))return s("nombreAmex","¡Debe Escribir Nombre!");if(e("#nombreAmex").removeClass("error"),!0!==v.test(r))return s("apellidosAmex","¡Debe Escribir Apellidos!");e("#apellidosAmex").removeClass("error")}if("direccion_nueva"===m)e("#msgErrorTarjetaAmex").hide().html(""),_=ModuleValida.ValidaFormulario.validaFormulario("formAmex");else{if(g=/^[0-9]{3,4}$/,!0!==g.test(i))return s("csAmex","¡Código Verificación Incorrecto!");e("#csAmex").removeClass("error"),_=!0}if(_)return x=e("#mvAmex").val(),o=e("#avAmex").val(),u=e("#deviceFingerprintIDAmex").val(),b=e("#mensualidadAmex").val(),p=e("#direccion_tarjetaAmex").val(),c=e("#codpostalAmex").val(),l=e("#coloniaAmex").val(),w=e("#municipioAmex").val(),f=e("#estadoAmex").val(),j=e("#telefonoAmex").val(),n=e("#ciudadAmex").val(),d={numeroTar:P,nombreTar:y,apellidosTar:r,mesvenc:x,anyovenc:o,codseg:i,deviceFinger:u,meses:b,direccion_tarjeta:p,cpostal:c,colonia:l,municipio:w,estado:f,telefono:j,ciudad:n,directorio:m,idTarjeta:C},T="/caja/tarjetasAmex/validartarjetas",e.ajax({url:T,type:"post",dataType:"json",data:d,beforeSend:function(){loading(!0),e("#msgErrorTarjetaAmex").hide().html("")},success:function(a){loading(!1),!0===a.exito?t.location.href="/caja/tarjetasAmex/thankupage":(e("#msgErrorTarjetaAmex").show(),e("#msgErrorTarjetaAmex").html(a.error))},error:function(){loading(!1),e("#msgErrorTarjetaAmex").show(),e("#msgErrorTarjetaAmex").html("Intente mas tarde"),console.log("error en el ajax Amex")}})},r=function(a){a.length>=15?(e("#img_verde_amex").addClass("selected"),e("#img_plata_amex").addClass("selected")):(e("#img_verde_amex").removeClass("selected"),e("#img_plata_amex").removeClass("selected"))},s=function(a,o){return e("#"+a).addClass("error"),e("body").off("blur","#"+a),e("#msgErrorTarjetaAmex").show(),e("#msgErrorTarjetaAmex").html(o),!1},l=function(a){var o,t,r;if(e("#msgErrorTarjetaAmex").hide().html(""),a.length>=6)return o=a.substring(0,6),t={bim:o},r="/caja/tarjetasAmex/validaMeses",e.ajax({url:r,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var o;loading(!1),!0===a.exito?(e("#msiHtmlAmex").show(),o=a.mensualidades,e("#mensualidadAmex").html(""),e.each(o,function(a,o){e("<option>").val(o.mensualidad).text(o.mensualidad+" pago de "+o.pago).appendTo("#mensualidadAmex")})):(e("#msiHtmlAmex").hide(),e("#msiMsgAmex").html(a.msg))},error:function(){loading(!1),console.log("error en el ajax")}})},u=function(){var a,o,t;t=e("#coloniaAmex").val(),o=void 0,a=void 0,"none"===t&&(o=e("#coloniaAmex").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='coloniaAmex' id='coloniaAmex' value='' class='cajaTextoGris' required/>"))},p=function(){var a,o,t;t=e("#municipioAmex").val(),o=void 0,a=void 0,"none"===t&&(o=e("#municipioAmex").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='municipioAmex' id='municipioAmex' value='' class='cajaTextoGris' required/>"))},i=function(a){parseInt(a)&&5===a.length&&(loading(!0),ModuleSepomex.Sepomex.serviceSepomex(a).then(function(a){var o;return!0===a.estatus?""!==a.datacp.estado.d_estado?(e("#estadoAmex").val(a.datacp.estado.d_estado),e("#coloniaAmex").removeAttr("disabled"),e("#estadoAmex").removeAttr("disabled"),e("#municipioAmex").removeAttr("disabled"),e("#ciudadAmex").removeAttr("disabled"),e("#municipioContainerAmex span").remove(""),e("#municipioAmex").remove(),a.datacp.municipios.length>0?(e("body").off("change","#municipioAmex"),e("#municipioContainerAmex").append('<span><select name="municipioAmex" id="municipioAmex" class="selectGris" required="required"></select></span>'),e.each(a.datacp.municipios,function(e,a){return o+="<option value="+a.d_mnpio+">"+a.d_mnpio+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipioAmex").html(""),e("#municipioAmex").html(o),e("#municipioAmex").change(p)):(e("#municipioContainerAmex span").remove(),e("#municipioContainerAmex").append("<input type='text' maxlength='35' name='municipioAmex' id='municipio' classTar='cajaTextoGris'  value='' />")),e("#coloniaContainerAmex span").remove(""),e("#coloniaAmex").remove(),a.datacp.colonia.length>0?(e("body").off("change","#coloniaAmex"),e("#coloniaContainerAmex").append("<span><select name='coloniaAmex' id='coloniaAmex' class='selectGris' required='required'></select></span>"),o="",e.each(a.datacp.colonia,function(e,a){return o+="<option value="+a.d_asenta+">"+a.d_asenta+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#coloniaAmex").html(""),e("#coloniaAmex").html(o),e("#coloniaAmex").change(u)):(e("#coloniaContainerAmex span").remove(),e("#coloniaContainerAmex").append("<input type='text' maxlength='35' name='coloniaAmex' id='coloniaTar' class='cajaTextoGris' value='' />")),""!==a.datacp.ciudad.d_ciudad&&e("#ciudadAmex").val(a.datacp.ciudad.d_ciudad),loading(!1)):(e("#codpostalAmex, #estadoAmex").val(""),alert("En nuestros registros no encontramos tu cp, intenta con otro CP"),loading(!1)):(alert("En nuestros registros no encontramos tu cp, intenta con otro"),e("#codpostalAmex, #estadoAmex").val(""),loading(!1)),loading(!1)}))},a.seleccionTarjetaAmex=function(a){var o;return e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex, #csAmex").removeClass("error"),e("#msgErrorTarjetaAmex").hide().html(""),e(".radioGroupAmex").hasClass("Activeradio2")&&(o=e(a).data("id"),0===o?(document.getElementById("formAmex").reset(),e("body").off("blur","#numeroAmex"),e("#idTarAm").val(0),e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex").attr("readonly",!1),e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex").attr("required",!0),d()):n(o).done(function(a){return a.status?(e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex").attr("readonly",!0),e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex").attr("required",!1),c(a.dataTarjeta),loading(!1)):(e("#msgErrorTarjetaAmex").show().html(a.error),loading(!1))})),e(".radioGroupAmex").removeClass("Activeradio2"),e(a).addClass("Activeradio2")},a.obtenerTarjetasAmex=function(){e.ajax({type:"POST",url:"/caja/tarjetasAmex/obtenerTarjetas",dataType:"JSON",beforeSend:function(){return e("#msgErrorTarjetaAmex").hide().html(""),loading(!0)},success:function(a){var o,t,r;if(loading(!1),!0===a.status){for(r=0,t="";r<a.tarjetas.length;)0===r?(o="Activeradio2",e("#numeroAmex, #nombreAmex, #apellidosAmex, #avAmex, #mvAmex").attr("readonly",!0),c(a.tarjetas[r])):o="",t+='<div class="radio-tc3 bords radioGroupAmex '+o+'" onclick="ModuleCaja.FormaPagoTarjetasAmex.seleccionTarjetaAmex(this)" data-id="'+a.tarjetas[r].id+'">',t+='<label class="chekin">Usar tarjeta **** **** **** '+a.tarjetas[r].digitos+"</label>",t+="</div>",r++;t+='<div class="radio-tc4 bords radioGroupAmex" onclick="ModuleCaja.FormaPagoTarjetasAmex.seleccionTarjetaAmex(this)" data-id="0">',t+='<label class="chekin">Ingresar nueva tarjeta</label>',t+="</div>"}else""!==a.error&&e("#msgErrorTarjetaAmex").show().html(a.error),loading(!1);e("#form-tdc-amex").html(""),e("#form-tdc-amex").html(t)},error:function(){loading(!1),e("#msgErrorTarjetaAmex").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},c=function(a){l(a.bm),e("#numeroAmex").val("**** **** **** "+a.digitos),e("#nombreAmex").val(a.nombre),e("#apellidosAmex").val(a.apellido),e("#avAmex, #mvAmex").val(""),e("#avAmex").html('<option disabled="" selected="" value="0">****</option>'),e("#mvAmex").html('<option disabled="" selected="" value="0">**</option>'),e("#idTarAm").val(a.id)},d=function(){var a,o,t,r;o=document.getElementById("avAmex"),e("#avAmex").html(""),a=(new Date).getFullYear(),t=7,function(e,a,r){var n;if(null!==o)for(;;)if(n=a.toString(),n=n.substring(n.length-2),e.add(new Option(a++,n),null),!--t)break}(o,a),r=function(o){var t,r,n;if(n=document.getElementById("mvAmex"),e("#mvAmex").html(""),(new Date).getFullYear(),r=parseInt(o)!==parseInt(a)?1:(new Date).getMonth()+1,o>1&&null!==n)for(;;)if(t=r<10?"0"+r:r,n.add(new Option(t,t),null),!(++r<=12))break},r(a),e("#av").change(function(){return r("20"+this.value)})},n=function(a){return loading(!0),e.ajax({url:"/caja/tarjetasAmex/obtenerTarjeta",type:"POST",dataType:"json",cache:!1,data:{idTarjeta:a}})},a.isValidCreditCard=function(a){var o,t;return console.log("isValidFunction AMEX"),t=e.trim(e(a).val()),o=/^[0-9]{15}$/,!0!==o.test(t)?s("numeroAmex","¡Numero Tarjeta Incorrecto!"):(e(a).removeClass("error"),e("#btnpagarTarjetaAmex").trigger("click"),console.log(e(a).val()))},a}(),o.FormaPagoTarjetasAmex=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u,p;return a.init=function(){c(),s(),e("body").off("click","#btnpagarTarjeta"),e("#btnpagarTarjeta").click(o),e("#msiHtml").hide(),e("#msgErrorTarjeta").hide(),e("#numero").blur(function(e){ModuleCaja.FormaPagoTarjetasCredDeb.mesesCard(this.value)}),e("#codpostal").blur(function(e){n(this.value)}),e("#mensualidad").change(function(){var a,o;o=e(this).children("option:selected").data("prm"),a=e(this).children("option:selected").data("bm"),e("#idPromocionCred").val(o),d(this.value,o,a)}),e("#numero").keyup(function(){e("#numero").validateCreditCard(function(a){var o;!0===a.luhn_valid&&(e(".cards").removeClass("selected"),o=a.card_type.name),in_array(o,["visa","mastercard"],!1)&&e("#img_"+o).addClass("selected")})}),"1"===e("#banderaAmex").val()?(e("#img_visa").remove(),e("#img_mastercard").remove(),e("#img_pmovil").remove()):(e("#img_verde_amex").remove(),e("#img_plata_amex").remove())},o=function(a){var o,r,n,l,s,c,d,u,p,m,f,g,v,h,C,b,x,w,y,P,j,T,_,D;if(a.preventDefault(),m=e("input[name='directorio']:checked").val(),l=e.trim(e("#cs").val()),b=parseInt(e("#idTarjeta").val()),j=e.trim(e("#numero").val()),P=e.trim(e("#nombreTar").val()),r=e.trim(e("#apellidosTar").val()),C=parseInt(e("#idPromocionCred").val()),0===b){if(h=/^[0-9]{16}$/,!0!==h.test(j))return i("numero","¡Numero Tarjeta Incorrecto!");if(e("#numero").removeClass("error"),v=/^[a-zA-Z ]/,!0!==v.test(P))return i("nombreTar","¡Debe Escribir Nombre!");if(e("#nombreTar").removeClass("error"),!0!==v.test(r))return i("apellidosTar","¡Debe Escribir Apellidos!");e("#apellidosTar").removeClass("error")}if("direccion_nueva"===m)e("#msgErrorTarjeta").hide().html(""),
D=ModuleValida.ValidaFormulario.validaFormulario("formTar");else{if(g=/^[0-9]{3,4}$/,!0!==g.test(l))return i("cs","¡Código Verificación Incorrecto!");e("#cs").removeClass("error"),D=!0}if(D)return w=e("#mv").val(),o=e("#av").val(),u=e("#deviceFingerprintID").val(),x=e("#mensualidad").val(),p=e("#direccion_tarjeta").val(),c=e("#codpostal").val(),s=e("#coloniaTar").val(),y=e("#municipioTar").val(),f=e("#estadoTar").val(),T=e("#telefonoTar").val(),n=e("#ciudadTar").val(),d={numeroTar:j,nombreTar:P,apellidosTar:r,mesvenc:w,anyovenc:o,codseg:l,deviceFinger:u,meses:x,direccion_tarjeta:p,cpostal:c,colonia:s,municipio:y,estado:f,telefono:T,ciudad:n,directorio:m,idTarjeta:b,idPromocion:C},_="/caja/tarjetascredito/validartarjetas",e.ajax({url:_,type:"post",dataType:"json",data:d,beforeSend:function(){loading(!0),e("#msgErrorTarjeta").hide().html("")},success:function(a){loading(!1),!0===a.exito?t.location.href="/caja/tarjetascredito/thankupage":(e("#msgErrorTarjeta").show(),e("#msgErrorTarjeta").html(a.error))},error:function(){loading(!1),e("#msgErrorTarjeta").show(),e("#msgErrorTarjeta").html("Intente mas tarde"),console.log("error en el ajax Tar")}})},i=function(a,o){return e("#"+a).addClass("error"),e("body").off("blur","#"+a),e("#msgErrorTarjeta").show(),e("#msgErrorTarjeta").html(o),!1},a.mesesCard=function(a){var o,t,r;if(a.length>=6)return o=a.substring(0,6),t={bim:o},r="/caja/tarjetascredito/validaMeses",e.ajax({url:r,type:"post",dataType:"json",data:t,beforeSend:function(){loading(!0)},success:function(a){var t;loading(!1),!0===a.exito?(e("#msiHtml").show(),console.log("mensualidades: mesn"),t=a.mensualidades,e("#mensualidad").html(""),e.each(t,function(a,t){var r,n;r=t.mensualidad>1?"pagos":"pago",n=t.mensualidad+" "+r+" de "+t.pago+" (Precio "+t.precio+")",0===a&&(e("#idPromocionCred").val(t.promocion),ModuleCaja.ResumenCompra.recalcular(3912,o,null,t.promocion)),e("<option>").val(t.mensualidad).text(n).data("prm",t.promocion).data("bm",o).appendTo("#mensualidad")})):(e("#msiHtml").hide(),e("#msiMsg").html(a.msg))},error:function(){loading(!1),console.log("error en el ajax")}})},u=function(){var a,o,t;t=e("#coloniaTar").val(),o=void 0,a=void 0,"none"===t&&(o=e("#coloniaTar").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='coloniaTar' id='coloniaTar' value='' class='cajaTextoGris' required/>"))},p=function(){var a,o,t;t=e("#municipioTar").val(),o=void 0,a=void 0,"none"===t&&(o=e("#municipioTar").parent(),a=o.parent(),o.remove(),a.append("<input type='text' name='municipioTar' id='municipioTar' value='' class='cajaTextoGris' required/>"))},n=function(a){parseInt(a)&&5===a.length&&(loading(!0),ModuleSepomex.Sepomex.serviceSepomex(a).then(function(o){var t;return console.log("cp:"+a),console.log(o),!0===o.estatus?""!==o.datacp.estado.d_estado?(e("#estadoTar").val(o.datacp.estado.d_estado),e("#coloniaTar").removeAttr("disabled"),e("#estadoTar").removeAttr("disabled"),e("#municipioTar").removeAttr("disabled"),e("#ciudadTar").removeAttr("disabled"),e("#municipioContainerTar span").remove(""),e("#municipioTar").remove(),o.datacp.municipios.length>0?(e("body").off("change","#municipioTar"),e("#municipioContainerTar").append('<span><select name="municipioTar" id="municipioTar" class="selectGris" required="required"></select></span>'),e.each(o.datacp.municipios,function(e,a){return t+="<option value="+a.d_mnpio+">"+a.d_mnpio+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipioTar").html(""),e("#municipioTar").html(t),e("#municipioTar").change(p)):(e("#municipioContainerTar span").remove(),e("#municipioContainerTar").append("<input type='text' maxlength='35' name='municipioTar' id='municipio' classTar='cajaTextoGris'  value='' />")),e("#coloniaContainerTar span").remove(""),e("#coloniaTar").remove(),o.datacp.colonia.length>0?(e("body").off("change","#coloniaTar"),e("#coloniaContainerTar").append("<span><select name='coloniaTar' id='coloniaTar' class='selectGris' required='required'></select></span>"),t="",e.each(o.datacp.colonia,function(e,a){return t+="<option value="+a.d_asenta+">"+a.d_asenta+"</option>"}),t+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#coloniaTar").html(""),e("#coloniaTar").html(t),e("#coloniaTar").change(u)):(e("#coloniaContainerTar span").remove(),e("#coloniaContainerTar").append("<input type='text' maxlength='35' name='coloniaTar' id='coloniaTar' class='cajaTextoGris' value='' />")),""!==o.datacp.ciudad.d_ciudad&&e("#ciudadTar").val(o.datacp.ciudad.d_ciudad),loading(!1)):(e("#codpostal, #estadoTar").val(""),alert("En nuestros registros no encontramos tu cp, intenta con otro CP"),loading(!1)):(alert("En nuestros registros no encontramos tu cp, intenta con otro"),e("#codpostal, #estadoTar").val(""),loading(!1)),loading(!1)}))},c=function(){e.ajax({type:"POST",url:"/caja/tarjetascredito/obtenerTarjetas",dataType:"JSON",beforeSend:function(){return e("#msgErrorTarjeta").hide().html(""),loading(!0)},success:function(a){var o,t,r;if(console.log(a),loading(!1),!0===a.status){for(r=0,t="";r<a.tarjetas.length;)console.log(a.tarjetas[r].digitos),0===r?(o="Activeradio2",e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("readonly",!0),e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("required",!1),l(a.tarjetas[r]),ModuleCaja.FormaPagoTarjetasCredDeb.recalculaMeses(3912,a.tarjetas[r].bm+"0000000000").then(function(e){return loading(!1)})):o="",t+='<div class="radio-tc3 bords radioGroup '+o+'" onclick="ModuleCaja.FormaPagoTarjetasCredDeb.seleccionaDireccion(this)" data-id="'+a.tarjetas[r].id+'">',t+='<label class="chekin">Usar tarjeta **** **** **** '+a.tarjetas[r].digitos+"</label>",t+="</div>",r++;t+='<div class="radio-tc4 bords radioGroup" onclick="ModuleCaja.FormaPagoTarjetasCredDeb.seleccionaDireccion(this)" data-id="0">',t+='<label class="chekin">Ingresar nueva tarjeta</label>',t+="</div>"}else console.log("error tarjet"),""!==a.error&&e("#msgErrorTarjeta").show().html(a.error),loading(!1);e("#form-tdc").html(""),e("#form-tdc").show().html(t)},error:function(){loading(!1),e("#msj_error_telmex").html("").html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},a.seleccionaDireccion=function(a){var o;return e("#numero, #nombreTar, #apellidosTar, #av, #mv, #cs").removeClass("error"),e("#msgErrorTarjeta").hide().html(""),e(".radioGroup").hasClass("Activeradio2")&&(o=e(a).data("id"),0===o?(document.getElementById("formTar").reset(),e("body").off("blur","#numero"),e("#idTarjeta").val(o),e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("readonly",!1),e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("required",!0),e("#containerTarjeta").html(""),e("#containerTarjeta").html('<input data-bm="" data-validate="tarjeta" type="text" onblur="ModuleCaja.FormaPagoTarjetasCredDeb.recalculaMeses( 3912, this.value);" id="numero" name="numero"  class="form-control" placeholder="Ej: 12012341234" tabindex="1" maxlength="16" required="required">'),s()):r(o).done(function(a){return console.log(a),a.status?(e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("readonly",!0),e("#numero, #nombreTar, #apellidosTar, #av, #mv").attr("required",!1),ModuleCaja.FormaPagoTarjetasCredDeb.recalculaMeses(3912,a.dataTarjeta.bm+"0000000000").then(function(e){return l(a.dataTarjeta),loading(!1)})):(e("#msgErrorTarjeta").show().html(a.error),loading(!1))})),e(".radioGroup").removeClass("Activeradio2"),e(a).addClass("Activeradio2")},l=function(a){console.log(a),e("#containerTarjeta").html(""),e("#containerTarjeta").html('<input data-bm="'+a.bm+'" type="text" id="numero" name="numero"  class="form-control" tabindex="1" maxlength="16" readonly value="**** **** **** '+a.digitos+'">'),e("#nombreTar").val(a.nombre),e("#apellidosTar").val(a.apellido),e("#av, #mv").val(""),e("#av").html('<option disabled="" selected="" value="">****</option>'),e("#mv").html('<option disabled="" selected="" value="">**</option>'),e("#idTarjeta").val(a.id)},s=function(){var a,o,t,r;o=document.getElementById("av"),e("#av").html(""),a=(new Date).getFullYear(),t=7,function(e,a,r){var n;if(null!==o)for(;;)if(n=a.toString(),n=n.substring(n.length-2),e.add(new Option(a++,n),null),!--t)break}(o,a),r=function(o){var t,r,n;if(n=document.getElementById("mv"),e("#mv").html(""),(new Date).getFullYear(),r=parseInt(o)!==parseInt(a)?1:(new Date).getMonth()+1,o>1&&null!==n)for(;;)if(t=r<10?"0"+r:r,n.add(new Option(t,t),null),!(++r<=12))break},r(a),e("#av").change(function(){return r("20"+this.value)})},r=function(a){return loading(!0),e.ajax({url:"/caja/tarjetascredito/obtenerTarjeta",type:"POST",dataType:"json",cache:!1,data:{idTarjeta:a}})},a.isValidCreditCard=function(a){return console.log("isValidFunction"),e("#btnpagarTarjeta").trigger("click"),console.log(e(a).val())},a.recalculaMeses=function(e,a){return ModuleCaja.FormaPagoTarjetasCredDeb.mesesCard(a)},d=function(e,a,o){return ModuleCaja.ResumenCompra.recalcular(3912,o,null,a)},a}(),o.FormaPagoTarjetasCredDeb=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u,p,m;return a.init=function(){e("#sendTelmexStep1Form").click(m),e("#Validate2").click(r),e("#ValidateMiTelmex").click(n),e(".regresarBtn").click(d),e("#misma-direccion").click(i),e("#otra-direccion").click(s),e("#validarCPFrmTelmex").click(p)},m=function(a){var t;a.preventDefault(),t=e("#tmxStep1Tel").val(),e("#msj_error_telmex").html(""),t.match(/^[0-9]+$/)&&parseInt(t)>0&&10===t.length?o({telefono:t},e("#tmxStep1Tel").removeClass("error")):(e("#tmxStep1Tel").addClass("error"),e("#msj_error_telmex").html("Verifique su número telefónico."))},o=function(a){var o;return o="/caja/telmex/tipoLineaTmx",e.ajax({url:o,type:"post",dataType:"json",data:a,beforeSend:function(){loading(!0),e("#msj_error_telmex").hide().html(""),console.log("espere...")},success:function(a){switch(loading(!1),e("#tmxStep1Tel").removeClass("error"),e("#tmxStep1Tel").attr("readonly",!0),a.tipo){case 1:e(".FP-Telmex2").show(),e("#sendTelmexStep1Form").hide(),e(".shadow").css("box-shadow","0 0 0 1px rgba(0, 0, 0, 0.1), 0 3px 5px rgba(0, 0, 0, 0.2)");break;case 2:e(".FP-Telmex2").hide(),e("#Form-FP-Telmex2").show(),e("#sendTelmexStep1Form").hide(),e(this).css("cursor","pointer"),e("#otra-direccion").children().css("cursor","pointer"),e(this).css("cursor","pointer"),e("#misma-direccion").children().css("cursor","pointer"),e(".shadow").css("box-shadow","0 0 0 1px rgba(0, 0, 0, 0.1), 0 3px 5px rgba(0, 0, 0, 0.2)"),e("#ValidateMiTelmex").removeAttr("readonly");break;case 3:e("#tmxStep1Tel").addClass("error"),e("#msj_error_telmex").show().html(a.error),e("#tmxStep1Tel").attr("readonly",!1);break;default:e("#msj_error_telmex").show().html(a.error)}console.log(a)},error:function(){loading(!1)}})},r=function(a){var o,t,r;return a.preventDefault(),r=e("#tmxStep1Tel").val(),o=e("#contrasenaMiTelmex").val(),t={telefono:r,contrasena:o},null!=r&&null!=o?e.ajax({type:"POST",url:"/caja/telmex/loginTmx",dataType:"JSON",data:t,beforeSend:function(){loading(!0),console.log("espere Login..."),e("#msj_error_telmex").hide().html("")},success:function(a){loading(!1),a.valida?(e(".FP-Telmex2").hide(),l()):e("#msj_error_telmex").show().html(a.error),console.log(a)},error:function(){loading(!1),e("#msj_error_telmex").show().html("hubo un error inesperado, favor de volver a intentar mas tarde")}}):e("#msj_error_telmex").show().html("Telefono y contraseña requerida!")},l=function(){e.ajax({type:"GET",url:"/caja/telmex/obtenerMeses",dataType:"JSON",beforeSend:function(){loading(!0),console.log("meses...")},success:function(a){loading(!1),a.mensualidades?(e("#telmex-mensualidades").html(""),a.mensualidades.forEach(function(a,o){e("#telmex-mensualidades").append('<div class="radio">\n\t\t<input type="radio" value= \'telmex'+a.meses+"' \n\t\t\t\tid='meses_"+a.meses+'\' \n\t\t\t\tname="op" class="form-control :focus required"> \n\t\t<label>\n\t\t\t '+a.meses+" meses de $"+a.monto+" MXN\n\t\t</label>\n</div>")}),e("#telmex-mensualidades").append('<div class="FP-Telmex2_btns">\n\t<button onclick="ModuleCaja.FormaPagoTelmex.regresarMensualidad(event)" class="standardBtn">Regresar</button><button type="" onclick="ModuleCaja.FormaPagoTelmex.pagar()" id="DownA" class="redBtn Confirm">\n\tPagar\n\t</button>\n</div>\n'),e(".FP-Telmex3").fadeIn("slow"),e("#Form-FP-Telmex2").fadeOut("slow"),e("#datoslineaT").find("input").val(""),e("html, body").animate({scrollTop:e("#telmexStep1Form").offset().top-700},2e3)):e("#msj_error_telmex").show().html(a.error)},error:function(){loading(!1),e("#msj_error_telmex").show().html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},a.pagar=function(){var a,o;return null==(o=e("input[name=op]:checked","#telmex-mensualidades").val())?void e("#msj_error_telmex").show().html("selecciona una opcion"):(a={op:o},e.ajax({type:"POST",url:"/caja/telmex/validarFormaPago",dataType:"JSON",data:a,beforeSend:function(){loading(!0),e("#msj_error_telmex").hide().html(""),console.log("validar forma de pago...")},success:function(a){a.valida?c():(loading(!1),e("#msj_error_telmex").show().html(a.error))},error:function(){loading(!1),e("#msj_error_telmex").show().html("hubo un error al procesar la peticion favor de intentar mas tarde")}}))},c=function(){return e.ajax({type:"GET",url:"/caja/telmex/revisarProcesos",dataType:"JSON",beforeSend:function(){loading(!0),e("#msj_error_telmex").hide().html(""),console.log("pagar ...")},success:function(a){a.valida?t.location.href="/caja/telmex/thankupage":(loading(!1),e("#msj_error_telmex").show().html(a.error))},error:function(){loading(!1),e("#msj_error_telmex").show().html("hubo un error al procesar la peticion favor de intentar mas tarde")}})},n=function(a){var o,t,r;a.preventDefault(),r=!1,o=e("#datoslineaT").find("input, select").serializeObject(),o.otraDir=!1,"true"===e("#otra-direccion").attr("data-option")?(o.otraDir=!0,r=ModuleValida.ValidaFormulario.validaFormulario("datoslineaT")):(r=!0,e("#ValidateMiTelmex").attr("readonly",!1)),!0===r&&(o.telefono=e("#tmxStep1Tel").val(),t={data:o},console.log("datos"+t),e.ajax({type:"POST",url:"/caja/telmex/loginFrmTmx",dataType:"JSON",data:t,beforeSend:function(){loading(!0),e("#msj_error_telmex").hide().html("")},success:function(a){a.valida?(console.log("datos validados"),l()):(loading(!1),e("#msj_error_telmex").show().html(a.error))},error:function(){loading(!1),e("#msj_error_telmex").show().html("hubo un error al procesar la peticion favor de intentar mas tarde")}}))},a.regresarMensualidad=function(a){d(a),e(".FP-Telmex3").hide()},d=function(a){a.preventDefault(),e("#tmxStep1Tel").attr("readonly",!1),e(".FP-Telmex2").show(),e("#Form-FP-Telmex2").hide(),e(".FP-Telmex2").hide(),e("#sendTelmexStep1Form").show()},s=function(a){a.preventDefault(),e("#datoslineaT").show(),e("#escribe-direccion").show(),e(this).addClass("Activeradio2"),e(this).attr("data-option","true"),e("#misma-direccion").attr("data-option","false"),e("#misma-direccion").removeClass("Activeradio2")},i=function(a){a.preventDefault(),e("#datoslineaT").hide(),e(this).addClass("Activeradio2"),e(this).attr("data-option","true"),e("#otra-direccion").removeClass("Activeradio2"),e("#otra-direccion").attr("data-option","false"),e("#escribe-direccion").hide(),e("#datoslineaT").find("input").val(""),e("#ValidateMiTelmex").attr("readonly",!1)},p=function(a){var o;if(a.preventDefault(),o=e("#cpFrmTelmex").val(),parseInt(o)&&5===o.length)return loading(!0),ModuleSepomex.Sepomex.serviceSepomex(o).then(function(a){var o;return console.log(a),a.estatus?(e("#ValidateMiTelmex").attr("readonly",!1),""!==a.datacp.estado.d_estado?(e("#estadoFrmTelmex").val(a.datacp.estado.d_estado),e("#coloniaFrmTelmex").removeAttr("readonly"),e("#estadoFrmTelmex").removeAttr("readonly"),e("#municipioFrmTelmex").removeAttr("readonly"),e("#ciudadFrmTelmex").removeAttr("readonly"),e("#municipioFrmTelmexContainer span").remove(""),e("#municipioFrmTelmex").remove(),a.datacp.municipios.length>0?(e("body").off("change","#municipioFrmTelmex"),e("#municipioFrmTelmexContainer").append('<span><select name="municipioFrmTelmex" id="municipioFrmTelmex" class="selectGris" required="required"></select></span>'),e.each(a.datacp.municipios,function(e,a){return o+="<option value="+a.d_mnpio+">"+a.d_mnpio+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipioFrmTelmex").html(""),e("#municipioFrmTelmex").html(o),e("#municipioFrmTelmex").change(function(){return u(e("#municipioFrmTelmex").attr("id"),e("#municipioFrmTelmex").attr("name"))})):(e("#municipioFrmTelmexContainer span").remove(),e("#municipioFrmTelmexContainer").append("<input type='text' maxlength='35' name='municipio' id='municipioFrmTelmex' class='cajaTextoGris'\tvalue='' />")),e("#coloniaFrmTelmexContainer span").remove(""),e("#coloniaFrmTelmex").remove(),a.datacp.colonia.length>0?(e("body").off("change","#coloniaFrmTelmex"),e("#coloniaFrmTelmexContainer").append("<span><select name='coloniaFrmTelmex' id='coloniaFrmTelmex' class='selectGris' required='required'></select></span>"),o="",e.each(a.datacp.colonia,function(e,a){return o+="<option value="+a.d_asenta+">"+a.d_asenta+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#coloniaFrmTelmex").html(""),e("#coloniaFrmTelmex").html(o),e("#coloniaFrmTelmex").change(function(){return u(e("#coloniaFrmTelmex").attr("id"),e("#coloniaFrmTelmex").attr("name"))})):(e("#coloniaContainer span").remove(),e("#coloniaContainer").append("<input type='text' maxlength='35' name='colonia' id='colonia' class='cajaTextoGris' value='' />")),""!==a.datacp.ciudad.d_ciudad&&e("#ciudadFrmTelmex").val(a.datacp.ciudad.d_ciudad),loading(!1)):(e("#cpostal, #estadoFrmTelmex").val(""),alert("En nuestros registros no encontramos tu cp, intenta con otro"),loading(!1))):(alert("En nuestros registros no encontramos tu cp, intenta con otro"),e("#cpostal, #estadoFrmTelmex").val(""),loading(!1)),e(".AvisoCostodeEnvio").show(),e(".dirHide").show(),loading(!1)})},u=function(a,o){var t,r,n;if(n=e("#"+a).val(),r=void 0,t=void 0,"none"===n)return r=e("#"+a).parent(),t=r.parent(),r.remove(),t.append("<input type='text' name='"+o+"' id='"+a+"' value='' required/>")},a.validacionRDD=function(){return loading(!0),e.ajax({url:"/caja/telmex/validarRDD",type:"POST",dataType:"json",cache:!1})},a}(),o.FormaPagoTelmex=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}return a.init=function(){return this.ajaxFormasdePago=function(){e("#divformas").html(""),e.ajax({type:"GET",url:"/caja/getFormasdePago/",success:function(a){e("#divformas").html(a)},error:function(e){console.log("error")}})}},a}(),o.FormasdePago=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}return a.init=function(){return e(".pagoElementHead").on("click",function(){var a,o;o=e(this).parent().attr("id"),ModuleDatalayer.Eventos.setCheckoutStep3(o),e(this).hasClass("active")?(e(this).removeClass("active"),"3912"===o?(a=e("#numero").data("bm"),a=String(a),ModuleCaja.FormaPagoTarjetasCredDeb.recalculaMeses(3912,a)):recalcular,e(".pagoElementHead").removeClass("active"),e("#descuentoCredito").text("$0")):(e(".pagoElementHead").removeClass("active"),e(this).addClass("active"),"3158"===o?ModuleCaja.FormaPagoTelmex.validacionRDD().done(function(a){return recalcular(o),e("#descuentoCredito").text("$"+a.validardd.toFixed(2))}):"3912"===o?(a=e("#numero").data("bm"),a=String(a),ModuleCaja.FormaPagoTarjetasCredDeb.recalculaMeses(3912,a)):(e("#descuentoCredito").text("$0"),recalcular(o))),"344"===o&&ModuleCaja.FormaPagoTarjetasAmex.obtenerTarjetasAmex(),"4384"===o&&ModuleCaja.FormaPagoDepartamentales.obtenerTarjetasDep()}),e(".desplegable, .continuar").click(function(){e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegable, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){})}),e(".radio-tc").on("click",function(){e(this).addClass("Activeradio"),e(".radio-tc2").removeClass("Activeradio"),e(".form-group2").fadeOut()}),e(".radio-tc2").on("click",function(){e(this).addClass("Activeradio"),e(".radio-tc").removeClass("Activeradio"),e(".form-group2").fadeIn()}),e(".radio-tc3").click(function(a){a.preventDefault(),e(this).addClass("Activeradio2"),e(".radio-tc4").removeClass("Activeradio2"),e(".radio-tc5").removeClass("Activeradio2"),e(".form-group3").fadeOut()}),e(".radio-tc4").click(function(a){a.preventDefault(),e(this).addClass("Activeradio2"),e(".radio-tc3").removeClass("Activeradio2"),e(".radio-tc5").removeClass("Activeradio2"),e(".form-group3").fadeOut()}),e(".radio-tc5").click(function(a){a.preventDefault(),e(this).addClass("Activeradio2"),e(".radio-tc3").removeClass("Activeradio2"),e(".radio-tc4").removeClass("Activeradio2"),e(".form-group3").fadeIn(),e(".tarjetasCredimg").fadeIn()}),e(".radio-tc6").click(function(a){a.preventDefault(),e(this).addClass("Activeradio2"),e(".radio-tc7").removeClass("Activeradio2"),e(".opcselec").fadeOut()}),e(".radio-tc7").click(function(a){a.preventDefault(),e(this).addClass("Activeradio2"),e(".radio-tc6").removeClass("Activeradio2"),e(".opcselec").fadeIn()})},a}(),o.IndexTpl=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,t;return a.start=function(){return e(function(){t()})},t=function(){return e("#enviaToken").click(o)},o=function(){return loading(!0),e.ajax({url:"/selfservice/envioToken/",type:"POST",dataType:"json",success:function(a){return console.log(a),a.status?(console.log(a.url+"?token="+a.token,"_blank"),window.open(a.url+"?token="+a.token,"_blank"),loading(!1)):(e.fancybox.open({type:"iframe",href:"/registrate/box?opcion=loginss&register=active",titlePosition:"inside",transitionIn:"none",transitionOut:"none",width:"100%",maxWidth:600}),loading(!1))}})},function(){},a}(),o.LoginSelfService=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}var o,t;return a.init=function(){e(".rc_btnDesp, .rc_btnDespText").click(function(e){return e.preventDefault(),o()}),e(".dp_btnDesp, .dp_btnDespText").click(function(e){return e.preventDefault(),t()})},function(){return e(".col1, .col2").theiaStickySidebar({additionalMarginTop:40,minWidth:840})},o=function(){return e(".rc_detalle").hasClass("active")?(e(".rc_btnDesp").removeClass("active"),e(".rc_detalle").removeClass("active")):(e(".rc_detalle").addClass("active"),e(".rc_btnDesp").addClass("active"))},t=function(){return e(".dp_btnDesp").hasClass("active")?(e(".resumenProductoCont").hide(),e(".dp_btnDesp").removeClass("active")):(e(".resumenProductoCont").show(),e(".dp_btnDesp").addClass("active"))},a}(),o.ThankYou=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}return a.start=function(){return e(function(){o.DireccionesEnvio.init(),o.Cupon.init(),o.DetalleEnvio.init(),o.IndexTpl.init(),o.FormaPagoTelmex.init(),o.ClickRecoge.init(),o.FormaDeposito.init(),o.FormaPagoGratuito.init(),o.FormaPagoEnTiendas.init(),o.ThankYou.init(),o.FormaPagoTarjetasCredDeb.init(),o.FormaPagoPayu.init(),o.FormaPagoTarjetasAmex.init(),o.FormaPagoPaypal.init(),o.FormaPagoDepartamentales.init(),o.FormaPagoMercadoPago.init(),o.FormaPagoPuntosSears.init(),o.FormaPagoCertificadoMonedero.init()})},a}(),o.App=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCarrito&&null!==ModuleCarrito?ModuleCarrito:{},t.ModuleCarrito=o,a=function(){function a(){}var o,r,n,i,l,s;return a.init=function(){return this.ajaxLogin(),e("#comprar").click(function(a){var t,r;return a.preventDefault(),loading(!0),t=e(this).data("form"),r=null!=t?t:"det_compra",o(r,1),window.location.assign("/carrito/")}),e("#addCarrito").click(function(a){var t,r;return a.preventDefault(),t=e(this).data("form"),r=null!=t?t:"det_compra",o(r,2)}),e("div.botones > a.promocion").click(function(a){var o;return a.preventDefault(),o=e(this).data("promocion"),r(o)})},a.initLoading=function(){return n()},n=function(){var a,o;return o="/carrito/getCantidadTotalProductos",a=e.Deferred(),e.ajax({type:"get",url:o,dataType:"json",cache:!1,success:function(o){return i().done(function(t){var r;return r=parseInt(o),console.log(r),r>0?(e("#cart_count").text(r),e("#cantidadProductos a").attr("href","/carrito/")):(e("#cart_count").text(r),e("#cantidadProductos a").attr("href","#")),a.resolve()})},error:function(){return console.log("Error al traer la cantidad de productos"),a.fail()}}),a.promise()},l=function(e){var a,o,t,r,n;for(n=e+"=",o=document.cookie.split(";"),t=0,r=o.length;t<r;t++){for(a=o[t];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},a.ajaxLogin=function(){var a,o,t;return e(".blueHeart2").css("visibility","hidden"),o=l("token_cart"),console.log("token_cart"+o),a=e.Deferred(),t="/carrito/login",e.ajax({type:"get",url:t,dataType:"json",cache:!1,success:function(t){var r,i,l,c,d,u,p,m,f,g,v,h,C,b,x,w,y,P,j,T;return console.log("logueado ajax: ["+t.login+"]"),e("#box__login").html(""),C=document.getElementById("box__login"),document.getElementById("wishlist_snippet"),!1===t.login?(s(),ScarabQueue.push(["cart",[]]),null!==o&&n()):(n(),e("#wishlist_snippet").css("display","flex"),e(".blueHeart2").css("visibility","visible"),ScarabQueue.push(["setEmail",t.email]),ScarabQueue.push(["cart",t.emarcys]),document.getElementById("logeado").value=1,e("#validMail").val(t.email),e("#validMail").prop("hidden","true"),e("#validMail").prop("readonly","true"),e("#checkAgotado").prop("checked","none"),T=document.getElementById("userInformation"),m="<span>Bienvenido</span>"+t.username,T.innerHTML="",T.innerHTML=m,u=document.createElement("dl"),f=document.createElement("dt"),r=document.createElement("a"),r.href="/mi-cuenta/mis-datos/",x=document.createTextNode("Entrar a mi cuenta"),r.appendChild(x),f.appendChild(r),h=document.createElement("dt"),l=document.createElement("a"),l.href="/mi-cuenta/mis-pedidos/1/",y=document.createTextNode("Revisar mis pedidos"),l.appendChild(y),h.appendChild(l),document.createElement("dt"),c=document.createElement("a"),c.href="/mi-cuenta/listadeseos/",u.appendChild(f),u.appendChild(h),!0===t.isCampaniaCompartido&&(g=document.createElement("dt"),i=document.createElement("a"),i.href="/mi-cuenta/cupon/",console.log("cupon ",i.href),i.href=i.href.replace(/^http:/,"https:"),w=document.createTextNode("Invitar a un amigo"),i.appendChild(w),g.appendChild(i),u.appendChild(g)),p=document.createElement("dl"),p.setAttribute("class","logOut"),p.setAttribute("style","display: block !important;"),v=document.createElement("dt"),b=document.createElement("p"),j=document.createTextNode("¿ No eres "+t.username+" ?"),b.appendChild(j),d=document.createElement("a"),d.setAttribute("onclick","cerrar_sesion(event)"),d.href="#cerrar-sesion",P=document.createTextNode("Cerrar mi sesión"),d.appendChild(P),v.appendChild(b),v.appendChild(d),p.appendChild(v),C.appendChild(u),C.appendChild(p)),ScarabQueue.push(["go"]),e(".btn-login").on("click",function(){e(".loginTabs .loginMenu > li").removeClass("select"),e(".loginSection > li").removeClass("show"),e(".loginTabs .loginMenu > li:eq(0)").addClass("select"),e(".loginSection > li:eq(0)").addClass("show")}),e(".btn-registro").on("click",function(){e(".loginTabs .loginMenu > li").removeClass("select"),e(".loginSection > li").removeClass("show"),e(".loginTabs .loginMenu > li:eq(1)").addClass("select"),e(".loginSection > li:eq(1)").addClass("show")}),e(".loginTabs .loginMenu > li").on("click",function(){var a;return a=e(this).index(),e(".loginTabs .loginMenu > li").removeClass("select"),e(".loginSection > li").removeClass("show"),e(this).addClass("select"),e(".loginSection > li:eq("+a+")").addClass("show")}),ModuleBarraCodigoPostal.BarraCodigoPostal.start(),a.resolve()},beforeSend:function(){var a,o,t,r,n;if(e("#box__login").is(":empty"))return t=document.getElementById("box__login"),a=document.createElement("dl"),a.setAttribute("class","logIn"),o=document.createElement("dd"),r=document.createElement("p"),n=document.createTextNode("¡Estamos validando tu acceso!"),r.appendChild(n),o.appendChild(r),a.appendChild(o),t.appendChild(a)},error:function(){return a.fail(),console.log("error en login"),loading(!1)}}),a.promise()},i=function(){var a,o;return new Date,o=e.Deferred(),a="/carrito/getCarrito/",e.ajax({type:"get",url:a,dataType:"json",success:function(a){var t;return(a.length>0||Object.keys(a).length)&&(e(".boxCarritoCont").html(""),t="",e.each(a,function(e,a){t+='<article class="caja__product"><div class="fila_producto"><div class="bcp_producto"><div class="contImg"><a href="/producto/'+a.id+"/"+a.seo+'"><img src="'+a.fotos[0]+'"></a></div><div class="contInfo"><a href="/producto/'+a.id+"/"+a.seo+'"><p class="producto">'+a.nombre+'</p></a><div class="info"><p>Marca: '+a.fabricante+"</p><p>cantidad: "+a.cantidad+" </p></div></div></div></div></article>"}),e(".boxCarritoCont").html(t)),o.resolve()},beforeSend:function(){},error:function(){return o.fail(),console.log("Error en el previewCarrito"),loading(!1)}}),o.promise()},function(){var a,o;return loading(!0),o=e.Deferred(),a={cantidad:0,color:1},e.ajax({url:"/mi-cuenta/listadeseos/listar/",type:"post",dataType:"json",cache:!1,data:a,success:function(a){var t,r,n,i,l,s,c,d,u;if(!0===a.data.login){for(e(".blueHeart2").css("visibility","visible"),i="",n=0;n<a.data.productos.length;)i+=a.data.productos[n].id+",",n++;e("#wishlist_count").text(a.data.productos.length),e("#idsProducto").val(i),marcaCorazonLista()}else{if(i=[],void 0!==(c=JSON.parse(localStorage.getItem("idsProductos")))&&null!==c)for(n=0;n<c.length;)u=i.indexOf(c[n]),-1!==u&&i.splice(u,1),i.push(c[n]),n++;localStorage.setItem("idsProductos",JSON.stringify(i)),e("#idsProducto").val(i),e("#idsProductos").val(i),e("#wishlist_count").text(i.length),marcaCorazonLista()}for(r=document.getElementById("idsProducto").value,l=r.split(","),t=document.querySelectorAll(".blueHeart2"),d=0;d<l.length;){for(n=0;n<t.length;){-1!==t.item(n).getAttribute("onclick").indexOf(l[d])&&""!==l[d]&&(s=t.item(n).parentNode,s.className+=" blueHeart");break}d++}return o.resolve()},error:function(){return loading(!1),console.log("Ocurrió un error al consultar lista de deseos."),o.fail()}}),o.promise()},a.updateCantidad=function(a,o,t){var r,n,i,l;if(console.log("aplico esta"),a.preventDefault(),i="men"+o+t,(r=parseInt(document.getElementById(i).value))<1)return loading(!0),void window.location.assign("/carrito/deleteProducto/?id="+o+"&tc="+t);n={tc:t,cantidad:r,id:o},l="/carrito/updateCantidadProducto/",e.ajax({type:"post",url:l,dataType:"json",cache:!1,data:n,success:function(a){var r;return a.exito?window.location.assign("/carrito/"):(loading(!1),r=o,t.length>0&&(r=t),
e("#stockMsg"+r).css("display","block"))},error:function(e){return loading(!1),console.log("Ocurrió un error en el update de la cantidad del producto".error)},beforeSend:function(){return loading(!0)}})},a.updateCantidadProducto=function(a,o,t,r){var n,i,l,s,c;if(a.preventDefault(),console.log("id:"+o+",tc:"+t+",op:"+r),l=o,t.length>0&&(l=t),s="men"+o+t,0===r||1===r){if(n=parseInt(document.getElementById(s).value),isNaN(n)||""===n)return;(n>1||n<99)&&(0===r&&(n+=1),1===r&&(n-=1))}return!isNaN(n)&&""!==n&&((n>=1||n<=99)&&(loading(!0),i={tc:t,cantidad:n,id:o},c="/carrito/updateCantidadProducto/",e.ajax({type:"post",url:c,dataType:"json",cache:!1,data:i,success:function(a){return a.exito?window.location.assign("/carrito/"):(loading(!1),e("#stockMsg"+l).css("display","block"))},error:function(){return loading(!1),console.log("Ocurrió un error en el update de la cantidad del producto")},beforeSend:function(){return e("#stockMsg"+l).css("display","none"),loading(!0)}}),!0))},a.forceSubmit=function(a,o,t,r){var n,i;if(0===t||1===t){if(i=parseInt(document.getElementById(o).value),isNaN(i)||""===i)return;i>1||i<99?(i+="function"==typeof(n=0===t)?n({1:-1}):void 0,document.getElementById(o).value=i,e("#"+a).submit()):e("#"+a).submit()}return!1},o=function(a,o){var t,r,n,l,s,c,d,u,p;return e.fancybox.close(),2===o&&loading(!0),p=popupCarrito(a),l=document.getElementById(a),s=l.elements.id.value,c=parseInt(e("#precioInt").val()),t=parseInt(e("#c").val()),d=!1,p&&(agregarProductoCarrito(a),trackfb(a),carruselrecomendadosCarrito(!0,""+s,c,t),e("#idsProducto").val(),n=!1,r=e("#"+a).serializeObject(),console.log(r),r.ajax=1,u="/carrito/createCarrito",e.ajax({url:u,type:"POST",dataType:"JSON",async:!1,data:r,success:function(a){if(e("#cart_count").text(a),e("#cantidadProductos a").attr("href","/carrito/"),cuentaProductos+=parseInt(e("#c").val()),e("#anadidos").val(cuentaProductos),fancyCarrito(),d=!0,loading(!1),!0===n)return wishListeliminar(s,o)},complete:function(){return loading(!1),i()},beforeSend:function(){return loading(!0)},error:function(e,a,o){return loading(!1),!0===n&&console.log("Problema al agregar en carrito"),alertaGenerica("Te invitamos a comunicarte con nosotros, o crear una nueva direccion de envio por favor")}})),d},a.juntarCarritos=function(){var a;a="/carrito/juntarCarritos",e.ajax({url:a,type:"POST",dataType:"JSON",async:!1,success:function(e){},complete:function(){return loading(!1),i()},beforeSend:function(){return loading(!0)},error:function(e,a,o){return loading(!1),!0===estaDeseo&&console.log("Problema al juntar el carrito"),alertaGenerica("Te invitamos a comunicarte con nosotros")}})},a.formularioProducto=function(e){return e.comprar.classList.add("active"),e.comprar.setAttribute("disabled","disabled"),!0},r=function(a){var o,r;console.log("aplicar promocion "+a),r="/carrito/aplicarPromocion",o={promocion:a},e.ajax({url:r,type:"POST",dataType:"JSON",async:!1,data:o,success:function(e){return e.exito?(window.location.assign("/carrito/iniciarPedido/"+e.idPromocion+"/?v"),console.log("Se aplico promocion correctamente")):e.redirect?t.location.href="/mi-cuenta/iniciar-sesion/?r=5":(console.log("No se aplico promocion"),loading(!1))},beforeSend:function(){return loading(!0)},error:function(e,a,o){return loading(!1),alertaGenerica("Te invitamos a comunicarte con nosotros")}})},s=function(){var e,a,o,t,r,n,i,l,s,c;return ScarabQueue.push(["cart",[]]),n=document.getElementById("box__login"),document.getElementById("logeado").value=0,o=document.createElement("dl"),o.setAttribute("class","logIn"),r=document.createElement("dt"),e=document.createElement("a"),e.setAttribute("class","redBtn btn-login"),e.href="/login",l=document.createTextNode("Ingresar"),e.appendChild(l),t=document.createElement("dd"),i=document.createElement("p"),c=document.createTextNode("¿Eres Nuevo?"),i.appendChild(c),a=document.createElement("a"),a.setAttribute("class","standardBtn btn-registro"),a.href="/loginregistro",s=document.createTextNode("Regístrate"),r.appendChild(e),o.appendChild(r),a.appendChild(s),t.appendChild(i),t.appendChild(a),o.appendChild(t),n.appendChild(o)},a}(),o.Carrito=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCarrito&&null!==ModuleCarrito?ModuleCarrito:{},t.ModuleCarrito=o,a=function(){function a(){}return a.start=function(){return e(function(){ModulePopUpBarraCP.PopUpBarraCP.start(),o.Carrito.init(),o.ListaDeseos.init()})},a.startLoading=function(){return e(function(){ModulePopUpBarraCP.PopUpBarraCP.start(),o.Carrito.ajaxLogin(),o.ListaDeseos.init()})},a}(),o.App=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleDatalayer&&null!==ModuleDatalayer?ModuleDatalayer:{},t.ModuleDatalayer=o,a=function(){function a(){}var o;return a.start=function(){return e(function(){o()})},o=function(){},a.setEmail=function(e){var a;console.log("dataLayer email:"+e),a=a||[],""!==e&&"undefined"!==e?a.push({emailAjax:e,event:"correoAjax"}):a.push({emailAjax:"",event:"correoAjax"})},a.setHome=function(){dataLayer.push({PageType:"HomePage"})},a.setBusqueda=function(e,a,o,t,r,n,i){dataLayer.push({PageType:"ListingPage",idCategoria:e,ecomm_pagetype:"busqueda",ecomm_category:a,ProductIDList:o,BusquedaClaro20:t,QuisisteDecir20:r,numResultados20:n,categoriaClaro20:i})},a.setCategoria=function(e,a,o){dataLayer.push({PageType:"ListingPage",idCategoria:e,ecomm_pagetype:"category",ecomm_category:a,ProductIDList:o})},a.setProducto=function(e,a,o){dataLayer.push({idProducto:e,precioProducto:a,categoria:o,ecomm_pagetype:"product",ecomm_prodid:e,ecomm_totalvalue:a,ecomm_category:o,PageType:"ProductPage",ProductID:e})},a.setCarrito=function(e,a,o){dataLayer.push({idProducto:e,totalCarrito:a,ecomm_pagetype:"cart",ecomm_prodid:e,ecomm_totalvalue:a,PageType:"BasketPage",ProductBasketProducts:o,event:"checkout",ecommerce:{checkout:{actionField:{step:1,option:"Web"},products:o}}})},a.setCheckout=function(e){dataLayer.push({idProducto:e})},a.setCheckoutStep2=function(){dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:2,option:"Web"}}}})},a.setCheckoutStep3=function(e){dataLayer.push({formaPago:e,event:"checkout",ecommerce:{checkout:{actionField:{step:3,option:"Web"}}}})},a.setPurchase=function(e,a,o,t,r,n,i){dataLayer.push({idProducto:t,totalCarrito:e,ecomm_pagetype:"purchase",ecomm_prodid:n,ecomm_totalvalue:e,PageType:"TransactionPage",emailAjax:a,userId:i,ProductTransactionProducts:r,transactionid:o,event:"checkout",ecommerce:{checkout:{actionField:{step:4,option:"Web"}}}})},a}(),o.Eventos=a}.call(this),function(){var e,a,o,t,r;r="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleEmarsys&&null!==ModuleEmarsys?ModuleEmarsys:{},r.ModuleEmarsys=o,t=null!=t?t:null,a=function(){function a(){}var o,r;return a.start=function(){return e(function(){o()})},o=function(){},a.getRecomendadosThankYouPage=function(a){return console.log("Entro a la funcion de recomendados"),console.log(a),t=a.proxyImages,a.testMode&&ScarabQueue.push(["testMode"]),ScarabQueue.push(["setEmail",a.correoCliente]),ScarabQueue.push(["cart",a.productos]),ScarabQueue.push(["purchase",{orderId:a.numeroPedido,items:a.productos}]),ScarabQueue.push(["recommend",{logic:"PERSONAL",containerId:a.idContenedor,templateId:"RelacionadoNav_nuevo",limit:a.numeroItems,success:r}]),ScarabQueue.push(["go"]),e(window).on("load",function(){e("#"+a.idContenedor).bxSlider({minSlides:1,moveSlides:5,maxSlides:30,useCSS:!0,pause:6e3,auto:!1,adaptativeHeight:!0,slideWidth:260,slideMargin:2,pager:!1,touchEnabled:!1})})},r=function(e,a){var o,r,n,i;for(console.log(t),o=r=0,i=e.page.products.length;0<=i?r<i:r>i;o=0<=i?++r:--r)n=e.page.products[o],n.title=normalizarCaracter(n.title),n.precio=n.price.toLocaleString("en"),n.categoria2=n.categoria1="",n.mensualidades="",null!==n.c_mensualidades&&""!==n.c_mensualidades&&(n.mensualidades=n.c_mensualidades),null!==n.category&&(n.categoria1=n.category,n.categoria2=normalizar(n.category.split(">")[0]),t&&(n.imagen=n.image.replace("https://www.sanborns.com.mx/img/",t+"/imagenes-sanborns-ii/"),n.imagen=n.imagen.replace("http://www.sanborns.com.mx/img/",t+"/imagenes-sanborns-ii/"),n.imagen=n.imagen.replace("http://imagenes.sanborns.com.mx/",t+"/imagenes-sanborns-ii/"),n.imagen=n.imagen.replace("https://imagenes.sanborns.com.mx/",t+"/imagenes-sanborns-ii/"),n.imagen=n.imagen.replace("http://medios.plazavip.com/fotos/productos_sears1/",t+"/medios-plazavip/fotos/productos_sears1/"),n.imagen=n.imagen.replace("https://medios.plazavip.com/fotos/productos_sears1/",t+"/medios-plazavip/fotos/productos_sears1/"),n.imagen=n.imagen.replace("http://medios.plazavip.com/publicidad/",t+"/medios-plazavip/publicidad/"),n.imagen=n.imagen.replace("https://medios.plazavip.com/publicidad/",t+"/medios-plazavip/publicidad/"),n.imagen=n.imagen.replace("http://imagenes.claroshop.com/",t+"/imagenes-claroshop/"),n.imagen=n.imagen.replace("https://imagenes.claroshop.com/",t+"/imagenes-claroshop/"),n.imagen=n.imagen.replace("https://tienda.telmex.com",t+"/tienda-telmex/"),n.imagen=n.imagen.replace("http://img.plazavip.com/",t+"/img-plazavip/"),n.imagen=n.imagen.replace("https://img.plazavip.com/",t+"/img-plazavip/"),n.imagen=n.imagen.replace("http://imgs.plazavip.com/",t+"/imgs-plazavip/"),n.imagen=n.imagen.replace("https://imgs.plazavip.com/",t+"/imgs-plazavip/"),n.imagen=n.imagen.replace("http://medios-plazavip.sears.com.mx/",t+"/medios-plazavip/"),n.imagen=n.imagen.replace("https://medios-plazavip.sears.com.mx/",t+"/medios-plazavip/"),n.imagen=n.imagen.replace("http://imgsplaza.sears.com.mx/",t+"/imgsplaza-sears/"),n.imagen=n.imagen.replace("https://imgsplaza.sears.com.mx/",t+"/imgsplaza-sears/"))),console.log(n);return a(e)},a}(),o.Index=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCarrito&&null!==ModuleCarrito?ModuleCarrito:{},t.ModuleCarrito=o,a=function(){function a(){}var o,t;return a.init=function(){return e(".cargaListaDeseos").click(o)},o=function(){return loading(!0),ModuleCarrito.Carrito.ajaxLogin().done(function(a){var o;if("1"===e("#logeado").val()){if(t())return window.location="/mi-cuenta/listadeseos/"}else if(void 0!==(o=JSON.parse(localStorage.getItem("idsProductos")))&&null!==o)return e("#idsProducto").val(o),e("#idsProductos").val(o),e("#formDeseos").submit()})},t=function(){var a;return a=JSON.parse(localStorage.getItem("idsProductos")),void 0!==a&&null!==a&&a.length>0&&(console.log("entra ajax"),e.ajax({type:"post",url:"/mi-cuenta/listadeseos/insertWishList/",data:{idsProductos:a},dataType:"json",success:function(e){return console.log("succes"),"success"===e.respuesta.status&&(localStorage.removeItem("idsProductos"),!0)},error:function(){return console.log("error"),!1}})),!0},a}(),o.ListaDeseos=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleLocalStorage&&null!==ModuleLocalStorage?ModuleLocalStorage:{},t.ModuleLocalStorage=o,a=function(){function a(){}var o;return a.start=function(){return e(function(){o()})},o=function(){},a.readCookie=function(e){var a,o,t,r,n;for(n=e+"=",o=document.cookie.split(";"),t=0,r=o.length;t<r;t++){for(a=o[t];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},a.getData=function(e){return store.get(e)},a.setData=function(e,a){return store.set(e,a)},a.clearAllData=function(){return store.clearAll()},a.clearData=function(e){return store.remove(e)},a.getClient=function(){return store.get("lsCliente")},a.getCart=function(){return store.get("lsCarrito")},a.getDireccion=function(){return store.get("lsDireccion")},a.getPostalCode=function(){return store.get("lsCodigoPostal")},a}(),o.LocalStorage=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleLogin&&null!==ModuleLogin?ModuleLogin:{},t.ModuleLogin=o,a=function(){function a(){}var o,t,r;return a.start=function(){return e(function(){o()})},o=function(){return e(".registro__usuarios .btn-google").click(function(a){var o;return o=e(a.target),a.preventDefault(),(!o.data("block")||+new Date-o.data("block")>400)&&r(),o.data("block",+new Date)}),e(".registro__usuarios .btn-facebook").click(function(a){var o;return o=e(a.target),a.preventDefault(),(!o.data("block")||+new Date-o.data("block")>400)&&t(),o.data("block",+new Date)})},r=function(a){return e("#loginPluginDiv div [gigid='googleplus']").parent().trigger("click")},t=function(a){return e("#loginPluginDiv div [gigid='facebook']").parent().trigger("click")},a}(),o.SocialLogin=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleLogin&&null!==ModuleLogin?ModuleLogin:{},t.ModuleLogin=o,a=function(){function a(){}var o,r;return a.start=function(){return e(function(){o()})},o=function(){console.log("iniciando..."),e("#updateUser").click(r)},a.validatePhone=function(a){var o;o=parseInt(a),e("#errorMessage").hide(),e("#errorMessage").html(""),e("#celular").removeClass("error"),o<1||isNaN(o)?e("#celular").val(""):10!==a.length&&(e("#celular").addClass("error"),e("#celular").focus(),e("#errorMessage").html("El teléfono debe ser de 10 dígitos."),e("#errorMessage").show())},r=function(a){var o,r;if(a.preventDefault(),console.log("click"),r=ModuleValida.ValidaFormulario.validaFormulario("formUpdateUser"),console.log(r),r)return o=e("#formUpdateUser").serialize(),void e.ajax({type:"POST",url:"/actualizar-datos/actualizar/",dataType:"JSON",data:o,beforeSend:function(){return e("#errorMessage").hide,loading(!0)},success:function(a){a.status?t.location.href=a.redirect:(loading(!1),e("#errorMessage").html(a.msg),e("#errorMessage").show())},error:function(){loading(!1),e("#errorMessage").html("Ocurrió un error al actualizar la información. Favor de intentar más tarde"),e("#errorMessage").show()}});e("#errorMessage").html("Los campos marcados en rojo son indispensables.")},a}(),o.User=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCuenta&&null!==ModuleCuenta?ModuleCuenta:{},"undefined"!=typeof ModuleSepomex&&null!==ModuleSepomex&&ModuleSepomex,"undefined"!=typeof ModuleValida&&null!==ModuleValida&&ModuleValida,t.ModuleCuenta=o,a=function(){function a(){}var o,r,n,i,l,s,c,d,u,p,m,f;return a.start=function(){return e(function(){c()})},c=function(){return e("#btn_guardaCard").click(s),e(".direccionPred").change(i),e("#numeroCard").blur(function(e){m(this.value)}),e("#colonia").change(u),e("#municipio").change(p),e("#codigopostal").click(d),e("#btnContinuar").click(f),e("#btnContinuarOneC").click(n),e("#cpostal").change(d),e("#btn_guarda").click(function(e){return e.preventDefault(),o()}),e("#btn_guarda_circulo").click(function(e){return e.preventDefault(),r()}),e("#btn_guardaPass").click(function(e){return e.preventDefault(),cambiarContrasena()}),e(".mod_contentMiCuenta .editar").click(function(a){var o;return a.preventDefault(),o=e(this),o.hide(),o.parent().parent().find(".contentCard").hide(),o.parent().parent().find(".editCard").show(),e("#loginMessage").hide()}),e(".mod_contentMiCuenta .editCard .btn-gris").click(function(a){var o;return a.preventDefault(),o=e(this),o.parent().parent().parent().find(".editar").show(),o.parent().parent().parent().find(".contentCard").show(),o.parent().parent(".editCard").hide(),e("html,body").animate({scrollTop:0},900)}),e(".contRadio").click(function(a){var o,t;if(a.preventDefault(),o=e(this),t=o.find('input[type="radio"]'),e(".contRadio").removeClass("active"),t.length>=1)return console.log("radio"+t),o.find("input").prop("checked",!0),o.addClass("active")}),e("#frm_misdatos").validate(function(){return{rules:{field:{required:!0,minlength:6}}}}),e("#editar-cuenta").click(function(){return e("#frm_misdatos").hide(),e("#formularioDatos").show(),e("#editar-personales").hide(),e("#editar-contrasena").show()}),e("#recuperar-contrasena").click(function(){return e("#formularioDatos").hide(),e("#frm_misdatos").show(),e("#editar-contrasena").hide(),e("#editar-personales").show()})},f=function(a){var o,r;if(e("#errorCPcuenta").html("").hide(),a.preventDefault(),r=ModuleValida.ValidaFormulario.validaFormulario("agregarDireccion"),e("#messageBoletin").hide(),!r)return!1;o=e("#agregarDireccion").serializeObject(),o.telefono=o.celular,o.ajax=1,e.ajax({url:"/mi-cuenta/direcciones-envio/procesos/agregar",type:"POST",dataType:"json",cache:!1,data:o,success:function(a){return console.log(a),a.estatus?t.location.href="/mi-cuenta/direcciones-envio/?barraCp=1":(e("#errorCPcuenta").html(a.error).show(),e("html, body").animate({scrollTop:e("#contCP").offset().top-30},700),loading(!1))},error:function(){}})},n=function(){var a,o;if(e("#errorCPcuenta").html("").hide(),event.preventDefault(),o=ModuleValida.ValidaFormulario.validaFormulario("agregarDireccion"),e("#messageBoletin").hide(),!o)return!1;a=e("#agregarDireccion").serializeObject(),a.telefono=a.celular,a.ajax=1,e.ajax({url:"/caja/paypal/agregaDireccion/",type:"POST",dataType:"json",cache:!1,data:a,success:function(o){return console.log(o),o.estatus?t.location.href="/caja/paypal/compraOneclick/"+a.idProducto:(e("#errorCPcuenta").html(o.error).show(),e("html, body").animate({scrollTop:e("#contCP").offset().top-30},700),loading(!1))},error:function(){}})},d=function(){var a,o;return e("#errorCPcuenta").html("").hide(),loading(!0),o="",a=e("#cpostal").val(),parseInt(a)&&5===a.length?e.when(ModuleSepomex.Sepomex.serviceSepomex(a)).then(function(a){return a.then(function(a){return console.log(a),a.estatus?""!==a.datacp.estado.d_estado?(e("#estado").val(a.datacp.estado.d_estado),e("#colonia").removeAttr("disabled"),e("#estado").removeAttr("disabled"),e("#municipio").removeAttr("disabled"),e("#ciudad").removeAttr("disabled"),e("#municipioContainer span").remove(""),e("#municipio").remove(),a.datacp.municipios.length>0?(e("body").off("change","#municipio"),e("#municipioContainer").append('<span class="select"><select name="municipio" id="municipio" required="required" style="width: 500px"></select></span>'),e.each(a.datacp.municipios,function(e,a){return o+='<option value="'+a.d_mnpio+'">'+a.d_mnpio+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#municipio").html(""),e("#municipio").html(o),e("#municipio").change(p)):(e("#municipioContainer span").remove(),e("#municipioContainer").append("<input type='text' maxlength='35' name='municipio' id='municipio' value='' />")),e("#coloniaContainer span").remove(""),e("#colonia").remove(),a.datacp.colonia.length>0?(e("body").off("change","#colonia"),e("#coloniaContainer").append("<span class=\"select\"><select name='colonia' id='colonia' required='required' style='width: 500px'></select></span>"),o="",e.each(a.datacp.colonia,function(e,a){return o+='<option value="'+a.d_asenta+'">'+a.d_asenta+"</option>"}),o+='<option value="none"> Me gustaría escribirla por mi mismo.</option>',e("#colonia").html(""),e("#colonia").html(o),e("#colonia").change(u)):(e("#coloniaContainer span").remove(),e("#coloniaContainer").append("<input type='text' maxlength='35' name='colonia' id='colonia' value='' />")),""!==a.datacp.ciudad.d_ciudad&&e("#ciudad").val(a.datacp.ciudad.d_ciudad),loading(!1)):(e("#cpostal").val(""),e("#estado").val(""),e("#errorCPcuenta").html("En nuestros registros no encontramos tu cp, intenta con otro").show(),loading(!1)):(e("#errorCPcuenta").html("En nuestros registros no encontramos tu cp, intenta con otro").show(),e("#cpostal, #estado").val(""),loading(!1))}).catch(function(e){return console.log(e),loading(!1)})}):loading(!1)},u=function(){var a,o;if(o="",a="","none"===e("#colonia").val())return o=e("#colonia").parent(),a=o.parent(),o.remove(),a.append('<input type="text" name="colonia" id="colonia" value="" pattern=".{5,50}" maxlength="50" minlength="5" required/>')},p=function(){var a,o;if(o="",a="","none"===e("#municipio").val())return o=e("#municipio").parent(),a=o.parent(),o.remove(),a.append('<input type="text" name="municipio" id="municipio" value="" pattern=".{5,50}" maxlength="50" minlength="5" required/>')},o=function(a){var o,t;if(f=ModuleValida.ValidaFormulario.validaFormulario("formularioDatos"),e("#messageBoletin").hide(),f)return o=e(this),o.parent().parent().parent().find(".editar").show(),o.parent().parent().parent().find(".contentCard").show(),o.parent().parent(".editCard").hide(),t=e("#formularioDatos").serializeObject(),loading(!0),e.ajax({url:"/mi-cuenta/actualizarMisDatos",type:"POST",dataType:"json",cache:!1,data:t,success:function(a){return loading(!1),console.log(a),a.estatus?(e("#notificacion").html("Tus datos han sido actualizados."),e.fancybox.open({href:"#notificacion"})):(e("#notificacion").html(a.error),e.fancybox.open({href:"#notificacion"}))},error:function(e){return console.log("error"),loading(!1)}}),e("html,body").animate({scrollTop:0},900)},r=function(a){var o,t;if(f=ModuleValida.ValidaFormulario.validaFormulario("formularioDatosCirculo"))return o=e(this),o.parent().parent().parent().find(".editar").show(),o.parent().parent().parent().find(".contentCard").show(),o.parent().parent(".editCard").hide(),t=e("#formularioDatosCirculo").serializeObject(),loading(!0),e.ajax({url:"/mi-cuenta/agregaCirculoSanborns",type:"POST",dataType:"json",cache:!1,data:t,success:function(a){return loading(!1),console.log(a),a.estatus?(e("#notificacion").html("Tus datos han sido actualizados."),e.fancybox.open({href:"#notificacion"})):(e("#notificacion").html("Ocurrió un error, intentalo de nuevo más tarde."),e.fancybox.open({href:"#notificacion"}))},error:function(e){return console.log("error"),loading(!1)}}),e("html,body").animate({scrollTop:0},900)},m=function(a){var o;return o=/^(0[1|2|6|9]|1[0|2|3|6|8]|2[1|4|6|7]|3[0|1|5|7|9]|4[3|4|6|9]|5[0|1|6]|6[0|2|3|8]|7[0|3|4|9]|8[0|1|5|7]|9[0|2|4|6|8]){1}[0-9]{10}$/,o.test(a)?(e("#vencimiento").hide(),e("#mes-tarjeta").removeAttr("required"),e("#ano-tarjeta").removeAttr("required"),e("#telefono").attr("required","required"),e("#id_cliente").attr("required","required"),e("#muestraNip").show(),e("#tipoCard").val("sears")):(e("#vencimiento").show(),e("#mes-tarjeta").attr("required","required"),e("#ano-tarjeta").attr("required","required"),e("#telefono").removeAttr("required"),e("#id_cliente").removeAttr("required"),e("#muestraNip").hide(),e("#tipoCard").val("otra"))},s=function(a){var o,t;return f=ModuleValida.ValidaFormulario.validaFormulario("formularioCard"),e("#messageBoletin").hide(),t=!0,"sears"===e("#tipoCard").val()&&(t=ModuleCaja.FormaPagoDepartamentales.validatePhone(e("#telefono").val())),console.log("validar telefono: "+t),f&&t?(o=e("#formularioCard").serializeObject(),loading(!0),e.ajax({url:"/mi-cuenta/formas-pago/guardar",type:"POST",dataType:"json",cache:!1,data:o,success:function(a){var o,t;loading(!1),console.log(a),a.estatus?location.href="/mi-cuenta/formas-pago/":(loading(!1),t=e.trim(e("#telefono").val()),e.trim(e("#id_cliente").val()),o=a.mensaje,"Error de formato"===o&&parseInt(t.length)<10&&(o="El teléfono debe de ser a 10 dígitos"),"12"===a.code&&(e(".error-phone").html(a.error),e(".error-phone").show(),e("#telefono").addClass("error")),e(".erroresEmergen").html(o),e(".erroresEmergen").show(),e("#messageBoletin").hide(),e("html,body").animate({scrollTop:0},900))},error:function(a){loading(!1),e(".erroresEmergen").html("hubo un error al procesar la peticion favor de intentar mas tarde"),e(".erroresEmergen").show(),e("#messageBoletin").hide(),e("html,body").animate({scrollTop:0},900)}})):loading(!1)},i=function(){var a;return console.log(e(this)),a=e(this).data("id"),loading(!0),l(a).done(function(e){if(console.log(e.estatus),e.estatus)return loading(!1),ModuleBarraCodigoPostal.BarraCodigoPostal.borrarDireccionFromLocalStorage()})},l=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/direccionPredeterminada",type:"POST",dataType:"json",cache:!1,data:{id:a}})},a}(),o.MiCuenta=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCuenta&&null!==ModuleCuenta?ModuleCuenta:{},t.ModuleCuenta=o,a=function(){function a(){}var o,t,r;return a.start=function(){return e(function(){r()})},r=function(){return e(".module_miPedido .cont-btn .verMas").click(t),e(".module_miPedido .cont-btn .cerrar").click(o)},t=function(){var a;return a=e(this),a.parent().parent().parent().addClass("detalle")},o=function(){var a;return a=e(this),a.parent().parent().parent().removeClass("detalle")},a.buscarByNumPedido=function(a){var o;return o=e.trim(e("#strBusquedaPedido").val()),loading(!0),e.ajax({url:a+o,type:"POST",success:function(e){return e.estatus?(loading(!1),window.location.href=e.redireccion,console.log(e)):(loading(!1),console.log(e.msg))},fail:function(e){return loading(!1),alert("Lo sentimos ocurrio un error al consultar el pedido "+o)}})},a.aplicarOrden=function(){var a;if(""!==(a=e("#cboOrdenPedidos").val()))return loading(!0),window.location.href=a},a}(),o.MisPedidos=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModulePaginator&&null!==ModulePaginator?ModulePaginator:{},t.ModulePaginator=o,a=function(){function a(){}var o,t;return a.start=function(){return e(function(){o()})},o=function(){e(".paginador").length>=1&&(t(),e(window).resize(function(){t()}))},t=function(){e(window).innerWidth()<=761?(e(".paginador ul li").hide(),e(".paginador ul li .active").parent().next().show(),e(".paginador ul li .active").parent().prev().show(),e(".paginador ul li:last-child").show(),e(".paginador ul li .active").parent().show(),"<<"!==e(".paginador ul li:first-child a").text()&&"<"!==e(".paginador ul li:first-child").next().children("a").text()||(e(".paginador ul li:first-child").show(),"<"===e(".paginador ul li:first-child").next().children("a").text()&&e(".paginador ul li:first-child").next().show()),">>"!==e(".paginador ul li:last-child a").text()&&">"!==e(".paginador ul li:last-child").next().children("a").text()||(e(".paginador ul li:last-child").show(),">"===e(".paginador ul li:last-child").prev().children("a").text()&&e(".paginador ul li:last-child").prev().show())):e(".paginador ul li").show()},a}(),o.Paginator=a}.call(this),function(){var e,a,o,t,r;r="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,t="undefined"!=typeof ModuleProducto&&null!==ModuleProducto?ModuleProducto:{},o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},r.ModuleCaja=o,r.ModuleProducto=t,a=function(){function a(){}var r,n,i,l,s;return i={},a.no="N/A",a.start=function(){return e(function(){o.ClickRecoge.init(),t.Sucursales.init(),n(),a.iniSelect()})},n=function(){e(".cont-toggle").on("click",function(a){return a.stopPropagation(),e(this).toggleClass("viewPromo")})},a.setObjTallaColor=function(e){i=e},a.getObjTallaColor=function(){return i},a.validateQuantity=function(a){var o;((o=parseInt(a))<1||isNaN(o))&&e(c).val(1)},a.tomaTalla=function(o){var t,r,n,i,l;l="",i=void 0,n=a.getObjTallaColor();for(t in n)if(o===t){i=0,t===this.no&&(i|=1),i|=2;for(r in n[t])l+='<option value="'+n[t][r].tsize+"|"+n[t][r].stock+"|"+n[t][r].skuHijo+'">'+n[t][r].tsize+"</option>",n[t][r].tsize===this.no&&(i|=4),(2&i)>0&&(i^=2)}(1&i)>0&&e(".boxColor").css("display","none"),(6&i)>0&&e(".boxTallas").css("display","none"),e("#talla").html(l)},a.iniSelect=function(){var o,o,t,r,n,i,l;l=0,r="",t="",n=a.getObjTallaColor();for(o in n)""===r&&(r=o),l|=o===this.no?1:2,o!==this.no&&(t+='<option value="'+o+'">'+o+"</option>");if(3===l){i={},t="";for(o in n)o!==this.no&&(i[o]=n[o],i[o]=n[o],t+='<option value="'+o+'">'+o+"</option>");n=i}e("#color").html(t),a.tomaTalla(r||!1)},s=function(e){var a,o,t,r,n;for(o=l(e),n=!1,t=0,r=o.length;t<r;t++){if(a=o[t],console.log(a),""===a.value||null===a.value){n=!1;break}n=!0}return n},r=function(a){var o;return o=e("#"+a).serializeObject(),o.ajax=1,Promise.resolve(e.ajax({url:"/carrito/procesos/",type:"GET",data:o}))},a.agregarClickRecoge=function(a){if(loading(!0),s(a))return e.when(r(a)).then(function(a){return a.then(function(a){return e("#cart_count").text(a),e("#cantidadProductos a").attr("href","/carrito/"),loading(!1),console.log(a)}).catch(function(e){return loading(!1),console.log(e)})})},function(a){return dataLayer.push({event:"agregarProductoCarrito",ecommerce:{currencyCode:"MXN",add:{products:[{name:e("#"+a+' input[name="nombre"]').val(),id:e("#"+a+' input[name="id"]').val(),price:e("#"+a+' input[name="precio"]').val(),brand:e("#"+a+' input[name="marca"]').val(),category:e("#"+a+' input[name="categoria"]').val(),affiliation:e("#"+a+' input[name="tienda"]').val(),quantity:e("#"+a+' input[name="c"]').val(),dimension7:e("#"+a+' input[name="precio"]').val(),dimension8:e("#"+a+' input[name="num_parte"]').val()}]}}})},function(a){return fbq("track","AddToCart",{content_name:e("#"+a+' input[name="nombre"]').val(),content_category:e("#"+a+' input[name="categoria"]').val(),content_ids:"['"+e("#"+a+' input[name="num_parte"]').val()+"']",content_type:"product",value:e("#"+a+' input[name="precioInt"]').val(),currency:"MXN"})},function(e,a){var o,t,r,n,i,l;for(o=document.getElementById("agregarRecomendaciones"),t=document.createElement("div"),t.setAttribute("class","sliderEmarsys"),l=[],r=n=1;n<=2;r=++n)i=document.createElement("div"),i.setAttribute("id","topical1"+r),i.setAttribute("class","personal-recs"),i.setAttribute("style","display:flex;"),t.appendChild(i),o.appendChild(t),ScarabQueue.push(["view",a]),1===r?ScarabQueue.push(["recommend",{logic:"ALSO_BOUGHT",containerId:"topical1"+r,templateId:"RelacionadoNav_nuevo",limit:15,success:function(e,a){return a(e)}}]):ScarabQueue.push(["recommend",{logic:"CART",containerId:"topical1"+r,templateId:"RelacionadoNav_nuevo",limit:15,success:function(e,a){return a(e)}}]),e?l.push(ScarabQueue.push(["go"])):l.push(void 0);return l},l=function(a){var o,t,r,n,i;for(r=e("#"+a).serializeArray(),o=[],n=0,i=r.length;n<i;n++)t=r[n],""===t.name&&void 0===t.name||o.push(t);return o},a.mostrarNotificarExistencia=function(a){return a?e("#mensajeAgotado").show():e("#mensajeAgotado").hide()},a.notificarExistencia=function(a,o){var t;o.preventDefault(),e("#correoEnviado").html(""),t={acepto:e("#checkAgotado").is(":checked"),email:e("#validMail").val()},loading(!0),e.ajax({url:"/mi-cuenta/notificarme/producto/"+a,type:"POST",data:t,dataType:"json",cache:!1,success:function(a){return loading(!1),a.exito?(e("#correoEnviado").html("Se te notificará cuando el producto se encuentre en existencia"),e.fancybox.open({href:"#correoEnviado"})):(e("#correoEnviado").html("Ocurrió un error, por favor intentalo de nuevo más tarde"),e.fancybox.open({href:"#correoEnviado"}),console.log(a.exito))},error:function(){return e("#correoEnviado").html("Ocurrió un error, por favor intentalo de nuevo más tarde"),e.fancybox.open({href:"#correoEnviado"}),console.log("error"),loading(!1)}})},function(e){var a;return a=s(e),loading(!1),console.log(a),a?loading(!0):alertaGenerica("Selecciona talla/color"),a},a.tiendasSuc=function(){var a;a=e(".mod__DescripcionP").position().top,e(window).scrollTop(a),
e("#btnProdSucursales").trigger("click")},a}(),t.Producto=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleProducto&&null!==ModuleProducto?ModuleProducto:{},t.ModuleProducto=o,a=function(){function a(){}return a.init=function(){return e("#btnProdSucursales").click(function(e){e.preventDefault(),ModuleProducto.Sucursales.getSucursales()})},a.getSucursales=function(){var a,o;return a=e("#btnProdSucursales").data("id"),o=0,e("#talla").length>0&&(o=e("#talla option:selected").val().split("|"),o=o[o.length-1]),loading(!0),""!==a?e.ajax({url:"/producto/sucursalesProducto/"+a,type:"POST",data:{idProducto:a,skuHijo:o},success:function(a){var o,t,r;return a.estatus?(o='<div class="contSucursales">',t='<div class="titleContent"><p class="titleTienda">Tiendas</p><p class="titleCant">Existencia</p></div>',null!==a.sucursales?(r='<dl class="resultadoSucursal">',0===Object.keys(a.sucursales).length&&(r+="<dt>Sin existencia</dt><dd></dd>"),e.each(a.sucursales,function(e,a){return r+="<dt>",r+="<h5>"+a.sucursal+"</h5><span>"+a.stock+"</span>",r+="</dt>",r+="<dd>",r+="<strong>Direccion: </strong>"+a.direccion,r+="</dd>"}),r+="</dl>",e("#ctnProdSucursales").html(""),e("#ctnProdSucursales").html(o+t+r+"</div>"),loading(!1)):(loading(!1),console.log(a),e("#ctnProdSucursales").html("Lo sentimos ocurrio un error al consultar la existencia del producto"))):(loading(!1),console.log(a),e("#ctnProdSucursales").html("Lo sentimos ocurrio un error al consultar la existencia del producto"))},fail:function(a){return loading(!1),e("#ctnProdSucursales").html("Lo sentimos ocurrio un error al consultar la existencia del producto")}}):loading(!1)},a}(),o.Sucursales=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleSepomex&&null!==ModuleSepomex?ModuleSepomex:{},t.ModuleSepomex=o,a=function(){function a(){}return function(){},a.serviceSepomex=function(a){return Promise.resolve(e.ajax({url:"/sepomex/"+a,type:"POST",dataType:"json",cache:!1}))},a.getAutocompleteData=function(a){return Promise.resolve(e.ajax({url:"/sepomex/getAutocompleteData/"+a,type:"POST",dataType:"json",cache:!1}))},a}(),o.Sepomex=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleTelmexAlliance&&null!==ModuleTelmexAlliance?ModuleTelmexAlliance:{},t.ModuleTelmexAlliance=o,a=function(){function a(){}var o,t,r,n,i,l,s,c,d;return a.start=function(){return e(function(){t()})},t=function(){console.log("iniciando TelmexAlliance..."),l(),e(".steps1 .btn-rojo").click(c),e(".steps2 .btn-rojo").click(d),e(".steps2 .btn-gris").click(r),e(".steps3 .btn-rojo").click(i),e(".steps3 .btn-gris").click(n),e("#cp").blur(function(e){return e.preventDefault(),o(this.value,1)}),e("#cpTrabajo").blur(function(e){return e.preventDefault(),o(this.value,2)}),console.log("VALUE CP"+e("#cp").val()),5===e("#cp").val().length&&(console.log("si tiene val"+e("#cp").val()),o(e("#cp").val(),1))},o=function(a,o){console.log(a),5===a.length&&(loading(!0),ModuleSepomex.Sepomex.serviceSepomex(a).then(function(a){var t,r,n;if(console.log(a),loading(!1),a.estatus&&(""!==a.datacp.estado.d_estado&&(t='<option value="'+a.datacp.estado.d_estado+'">'+a.datacp.estado.d_estado+"</option>",1===o?e("#estado").html(t):e("#estadoTrabajo").html(t)),a.datacp.municipios.length>0&&(n="",e.each(a.datacp.municipios,function(e,a){return n+='<option value="'+a.d_mnpio+'">'+a.d_mnpio+"</option>"}),1===o?e("#municipio").html(n):e("#municipioTrabajo").html(n)),a.datacp.colonia.length>0))return r="",e.each(a.datacp.colonia,function(e,a){return r+='<option value="'+a.d_asenta+'">'+a.d_asenta+"</option>"}),1===o?e("#colonia").html(r):e("#coloniaTrabajo").html(r)}))},r=function(){return e(".steps2").removeClass("active").removeClass("checked"),e(".steps1").addClass("active").removeClass("checked")},n=function(){return e(".steps3").removeClass("active").removeClass("checked"),e(".steps2").addClass("active").removeClass("checked")},c=function(a){var o,t;a.preventDefault(),console.log("click step1"),o=ModuleValida.ValidaFormulario.validaFormulario("personalInformationForm"),t=s("personalInformationForm"),o&&t?(loading(!1),e(".steps1").addClass("checked").removeClass("active"),e(".steps2").addClass("active")):(console.log("faltan campos"),e("#errorMessage").html("Los campos marcados en rojo son indispensables."))},d=function(a){var o,t;a.preventDefault(),console.log("click step2"),o=ModuleValida.ValidaFormulario.validaFormulario("jobInformationForm"),t=s("personalInformationForm"),o&&t?(loading(!1),e(".steps2").removeClass("active").addClass("checked"),e(".steps3").addClass("active")):(console.log("faltan campos"),e("#errorMessage").html("Los campos marcados en rojo son indispensables."))},s=function(a){var o;return o=!0,console.log(e("#"+a).find("select").length),e("#"+a).find("select").each(function(a){e(this).find("option:selected").val()?e(this).removeClass("error"):(e(this).addClass("error"),o=!1)}),loading(!1),o},i=function(a){var o,t,r,n,i;if(a.preventDefault(),o=e("#autorizacion").prop("checked")&&e("#avisoPrivacidad").prop("checked"),console.log(e("#avisoPrivacidad").prop("checked")),console.log(e("#autorizacion").prop("checked")),t=ModuleValida.ValidaFormulario.validaFormulario("questionsForm"),console.log(o),!t||!o)return loading(!1);r=e("#personalInformationForm").serialize(),n=e("#jobInformationForm").serialize(),i=e("#questionsForm").serialize(),console.log(r),console.log(n),console.log(i),e.ajax({type:"POST",url:"/telmex/enviar-solicitud/",dataType:"JSON",data:r+"&"+n+"&"+i,beforeSend:function(){return e("#errorMessage").hide,loading(!0)},success:function(a){var o;loading(!1),a.status?(e("#folio").html(a.folio),e(".formMigracion").hide(),e(".thanksForms").show()):a.msg.length>0&&(o="",e.each(a.msg,function(e,a){return o+="<li>"+a+"</li>"}),e("#errors ul").html(o))},error:function(){loading(!1)}})},l=function(){return e("form input[type=text]").keypress(function(e){if(!(e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122||e.keyCode>=48&&e.keyCode<=57||241===e.keyCode||209===e.keyCode||32===e.keyCode||8===e.keyCode||9===e.keyCode))return e.preventDefault(),e.stopImmediatePropagation(),!1})},a}(),o.CreditRequest=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBarraCodigoPostal&&null!==ModuleBarraCodigoPostal?ModuleBarraCodigoPostal:{},t.ModuleBarraCodigoPostal=o,a=function(){function a(){}var o,t,r,n,i,l,s,c,d,u,p;return o=[],n=void 0,a.start=function(){var a;return p()?(window.location.href.includes("barraCp=1")&&ModuleBarraCodigoPostal.BarraCodigoPostal.borrarDireccionFromLocalStorage(),a=ModuleLocalStorage.LocalStorage.getDireccion(),a&&0!==Object.entries(a).length?(l(!0),u(),i()&&ModuleTiempoEntrega.TiempoEntrega.calcularFechaBarraCodigoPostal(a.codigoPostal)):t()):(a=ModuleLocalStorage.LocalStorage.getDireccion(),a&&0!==Object.entries(a).length?(l(!0),u(),i()&&ModuleTiempoEntrega.TiempoEntrega.calcularFechaBarraCodigoPostal(a.codigoPostal)):l(!1)),e("#confirmar-barra-cp").on("click",function(){var a;a=e("#cp-barra").val(),5===a.length&&ModuleZonificacion.Zonificacion.getZonificacion(a).then(function(o){var t;if(o.status&&""===o.error)return t={},t.codigoPostal=a,o.ciudad?t.lugar=o.ciudad:t.lugar=o.municipio,ModuleLocalStorage.LocalStorage.setData("lsDireccion",t),ModuleTiempoEntrega.TiempoEntrega.calcularFechaBarraCodigoPostal(a),u(),e("#cp-barra").removeClass("error"),e("#cp-barra").val(""),e.fancybox.close()}).catch(function(a){console.log("errrrorrrr"),e("#cp-barra").addClass("error")})}),e("#barra-cp, #delEncontrado, #ingresaCP").on("click",function(a){return a.preventDefault(),e(".popupCP").remove(),p()?r():e.fancybox.open({href:"#modal-barra-cp",titlePosition:"inside",transitionIn:"none",transitionOut:"none"})})},p=function(){var e;return e=!1,+document.getElementById("logeado").value&&(e=!0),e},r=function(){var a;if(a=ModuleLocalStorage.LocalStorage.getData("lsDirecciones"))return s(a);e.ajax({type:"GET",url:"/mi-cuenta/direcciones-envio/procesos/getDireccionesEnvio",dataType:"json",success:function(a){return a.estatus?(ModuleLocalStorage.LocalStorage.setData("lsDirecciones",a.direcciones),s(a.direcciones)):e.fancybox.open({href:"#modal-barra-cp",titlePosition:"inside",transitionIn:"none",transitionOut:"none"})}})},a.setDireccionId=function(a){var t;n=a,d(a),p()&&(t=o[n],c(t),u(),e.fancybox.close())},c=function(e){ModuleLocalStorage.LocalStorage.setData("lsDireccion",e),d(e.id),ModuleTiempoEntrega.TiempoEntrega.calcularFechaBarraCodigoPostal(e.codigoPostal)},u=function(){var a,o,t;return t=ModuleLocalStorage.LocalStorage.getDireccion(),console.log("set enviar a barra cp"),console.log(t),e("#nombreBarra").val(""),a="Enviar a ",t.primer_nombre&&(e("#nombreBarra").val(t.primer_nombre+", "),a+=t.primer_nombre+", "),t.lugar&&(a+=t.lugar+", "),t.codigoPostal&&(o=t.codigoPostal),e("#barra-cp").contents().filter(function(){return 3===this.nodeType}).remove(),e("#barra-cp-direccion").text(a),e("#barra-codigo-postal").text(o)},d=function(a){return e("#direccionesBarraCP>div.selected").removeClass("selected"),e("#idDir"+a).addClass("selected")},a.obtenerDireccionPredeterminada=function(){return t()},t=function(){return e.ajax({type:"GET",url:"/mi-cuenta/direcciones-envio/procesos/getDatosBarraCP",dataType:"json",success:function(e){return e.estatus&&0!==Object.entries(e.direccion).length?(l(!0),c(e.direccion),u(),i()?ModuleTiempoEntrega.TiempoEntrega.calcularFechaBarraCodigoPostal(e.direccion.codigoPostal):void 0):l(!1)}})},i=function(){return!!(ModuleTiempoEntrega&&window.location.href.includes("/producto")||ModuleTiempoEntrega&&window.location.href.includes("/carrito"))},l=function(a){var o;return a?e("#info-modal-barra-cp").html('<p>Los tiempos de envío pueden variar según el C.P.</p> <div id="direccionesBarraCP"></div>'):!a&&p()&&e("#info-modal-barra-cp").html("<p>Los tiempos de envío pueden variar según el C.P.</p>"),p()?e("#info-modal-barra-cp").append('<a id="direcciones-envio" href="/mi-cuenta/direcciones-envio/" class="direcciones-envio">Agregar dirección de envío</a>'):(e("#info-modal-barra-cp").html('<p>Te mostraremos los tiempos de envío</p><p id="inicia-sesion" style="display: none;" > Si ya tienes cuenta, <a class="inicia-sesion">inicia sesión</a></p>'),e("#inicia-sesion").show(),o=e(".btn-login").attr("href"),e(".inicia-sesion").attr("href",o),e("#direcciones-envio").hide())},a.borrarDireccionFromLocalStorage=function(){return ModuleLocalStorage.LocalStorage.clearData("lsDireccion"),ModuleLocalStorage.LocalStorage.clearData("lsDirecciones"),t()},s=function(a){var t,r,n,i,l,s;for(o=[],r=ModuleLocalStorage.LocalStorage.getDireccion(),e("#direccionesBarraCP").empty(),n=i=0,l=a.length;i<l;n=++i)t=a[n],o[t.id]=t,s="",r&&r.id===t.id?s="selected":r||1==+t.accesibilidad&&(s="selected"),e("#direccionesBarraCP").append('<div style="cursor:pointer" id="idDir'+t.id+'" class="'+s+'" onclick="ModuleBarraCodigoPostal.BarraCodigoPostal.setDireccionId('+t.id+')"> <p>'+t.nombre+" - "+t.ciudad+" "+t.codigoPostal+"</p> <p>"+t.calle+" No. "+t.numeroExterior+", "+t.colonia+"</p> </div>"),e("#direcciones-envio").attr("href","/mi-cuenta/direcciones-envio/");return e.fancybox.open({href:"#modal-barra-cp",titlePosition:"inside",transitionIn:"none",transitionOut:"none"})},a}(),o.BarraCodigoPostal=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModulePopUpBarraCP&&null!==ModulePopUpBarraCP?ModulePopUpBarraCP:{},t.ModulePopUpBarraCP=o,a=function(){function a(){}var o,t;return a.start=function(){return e(function(){t()})},t=function(){var a;if(1===e("#barra-cp").length)return e("#barra-cp").parent().addClass("barraCPHeader"),o(),e(window).resize(function(){o()}),a=localStorage.getItem("firstCP"),null===a&&(e(".barraCPHeader").append('<div class="popupCP"><span class="close">X</span><div class="title" >Introduce un C.P.</div><div class="descrip">Te mostraremos el tiempo de entrega en cada producto.</div><div class="btn-rojo">Introduce C.P.</div></div>'),localStorage.setItem("firstCP","true")),e("body").on("click",".popupCP .btn-rojo",function(){e("#barra-cp").trigger("click"),e(".popupCP").remove()}),e("body").on("click",".popupCP .close",function(){e(".popupCP").remove()})},o=function(){e(window).innerWidth()>=781?(e(".promoHeader .barraCPHeader").append(e("#barra-cp")),e(".contMobileCP").remove()):(0===e(".contMobileCP.barraCPHeader").length&&e("header").append('<div class="contMobileCP barraCPHeader"></div>'),e(".contMobileCP.barraCPHeader").append(e(".promoHeader #barra-cp")))},a}(),ModulePopUpBarraCP.PopUpBarraCP=a}.call(this),function(){var e,a,o,t,r,n;n="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,a=2,o=1,r="undefined"!=typeof ModuleTiempoEntrega&&null!==ModuleTiempoEntrega?ModuleTiempoEntrega:{},n.ModuleTiempoEntrega=r,t=function(){function t(){}var r,n,i,l,s,c,d,u;return t.start=function(){return e(function(){l()})},l=function(){return e("#codigopostal").click(c),e(".box_claroEnvios .btn-envios,.box_claroEnvios .link").click(n)},n=function(){e(".seleccionaEnvos, .resultadosCP").removeClass("show"),e(".ingresaCP").addClass("show"),e(".ingresaCP input").val(""),e("#codigopostal").removeClass("hidden")},c=function(){var t;onPromoClick("/producto/","producto","calculaTiempoEntrega",1),e("#errorCPcuenta").html("").hide(),e(".cp-envio-cart").length>0?(t=[],e('input[name="id"]').each(function(){t.push(e(this).val())}),console.log(t),r(t,a)):(t=e("#idprod").val(),r([t],o))},r=function(a,t){var r,n;r=e("#cpEnvioReal").val(),console.log("cpEnvioReal: ["+r+"]"),n=[],""===r&&(r=e("#cpEnvio").val(),e("ul.autocompleteCP li").remove(),console.log("cpEnvio: ["+r+"]")),parseInt(r)&&5===r.length&&(a.map(function(e){if(""!==e)return n.push(s(r,e))}),e.when.apply(e,n).done(function(){return e.each(arguments,function(a,r){return console.log(r),Array.isArray(r)&&(r=r[0]),r.status?(t===o?d(r):u(r),e(".ingresaCP").removeClass("show")):e("#errorCPcuenta").html("No disponible").show()})}))},s=function(a,o){var t,r;return t={cp:a,id:o},r=e("#shipping_endpoint").val(),e.ajax({url:r,type:"POST",dataType:"json",data:t,cache:!1,beforeSend:function(){return loading(!0)},success:function(){return loading(!1)},error:function(a){return console.log(a.status),404===a.status?e("#errorCPcuenta").html("Código postal no encontrado").show():e("#errorCPcuenta").html("Favor de intentar mas tarde").show(),loading(!1)}})},d=function(a){var o,t;return o=e("#barra-codigo-postal").text(),t=""===a.shipping.range_copy?"Entre "+a.shipping.range_text+"*":a.shipping.range_copy+a.shipping.range_text+"*",e("#fecha").text(t),e("#delEncontrado").text("Enviar a "+e("#nombreBarra").val()+a.shipping.place+", "+o),e(".ingresaCP").removeClass("show"),e(".resultadosCP").addClass("show")},u=function(a){return e("#dt_"+a.id).find(".dt_content span").text(a.shipping.days+" días hábiles*"),e("#dt_"+a.id).show(),e("#delEncontrado").text("Enviar a "+a.shipping.place+", "+e("#barra-codigo-postal").text()),e(".ingresaCP").removeClass("show"),e(".resultadosCP").addClass("show"),e("#fechaEstimadaTitle").hide()},function(){return e(".ingresaCP").removeClass("show"),e(".resultadosCP").addClass("show")},function(){var a,o;return o=e(this).html(),a=o.split(" - "),a=Number(a[0]),e("#cpEnvio").val(o),e("#cpEnvioReal").val(a),e(".autocompleteCP").removeClass("show")},function(){return e(".autocompleteCP li").removeClass("hover"),e(this).addClass("hover")},function(){return e(this).removeClass("hover")},function(a){var o;return e("#errorCPcuenta").html("").hide(),o=e(this).val().length,e("ul.autocompleteCP li").remove(),o>=3&&o<=5?(i(e(this).val()),e(".autocompleteCP").addClass("show")):e(".autocompleteCP").removeClass("show")},function(a){var o,t,r;return r=void 0,!0!==e(".autocompleteCP").hasClass("show")?e(document).off("keypress"):(38===a.which&&(a.preventDefault(),!0!==e(".autocompleteCP li").hasClass("hover")?e(".autocompleteCP li:first-child").addClass("hover"):(e(".autocompleteCP li.hover").prev().addClass("hover").nextAll().removeClass("hover"),r=18*e(".autocompleteCP.show li.hover").index(),e(".autocompleteCP.show").scrollTop(r))),40===a.which&&(a.preventDefault(),!0!==e(".autocompleteCP li").hasClass("hover")?e(".autocompleteCP li:first-child").addClass("hover"):(e(".autocompleteCP li.hover").next().addClass("hover").prevAll().removeClass("hover"),r=18*e(".autocompleteCP.show li.hover").index(),e(".autocompleteCP.show").scrollTop(r))),13===a.which?(t=e(".autocompleteCP li.hover").html(),o=t.split(" - "),o=Number(o[0]),e("#cpEnvio").val(t),e("#cpEnvioReal").val(o)):void 0)},i=function(a){return e.when(ModuleSepomex.Sepomex.getAutocompleteData(a)).then(function(a){return a.then(function(a){var o,t,r;if(!1===a.estatus)return console.log("Código postal inválido"),e("ul.autocompleteCP li").remove(),e("#cpEnvio").val(""),e("#errorCPcuenta").html("Intenta con otro código postal").show(),loading(!1);for(e("ul.autocompleteCP li").remove(),o=t=0,r=a.length;0<=r?t<=r:t>=r;o=0<=r?++t:--t)e("<li />",{html:a[o]}).appendTo("ul.autocompleteCP");return loading(!1)})})},t.calcularFechaBarraCodigoPostal=function(a){if(a)return e("#cpEnvio").val(a),c()},t}(),r.TiempoEntrega=t}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleValida&&null!==ModuleValida?ModuleValida:{},t.ModuleValida=o,a=function(){function a(){}var o,t,r,n;return a.start=function(){return e(function(){o()})},o=function(){},a.validaFormulario=function(a){var o,r,i,l,s;for(loading(!0),i=!1,s=document.getElementsByClassName("erroresEmergen"),o="block",a=t(a),l=e.inArray(0,n(a)),l<0&&(i=!0),r=void 0,r=0;r<s.length;)s[r].style.display="none",r++;if(i)for(r=void 0,r=0;r<s.length;)s[r].style.display="none",r++;else{for(r=void 0,r=0;r<s.length;)s[r].style.display=o,r++;loading(!1)}return i},t=function(e){var a,o,t,r;for(r=[],o=document.getElementById(e),t=0;t<o.elements.length;)a={},a.name=o.elements[t].name,a.value=o.elements[t].value,a.attr=o.elements[t].required,a.id=o.elements[t].id,r.push(a),t++;return r},n=function(e){var a,o,t,n;for(o=void 0,n=!1,t=new Array,t.push(1),o=0;o<e.length;)!0===e[o].attr&&(a=r(e[o],n),!1===a&&(n=!0),t.push(a)),++o;return t},r=function(a,o){var t,r,n,i,l,s,c,d,u,p,m,f,g,v;switch(c=0,u=document.getElementById(a.id),i=a.id,g=a.value,v=g.trim(),v.length>0?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error")),u.getAttribute("data-validate")){case"email":s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=s.test(u.value);break;case"tarjeta":case"tarjetaSears":case"tarjetaSanborns":p=u.value,n=/^[0-9]{12,16}$/,!0===n.test(p)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"cvv":p=u.value,n=/^[0-9]{3,4}$/,!0===n.test(p)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"cp":r=u.value,n=/^[0-9]{5}$/,!0===n.test(r)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"telefono":m=u.value,n=/^[0-9]{10}$/,!0===n.test(m)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"celular":t=u.value,n=/^[0-9]{10}$/,!0===n.test(t)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"transfer":f=u.value,n=/^[0-9]{12}$/,!0===n.test(f)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"));break;case"securePass":l=u.value,d=l.trim(),n=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/,!0===n.test(d)?(c=1,e("#"+i).removeClass("error")):(c=0,e("#"+i).addClass("error"))}return c},a}(),o.ValidaFormulario=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleZonificacion&&null!==ModuleZonificacion?ModuleZonificacion:{},t.ModuleZonificacion=o,a=function(){function a(){}return function(){},a.getZonificacion=function(a){var o;return o=e("#zonificacion_endpoint").val(),Promise.resolve(e.ajax({url:o+"/"+a,type:"GET",dataType:"json",cache:!1,success:function(e){return console.log(e)},error:function(e){return console.log(e)}}))},a}(),o.Zonificacion=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,a=function(){function a(){console.log("Contructor AnteaterAPI")}var o,t,r,n,i,l,s,c;return l="",o="",r={},i="",s="",a.ini=function(){return console.log("ini AnteanterEstadistica")},a.setUrlEstadisticas=function(e){return l=e},a.setClient=function(e){return o=e},t=function(){var a;return a={cliente:o},e.ajax({url:l+"/getToken",type:"GET",data:a,context:document.body}).done(function(e){return console.log(e),e}).fail(function(e){return console.log("Error de Red",e),e})},a.clickProductoObjet=function(e,a,o,l){var d;return console.log("Datos de token estadisticas ...... =",i,""===i),i=localStorage.getItem("tokenClickBuscador"),""!==i&&null!==i||t().done(function(e){return console.log("Datos de token estadisticas",e,e.token),localStorage.setItem("tokenClickBuscador",e.token),i=e.token}),s=localStorage.getItem("uuidClickBuscador"),""!==s&&null!==s||(s=c(),localStorage.setItem("uuidClickBuscador",s)),d=localStorage.getItem("lsDireccion"),null!==d&&(l=""===l||null===l?"<CP>:<"+d.codigoPostal+">.<lugar>:<"+d.lugar+">":l+".<CP>:<"+d.codigoPostal+">.<lugar>:<"+d.lugar+">"),l=""===l||null===l?"<device>:<"+navigator.platform+">":l+".<CP>:<"+navigator.platform+">",r.token=i,r.uuid=s,r.termino=e,r.url=a,r.pagina=o,r.md=l,console.log("registerClick",r),n().done(function(e){return console.log("Error click send",e),e}).error(function(e,a,o){if(console.log("Error click send",o," textStatus",a,"jqXHR",e,"errorThrown",o),"error"===a)return t().done(function(e){return r.token=e.token,localStorage.setItem("tokenClickBuscador",e.token),n().done(function(e){return console.log("Segundo click send",e)}).fail(function(e,a,o){return console.log("Error Segundo click send",o)})})})},n=function(){return e.ajax({url:l+"/registerClick",type:"GET",data:r,context:document.body}).done(function(e){return console.log(e),e}).fail(function(e){return console.log("Error de Red sendClickEvent",e),e})},c=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a,o;return a=16*Math.random()|0,o="x"===e?a:3&a|8,o.toString(16)})},a}(),o.AnteanterEstadistica=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,a=function(){function a(e){o=e}var o,t,r,n,i,l,s,c;return null,null,s=48,l={cliente:"sears",proxystylesheet:"xml2json",oe:"UTF-8",getfields:"*",sort:"",start:0,num:s,q:"",requiredfields:"",ds:"marcas:attribute_marca:0:0:8:0:1.sale_precio:sale_price:1:1:40.discount:discount:0:0:1000:0:1",do:"categories:categories:id,name:10:1",requiredobjects:""},c=[],i=1,o="https://sears.anteater.ai/search",a.setClient=function(e){return l.cliente=e},a.setUrlBuscador=function(e){return o=e},a.calcParam=function(){var a,o,s,c,d,u,p;return void 0!==(p=t("busquedaestricta"))&&(p.indexOf("sku:")>-1||p.indexOf("id:")>-1||p.indexOf("ean:")>-1)&&(u=p.replace("sku:",""),u=u.replace("id:",""),u=u.replace("ean:",""),u.trim().length>0)?(p.indexOf("sku")>=0?l.requiredfields="int[sku]:"+u.trim():p.indexOf("id")>=0?l.requiredfields="int[id]:"+u.trim():p.indexOf("ean")>=0&&(l.requiredfields="int[ean]:"+u.trim()),e(".anteanter_section #search").val(p),this.buscar(l.q).done(function(e){return e})):(d=n("q"),l.q=void 0!==d?d:"",a=n("categoria"),l.requiredobjects=void 0!==a?"categories->id:"+a:"",o=n("marca"),void 0!==o&&this.agregarFiltro("attribute_marca",o,":"),c=n("precio-menor"),void 0!==c&&this.agregarFiltro("sale_price",c,">="),s=n("precio-mayor"),void 0!==s&&this.agregarFiltro("sale_price",s,"<="),i=r(),i>1&&this.setPagina(i),e(".anteanter_section #search").val(decodeURIComponent(l.q)),this.buscar(l.q).done(function(e){return e}))},a.buscar=function(a){return a=decodeURIComponent(a),l.q=void 0!==a?a:"iphone",console.log("Buscando ...",a),l.start<0&&(l.start=0),e.ajax({url:o,type:"GET",data:l,context:document.body}).done(function(e){return console.log(e),e}).fail(function(e){return console.log("Error de Red",e),e})},a.getParams_query=function(){return l},a.getRequiredfields=function(){return c},a.getProductosPorPagina=function(){return s},a.setPagina=function(e){return l.start=(e-1)*s},a.getPagina=function(){return l.start/s+1},a.setOrdenar=function(e){return l.sort=e},a.updateUrl=function(){var a,o,t,r,n,s,d,u,p,m,f,g,v;if(history.pushState){for(o=[],p="",v="",g="",s="",console.log("updateUrl requiredfields",c),o.push("q="+l.q),n=d=0,u=c.length;d<u;n=++d)f=c[n],"attribute_marca"===f.llave?(o.push("marca="+f.valor),p=f.valor):"sale_price"===f.llave&&">="===f.operador?(o.push("precio-menor="+f.valor),v=f.valor):"sale_price"===f.llave&&"<="===f.operador?(o.push("precio-mayor="+f.valor),g=f.valor):o.push(f.llave+"="+f.valor);t=new URLSearchParams(location.search),t.has("busquedaestricta")&&t.set("busquedaestricta",t.get("busquedaestricta")),l.requiredobjects.length>0&&(s=l.requiredobjects.replace("categories->id:",""),o.push("categoria="+s)),0===this.getPagina()?o.push(1):o.push(this.getPagina()),m=window.location.protocol+"//"+window.location.host+"/resultados/"+o.join("/");try{window.history.pushState({path:m},"",m),a={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Búsqueda",item:"https://www.claroshop.com/resultados"},{"@type":"ListItem",position:2,name:"palabraBuscada",item:"resultados/q="+l.q+"/"+i},{"@type":"ListItem",position:3,name:p,item:"resultados/q="+l.q+"/marca="+p+"/"+i},{"@type":"ListItem",position:4,name:s,item:"resultados/q="+l.q+"/marca="+p+"/categoria="+s+"/"+i},{"@type":"ListItem",position:5,name:"$"+v+" - $"+g,item:"resultados/q="+l.q+"/marca="+p+"/categoria="+s+"/precio-menor="+v+"/precio-mayor="+g+"/"+i}]},console.log("$breadcrumbList",a),e("#breadcrumbList").html(JSON.stringify(a))}catch(e){r=e,console.log("error =",r)}}},a.agregarFiltro=function(e,a,o){var t,r,n,i,s,d;for(console.log("llave, valor, operador",e,a,o),this.setPagina(0),t=c.filter(function(a){return a.llave===e&&a.operador===o}),0===t.length&&c.push({llave:e,valor:a,operador:o}),r="",n=i=0,s=c.length;i<s;n=++i)d=c[n],r+=d.llave+d.operador+d.valor+".";return""!==r&&(r=r.substring(0,r.length-1)),l.requiredfields=r,console.log("params_query.requiredfields",l.requiredfields)},a.agregarFiltroCategory=function(e){return this.setPagina(0),l.requiredobjects="categories->id:"+e},a.getFiltroCategory=function(){return l.requiredobjects},a.getAgregarFiltroCategory=function(){return l.requiredobjects.length>1?l.requiredobjects.replace("categories->id:",""):""},a.quitarFiltro=function(e){var a,o,t,r,n;for(this.setPagina(0),c=c.filter(function(a){return a.llave!==e}),console.log("quitar filtro",c),a="",o=t=0,r=c.length;t<r;o=++t)n=c[o],n.llave!==e&&(a+=n.llave+n.operador+n.valor+".");return""!==a&&(a=a.substring(0,a.length-1)),l.requiredfields=a},a.quitarFiltroCategory=function(){return this.setPagina(0),l.requiredobjects=""},t=function(e){var a,o,t,r;for(t=window.location.search.substring(1),r=t.split("&"),a=0;a<r.length;){if(o=r[a].split("="),decodeURIComponent(o[0])===e)return decodeURIComponent(o[1]);a++}console.log("Query variable %s not found",e)},n=function(e){var a,o,t,r;for(t=location.pathname,r=t.split("/"),a=0;a<r.length;){if(o=r[a].split("="),o[0]===e)return o[1];a++}console.log("Query variable %s not found",e)},r=function(){var e,a;return e=location.pathname,a=e.split("/"),i=a[a.length-1],i=isNaN(i)?1:i},a}(),o.AnteaterAPI=a}.call(this),function(){var e,a,o;o="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,jQuery,a="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},o.ModuleBuscador=a,e=function(){function e(){}var o,t,r;return t=[],o=[],e.push=function(e){var n;return t=e,o=a.AnteaterAPI,n=r(e),console.log("dataleyer",n),dataLayer.push(n)},r=function(e){var a,t,r,n,i,l,s,c,d,u,p,m,f,g,v,h,C;for(h=[],u=o.getPagina()+1,a=o.getProductosPorPagina(),r=n=0,l=e.length;n<l;r=++n)g=e[r],p=u>1?u*a+(r+1)-a:r+1,v={name:g.title,id:g.id,price:g.price,brand:g.attribute_marca,category:g.categories,list:"Resultados",position:p},h.push(v);for(c="",f="",m="",C=o.getRequiredfields(),r=i=0,s=C.length;i<s;r=++i)d=C[r],"attribute_marca"===d.llave?c=d.valor:"price"===d.llave&&">="===d.operador?f=d.valor:"price"===d.llave&&"<="===d.operador&&(m=d.valor);return t=o.getAgregarFiltroCategory(),d={event:"impressionsPushed",search_term_string:o.getParams_query().q,marca:c,categoria:t,precio_menor:f,precio_mayor:m,ecommerce:{currencyCode:"MXN",impressions:h}}},e.productClick=function(e){var a,r,n,i;return console.log("posicion=",e),console.log("productsGlobal=",t,t[1],t[e]),i=t[e],console.log("productObj=",i),r=o.getPagina(),a=o.getProductosPorPagina(),console.log("pagina productClick=",r,r>1),r>1?(n=r*a+(e+1)-a,console.log(n)):n=e+1,{event:"productClick",ecommerce:{click:{actionField:{list:"Resultados",products:[{name:i.title,id:i.id,price:i.price,brand:i.attribute_marca,category:i.categorias_leaf,position:n}]}}},eventCallback:function(){return document.location=base_path(NaN+i.id+"/"+i.title_seo)}}},e}(),a.DataLeyer=e}.call(this),function(){var e,a,o;o="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,jQuery,a="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},o.ModuleBuscador=a,e=function(){function e(){}var a;return a="https://resources.sears.com.mx",e.get=function(e){return console.log("Entrada img".urlImage),e=e.replace("https://medios-plazavip.sears.com.mx/",a+"/medios-plazavip/"),e=e.replace("http://medios-plazavip.sears.com.mx/",a+"/medios-plazavip/"),e=e.replace("https://imgsplaza.sears.com.mx/",a+"/imgsplaza-sears/"),e=e.replace("http://imgsplaza.sears.com.mx/",a+"/imgsplaza-sears/"),e=e.replace("http://imagenes.sanborns.com.mx/",a+"/imagenes-sanborns-ii/"),e=e.replace("https://imagenes.sanborns.com.mx/",a+"/imagenes-sanborns-ii/"),e=e.replace("http://medios.plazavip.com/",a+"/medios-plazavip/"),e=e.replace("https://medios.plazavip.com/",a+"/imedios-plazavip/"),e=e.replace("http://imagenes.claroshop.com/",a+"/imagenes-claroshop/"),e=e.replace("https://imagenes.claroshop.com/",a+"/imagenes-claroshop/"),e=e.replace("https://tienda.telmex.com/",a+"/tienda-telmex/"),e=e.replace("https://tienda.telmex.com/",a+"/tienda-telmex/"),e=e.replace("http://img.plazavip.com/",a+"/img-plazavip/"),e=e.replace("https://img.plazavip.com/",a+"/img-plazavip/"),e=e.replace("http://imgs.plazavip.com/",a+"/imgs-plazavip/"),e=e.replace("https://imgs.plazavip.com/",a+"/imgs-plazavip/"),console.log("Salida img ".urlImage),e},e}(),a.ImagenProxyTrait=e}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleBuscador&&null!==ModuleBuscador?ModuleBuscador:{},t.ModuleBuscador=o,
a=function(){function a(){}var t,r,n,i,l,s,c,d,u;return i=o.ImagenProxyTrait,a.cardProducts=function(a){var t,r;return t=o.DataLeyer,r=l(a),t.push(r),console.log(e(location).attr("href")),r.length>0?(e(".conent__productos .titleProductoCategoria, .conent__productos .contentProductsCategory ").show(),e(".conent__productos .contenedor-c").hide(),e("#og-image").attr("content",r[0].link),e("#og-url").attr("content",e(location).attr("href")),e("#canonical").attr("href",e(location).attr("href")),console.log("@cardProducts",r),e("#tpl-product").tmpl(r).appendTo("#products"),e("html, body").animate({scrollTop:0},600),e("#products .money").each(function(){var a,o;o=e(this).text(),a=s(o),e(this).text(a)})):(e(".conent__productos .titleProductoCategoria, .conent__productos .contentProductsCategory ").hide(),e(".conent__productos .contenedor-c").show())},a.filterBrand=function(a){var o;return o=r(a),e("#tpl-marca").tmpl(o).appendTo("#marcas dl"),e("#marcas").show()},a.filterCategory=function(a){var o;return o=n(a),e("#tpl-categoria").tmpl(o).appendTo("#categorias dl"),e("#categorias").show()},a.filterDiscounts=function(a){var o,t,r,n,i,l,s,c,d,p,m,f,g;if(void 0===a||0===a.length)return[];for(i=[10,25,50,75,99],n=[],s=c=0,p=a.length;c<p;s=++c)g=a[s],t=new Object,t.value=g.V,n.push(t);for(s=0,l=[];s<i.length-1;){for(console.log(i[s],i[s+1]),r=u(i[s],i[s+1]-1),o=d=0,m=n.length;d<m;o=++d)if(f=n[o],r.includes(parseInt(f.value))){console.log("Encontrado ... value=",f.value,r),console.log(l),t=new Object,t.value=i[s],l.push(t),console.log(l);break}s++}return console.log("discountAuxBaseMostrar == ",l),e("#discount dl").html(""),e("#tpl-discout").tmpl(l).appendTo("#discount dl")},u=function(e,a){var o,t;for(o=[],t=e;t<=a;)o.push(t),t++;return o},a.filterPrice=function(a){var o,t;return t=d(a),o=c(a),e("#sliderPrecios").slider("option","min",t),e("#sliderPrecios").slider("option","max",o),e("#sliderPrecios").slider("option","values",[t,o]),e("#precioMenor").val(t),e("#precioMayor").val(o),e("#precio").show()},a.resultsSearch=function(a,o,t){console.log("importante",t),e("#result").html(""),e("#tpl-result").tmpl([{palabra:decodeURIComponent(o),suggestion:t}]).appendTo("#result"),e("#resultadoBusqueda").html(a.concat(" productos encontrados."))},l=function(e){var a,o,t,r,n,l,s,c,d,u,p;if(console.log(e),d=[],void 0===e||0===e.length)return[];for(o=t=0,l=e.length;t<l;o=++t){for(a=e[o],c=new Object,c.key=o,u=a.MT,n=r=0,s=u.length;r<s;n=++r)p=u[n],"link_thumbnail"===p.N?c[p.N]=i.get(p.V):c[p.N]=p.V;c.hasOwnProperty("solo_tienda")||(c.solo_tienda="0"),d.push(c)}return d},s=function(e){var a;return a=e.toString().split("."),a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")},r=function(e){var a,o,r,n,i,l;if(l=[],void 0===e||0===e.length)return[];for(o=r=0,n=e.length;r<n;o=++r)a=e[o],a.V.length>0&&a.V.trim().length&&(i=new Object,i.name=a.V.trim().toUpperCase(),l.push(i));return l=[].concat(t(new Map(l.map(function(e){return[JSON.stringify(e),e]})).values()))},n=function(e){var a,o,r,n,i,l;if(o=[],void 0===e||0===e.length)return[];for(n=i=0,l=e.length;i<l;n=++i)r=e[n],r.name.length>0&&r.name.trim().length&&"null"!==r.id&&(a=new Object,a.name=r.name,a.id_categoria=r.id,void 0===o.find(function(e){return e.id_categoria===r.id})&&o.push(a));return o=[].concat(t(new Map(o.map(function(e){return[JSON.stringify(e),e]})).values()))},t=function(e){var a,o;if(Array.isArray(e)){for(o=0,a=Array(e.length);o<e.length;)a[o]=e[o],o++;return a}return Array.from(e)},c=function(e){var a,o,t,r,n;if(void 0===e||0===e.length)return 1;for(n=[],o=t=0,r=e.length;t<r;o=++t)a=e[o],n.push(a.MAX);return Math.max.apply(null,n)},d=function(e){var a,o,t,r,n;if(void 0===e||0===e.length)return 0;for(n=[],o=t=0,r=e.length;t<r;o=++t)a=e[o],n.push(a.MIN);return Math.min.apply(null,n)},a}(),o.Render=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},_ModuleValida="undefined"!=typeof ModuleValida&&null!==ModuleValida?ModuleValida:{},_ModuleDatalayer="undefined"!=typeof ModuleDatalayer&&null!==ModuleDatalayer?ModuleDatalayer:{},t.ModuleCaja=o,a=function(){function a(){}var o=null;return a.init=function(){activaBarra(),e("#activarDir").click(activar),e(".dirElementHead").click(toggleDireccion),e(".establecerPrede").click(establecerPrede),e(".trashIcn").click(eliminarDir),e("#removeDir").click(eliminarDirAcepto),e(".editIcn").click(editarDireccion),e("#editarDireccion").click(editarDirAcepto),e(".colapse").click(agregaDir),e(".ValidateCP").click(obtenerCP),e(".continuar").click(seleccionaDir),e(".agregarEstablecer").click(agregaEstablecido),e("#obtenerDirecciones").click(obtenerDir),e(".ingresaData").click(hideDireccion),e("#colonia").change(removeColonia),e("#municipio").change(removeMunicipio)},activaBarra=function(){1==e("#flagDir").val()?(e(".emidata2").addClass("headIngresa"),e(".emidata3").removeClass("colapse").addClass("ingresaData").addClass("active").addClass("plusActive"),e(".dataTitle").html("Ingresa tus datos"),e(".cell-loading2").removeClass("llenarBarra"),e(".dp1").removeClass("dotPalomita"),e(".pagoElement").addClass("desactivado2")):(e(".emidata2").removeClass("headIngresa"),e(".emidata3").addClass("colapse").removeClass("ingresaData").removeClass("active").removeClass("plusActive"),e(".dataTitle").html("Agregar dirección"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"))},hideDireccion=function(){e(".mostrarDet").hasClass("activeAdress")?(e(".mostrarDet").slideDown("fast").removeClass("activeAdress"),e(".ingresaData").removeClass("desplegado").addClass("active").addClass("plusActive")):(e(".mostrarDet").slideUp("fast").addClass("activeAdress"),e(".ingresaData").removeClass("active").removeClass("plusActive").addClass("desplegado"))},activar=function(){e(".dirElement, .dirElement2").removeClass("desactivado"),e(".pagoElement").addClass("desactivado2"),e(".cell-loading2").removeClass("llenarBarra"),e(".dp1").removeClass("dotPalomita")},toggleDireccion=function(a){a.preventDefault(),e(".dirElementHead").removeClass("active"),e(this).addClass("active"),e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegableIn, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){})},establecerPrede=function(a){a.preventDefault(),console.log(a.target);var o=e(a.target).data("id");loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/direccionPredeterminada",type:"POST",dataType:"json",cache:!1,data:{id:o},success:function(o){console.log(o.estatus),o.estatus&&(e("body").off("click",".establecerPrede"),e(".dirElementHead").removeClass("active"),e(a.target).parent().addClass("active"),e(".estrellaDirPredeterminada").html("Establecer como predeterminada").addClass("establecerPrede").removeClass("activo"),e(a.target).html("Dirección predeterminada").removeClass("establecerPrede").addClass("activo"),e(".dirElementDetalle").css("display","none"),e(".establecerPrede").click(establecerPrede),loading(!1))},error:function(e,a,o){console.log("Ocurrió un error al seleccionar una direccion predeterminada"),loading(!1)}})},eliminarDir=function(a){e(".trashIcn").fancybox({titlePosition:"inside",transitionIn:"none",transitionOut:"none"});var t=e(a.target).data("id");o=e(a.target),e("#eliminarDireccionid").val(t)},eliminarDirAcepto=function(){loading(!0);var a=e("#eliminarDireccionid").val();e.fancybox.close(),e.ajax({url:"/caja/direccion-envio/procesos/elimina",type:"POST",dataType:"json",cache:!1,data:{id:a},success:function(e){console.log(e.estatus),e.estatus&&obtenerDir(e.idDir).done(function(a){seleccionaDirAjax(e.idDir).done(function(){o.parents("div.dirElement").remove(),recalcular(e.cp),loading(!1)})})},error:function(e,a,o){console.log("Ocurrió un error al tratar de eliminar una direccion"),loading(!1)}})},editarDireccion=function(a){a.preventDefault();var o=e(a.target).data("id");e(".dataTitle").html("Confirma dirección"),loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/obtenerDireccionAjax",type:"POST",dataType:"json",cache:!1,data:{iddir:o},beforeSend:function(){},success:function(a){var o=a.tipolocacion,t=a.pisono,r=a.usabilidad,n=a.esregalo;e(".emidata2").removeClass("desactivado"),e("#idDir").val(a.id),e("#nombre").val(a.nombre),e("#apellidopaterno").val(a.apellidopaterno),e("#apellidomaterno").val(a.apellidomaterno),e("#telefono").val(a.telefono),e("#direccion").val(a.calle),e("#cpostal").val(a.codigoPostal),e("#num_ext").val(a.numeroExterior),e("#num_int").val(a.numeroInterior),e("#entreCalles").val(a.entre_calles1),e("#entreCalles2").val(a.entre_calles2),e("#observaciones").val(a.referencias),e("#estado").val(a.estado),e("#estado").removeAttr("disabled");var i="<option value='"+a.municipio+"'>"+a.municipio+"</option>";e("#municipio").html(""),e("#municipio").html(i),e("#municipio").removeAttr("disabled");var l="<option value='"+a.colonia+"'>"+a.colonia+"</option>";e("#colonia").html(""),e("#colonia").html(l),e("#colonia").removeAttr("disabled"),e("#ciudad").val(a.ciudad),"1"==a.accesibilidad?(e(".agregarEstablecer").hide(),e("#predeterminada").val("1")):e(".agregarEstablecer").show(),e(".colapse").hasClass("plus2")?(e(".colapseCol").slideUp("fast"),e(".mostrarDet").slideDown("fast"),e(".quitdata").fadeOut(),e(".ocultarDireccion").fadeOut(),e(".editmydata1").fadeIn(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").removeClass("plus2"),e(".colapse").addClass("active"),e(".colapse").addClass("plusActive")):(e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive")),e("#personaautorizada").val(a.personaautorizada),e("#mensaje").val(a.mensajeregalo),e("input[name=entregaen][value="+o+"]").prop("checked",!0),e("input[name=nivel][value="+t+"]").prop("checked",!0),e("input[name=usabilidad][value="+r+"]").prop("checked",!0),!0===n?e("#esregalo").prop("checked",!0):e("#esregalo").prop("checked",!1),loading(!1)},error:function(e,a,o){console.log("Ocurrió un error al agregar el producto a tu lista de deseos."),loading(!1)}})},editarDirAcepto=function(){if(resValidar=ModuleValida.ValidaFormulario.validaFormulario("agregarDireccion"),resValidar){var a=e("#agregarDireccion").serializeObject();return a.id_dir=a.idDir,a.celular=a.telefono,a.ajax=1,loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/agregar",type:"POST",dataType:"json",cache:!1,data:a,success:function(o){console.log(o),o.estatus?obtenerDir(o.dir).done(function(t){ModuleDatalayer.Eventos.setCheckoutStep2(),seleccionaDirAjax(o.dir).done(function(){e("html, body").animate({scrollTop:e(".colapseCol").offset().top-700},2e3),e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegableIn, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){}),e(".pagoElement").removeClass("desactivado2"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"),recalcular(a.cpostal),loading(!1),ModuleLocalStorage.LocalStorage.clearData("lsDireccion"),ModuleLocalStorage.LocalStorage.clearData("lsDirecciones")})}):(e("#errorCP").html(o.error).show(),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),loading(!1))},error:function(e,a,o){console.log("Ocurrió un error al agregar al guardar o editar tu direccion."),loading(!1)}})}},agregaDir=function(){e(".dataTitle").html("Ingresa tus datos"),document.getElementById("agregarDireccion").reset(),e("#idDir").val(""),e(".colapse").hasClass("plus2")?(e(".colapseCol").slideUp("fast"),e(".mostrarDet").slideDown("fast"),e(".quitdata").fadeOut(),e(".ocultarDireccion").fadeOut(),e(".editmydata1").fadeIn(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").removeClass("plus2"),e(".colapse").addClass("active"),e(".colapse").addClass("plusActive")):(e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive"))},obtenerCP=function(){e("#errorCP").html("").hide();var a=e("#cpostal").val();if(loading(!0),!parseInt(a)||5!==a.length)return e("#cpostal").addClass("error"),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),void loading(!1);e("#cpostal").removeClass("error"),e.ajax({url:"/sepomex/"+a,type:"POST",dataType:"json",cache:!1,success:function(a){console.log(a),a.estatus?obtenerCosto().done(function(o){e("#costoEnvio").html(parseFloat(o.costo).toFixed(2)),e(".cajaFiltrosResponsiva-pago").addClass("bajo"),e("html, body").animate({scrollTop:e(".numExteriorInterior").offset().top+400},500),document.getElementById("estado").value=a.datacp.estado.d_estado,document.getElementById("ciudad").value=a.datacp.ciudad.d_ciudad,e("#coloniaContainer span").remove(""),e("#colonia").remove(),a.datacp.colonia.length>0&&(e("body").off("change","#colonia"),opciones="",e("#coloniaContainer").append("<span><select name='colonia' id='colonia' class='selectGris' required='required'></select></span>"),e.each(a.datacp.colonia,function(e,a){opciones+="<option value='"+a.d_asenta+"'>"+a.d_asenta+"</option>"}),opciones+="<option value='none'> Me gustaría escribirla por mi mismo.</option>",e("#colonia").html(""),e("#colonia").html(opciones),e("#colonia").change(removeColonia)),e("#municipioContainer span").remove(""),e("#municipio").remove(),a.datacp.municipios.length>0&&(e("body").off("change","#municipio"),opciones="",e("#municipioContainer").append("<span><select name='municipio' id='municipio' class='selectGris' required='required'></select></span>"),e.each(a.datacp.municipios,function(e,a){opciones+="<option value='"+a.d_mnpio+"'>"+a.d_mnpio+"</option>"}),opciones+="<option value='none'> Me gustaría escribirla por mi mismo.</option>",e("#municipio").html(""),e("#municipio").html(opciones),e("#municipio").change(removeMunicipio)),e(".AvisoCostodeEnvio").show(),e(".dirHide").show(),loading(!1)}):(e("#errorCP").html(a.error).show(),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),loading(!1))}})},obtenerCosto=function(){var a=e("#cpostal").val();return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/obtenerCostoEnvio",type:"POST",dataType:"json",cache:!1,data:{cp:a}})},removeColonia=function(){colonia=e("#colonia").val();var a,o;"none"==colonia&&(a=e("#colonia").parent(),o=a.parent(),a.remove(),o.append("<input type='text' name='colonia' id='colonia' value='' class='cajaTextoGris' required/>"))},removeMunicipio=function(){municipio=e("#municipio").val();var a,o;"none"==municipio&&(a=e("#municipio").parent(),o=a.parent(),a.remove(),o.append("<input type='text' name='municipio' id='municipio' value='' class='cajaTextoGris' required/>"))},seleccionaDirAjax=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/seleccionaNuevaDir",type:"POST",dataType:"json",cache:!1,data:{idDireccion:a}})},seleccionaDir=function(a){a.preventDefault();var o=e(a.target).data("id");console.log(o),loading(!0),seleccionaDirAjax(o).done(function(o){console.log(o),o.status&&(ModuleDatalayer.Eventos.setCheckoutStep2(),a.preventDefault(),loading(!1),recalcular(),e("html, body").animate({scrollTop:e(".colapseCol").offset().top-700},2e3),e(".detalleDesplegable").not(e(this).next(".detalleDesplegable")).slideUp().prev(".desplegableIn, .continuar").removeClass("desplegado"),e(this).next(".detalleDesplegable").stop().slideToggle("fast",function(){}),e(".pagoElement").removeClass("desactivado2"),e(".dirElement, .dirElement2").addClass("desactivado").css("order","0"),e(a.target).parents().addClass("desactivado").css("order","-1"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"))}).fail(function(){console.log("Ocurrió un error al agregar el producto a tu lista de deseos."),loading(!1)})},agregaEstablecido=function(){e("#idDir").val();e(this).hasClass("activo")?(e(this).removeClass("activo"),e("#predeterminada").val("0")):(e(this).addClass("activo"),e("#predeterminada").val("1"))},obtenerDir=function(a){return loading(!0),e.ajax({url:"/caja/direccion-envio/procesos/obtenerDirecciones",type:"POST",dataType:"json",success:function(o){e("body").off("click",".dirElementHead, .establecerPrede, .continuar, .trashIcn, .editIcn, .ingresaData, #removeDir, .colapse"),console.log(o);var t="";for(0==o.length?(e(".emidata2").addClass("headIngresa"),e(".emidata3").removeClass("colapse").addClass("ingresaData").addClass("active").addClass("plusActive"),e(".dataTitle").html("Ingresa tus datos"),e(".cell-loading2").removeClass("llenarBarra"),e(".dp1").removeClass("dotPalomita"),e(".pagoElement").addClass("desactivado2"),e(".emidata2").css("display","block"),e(".mostrarDet").css("display","block"),e(".headIngresa").removeClass("desactivado"),e(".emidata4").css("display","none"),e(".ingresaData").click(hideDireccion)):1==o.length?(e("body").off("click",".ingresaData"),e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"),e(".colapse").css("display","block"),e(".emidata2").removeClass("headIngresa"),e(".emidata3").addClass("colapse").removeClass("ingresaData").removeClass("active").removeClass("plusActive"),e(".dataTitle").html("Agregar dirección"),e(".pagoElement").removeClass("desactivado2"),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),e(".dirElement2").addClass("desactivado"),e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive")):(e(".cell-loading2").addClass("llenarBarra"),e(".dp1").addClass("dotPalomita"),e(".pagoElement").removeClass("desactivado2"),e(".AvisoCostodeEnvio").hide(),e(".dirHide").hide(),e(".dirElement2").addClass("desactivado"),e(".colapseCol").slideDown("fast"),e(".mostrarDet").slideUp("fast"),e(".quitdata").fadeIn(),e(".ocultarDireccion").fadeIn(),e(".editmydata1").fadeOut(),e("html, body").animate({scrollTop:e("#ancla1").offset().top-30},700),e(".colapse").addClass("plus2"),e(".colapse").removeClass("active"),e(".colapse").removeClass("plusActive")),i=0;i<o.length;i++){if(0==a)var r=o[i].accesibilidad,n="1";else var r=o[i].id,n=a;r==n?(t+='<div class="dirElement quitdata remove desactivado" style="order:-1;">',t+='<div id="activo" class="dirElementHead active desplegableIn">'):(t+='<div class="dirElement quitdata remove desactivado mostrarDirs" style="order:0;">',t+='<div class="dirElementHead desplegableIn">'),t+='<h4 class="recibe_nombre2">'+o[i].nombre+" "+o[i].apellidopaterno+" "+o[i].apellidomaterno+"</h4>",t+='<span class="recibe_direccion2">'+o[i].calle+"</span>","1"==o[i].accesibilidad?t+='<span class="estrellaDirPredeterminada activo" data-id="'+o[i].id+'">Dirección predeterminada</span>':t+='<span class="estrellaDirPredeterminada establecerPrede" data-id="'+o[i].id+'">Establecer como predeterminada</span>',t+="</div>",t+='<div style="display: none;" class="dirElementDetalle detalleDesplegable">',t+="<p>"+o[i].calle+"<br>"+o[i].colonia+", CP "+o[i].codigoPostal+"<br>"+o[i].municipio+", "+o[i].pais+"</p>",t+='<ul class="IconsEdit IEd-loc"><li><a rel="nofollow" href="#modal-vistaRapida" class="trashIcn" data-id="'+o[i].id+'"></a></li>',t+='<li class="editIcn displaydata2" data-id="'+o[i].id+'"></li></ul>',t+='<button class="continuar" data-id="'+o[i].id+'">Seleccionar y continuar</button>',t+="</div></div>"}document.getElementById("agregarDireccion").reset(),e(".agregarEstablecer").show(),e(".colapseCol").html(t),e(".dirElementHead").click(toggleDireccion),e(".establecerPrede").click(establecerPrede),e(".continuar").click(seleccionaDir),e(".trashIcn").click(eliminarDir),e(".editIcn").click(editarDireccion),console.log(t),loading(!1)},error:function(e,a,o){console.log("Ocurrió un error al agregar el producto a tu lista de deseos."),loading(!1)}})},loading=function(a){switch(a){case!0:if(0===e(".oneMomentPlease").length)return e('<div class="oneMomentPlease"><span class="fa fa-pulse"></span></div>').insertAfter("footer");break;case!1:return e(".oneMomentPlease").remove()}},a}(),o.DireccionesEnvio=a}.call(this),function(){var e,a,o,t;t="undefined"!=typeof exports&&null!==exports?exports:"undefined"!=typeof window&&null!==window?window:this,e=jQuery,o="undefined"!=typeof ModuleCaja&&null!==ModuleCaja?ModuleCaja:{},t.ModuleCaja=o,a=function(){function a(){}return a.init=function(){},repintar=function(a){e(".costo_entrega").text("$"+a.costoEnvio.toFixed(2)),e("#subtotal").text("$"+a.subtotal.toFixed(2)),e("#total").text("$"+a.total.toFixed(2));for(var o=0;o<a.grupos.length;o++)e("#costoGrupo"+o).text("$"+a.grupos[o].costoTotalGrupo.toFixed(2));1!=a.mesaRegalos&&(y=0,e.each(a.productos,function(o){console.log("Fecha estimada de entrega:"+a.productos[o].tiempoEntrega.fechaEntrega),e("#fechaEstimada"+y).text("Fecha estimada de entrega:"+a.productos[o].tiempoEntrega.fechaEntrega),y++}),e(".tiempoEntregaMasAlto").text(a.tiempoEntregaMasAlto)),e("#descuentoFpago").text("-$"+a.descuentoFpago.toFixed(2)),0!=a.descuentoCupon?e("#val-cupon").html("<div>-$"+a.descuentoCupon.toFixed(2)+"</div>"):e("#val-cupon").html("")},recalcular=function(a,o,t,r){return o&&(o=o.substring(0,6)),loading(!0),e.ajax({url:"/caja/recalcular/",dataType:"json",cache:!1,type:"POST",data:{idform:a,bim:o,planPago:t,idPromo:r},success:function(e){console.log(e),repintar(e),loading(!1)},error:function(e){console.log("error"+e),loading(!1)}})},a.recalcular=recalcular,a}(),o.ResumenCompra=a}.call(this);